import{r as a,c as e,a as s,o,b as t,d as i,e as n,t as l,f as r,F as c,p as d,g as u,u as f,h as m,n as p,i as x,j as g,k as h,D as b,V as v,L as y,X as w,l as M,m as C,q as k,s as S,v as P,w as z,x as D,y as I,z as F,A,B as U,C as j,E as G,G as R,H as O,I as E,J as N,K as q,M as B,N as T,O as V,P as L,Q as H}from"./vendor.9e89140d.js";!function(){const a=document.createElement("link").relList;if(!(a&&a.supports&&a.supports("modulepreload"))){for(const a of document.querySelectorAll('link[rel="modulepreload"]'))e(a);new MutationObserver((a=>{for(const s of a)if("childList"===s.type)for(const a of s.addedNodes)"LINK"===a.tagName&&"modulepreload"===a.rel&&e(a)})).observe(document,{childList:!0,subtree:!0})}function e(a){if(a.ep)return;a.ep=!0;const e=function(a){const e={};return a.integrity&&(e.integrity=a.integrity),a.referrerpolicy&&(e.referrerPolicy=a.referrerpolicy),"use-credentials"===a.crossorigin?e.credentials="include":"anonymous"===a.crossorigin?e.credentials="omit":e.credentials="same-origin",e}(a);fetch(a.href,e)}}();const _={};_.render=function(t,i){const n=a("router-view");return o(),e("div",null,[s(n)])};const J={name:"Iconos",props:{icono:{type:String,default:""}}},$={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},X=[i("path",{d:"M12 19V6M5 12l7-7 7 7"},null,-1)],K={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Z=[i("path",{d:"M12 5v13M5 12l7 7 7-7"},null,-1)],W={key:2,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Y=[i("path",{d:"M19 12H6M12 5l-7 7 7 7"},null,-1)],Q={key:3,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},aa=[i("path",{d:"M5 12h13M12 5l7 7-7 7"},null,-1)],ea={key:4,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},sa=[i("path",{d:"M17 17L7.8 7.7M7 17V7h10"},null,-1)],oa={key:5,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ta=[i("path",{d:"M7 17l9.2-9.2M17 17V7H7"},null,-1)],ia={key:6,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},na=[i("path",{d:"M17 7l-9.2 9.2M7 7v10h10"},null,-1)],la={key:7,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ra=[i("line",{x1:"3",y1:"12",x2:"21",y2:"12"},null,-1),i("line",{x1:"3",y1:"6",x2:"21",y2:"6"},null,-1),i("line",{x1:"3",y1:"18",x2:"21",y2:"18"},null,-1)],ca={key:8,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},da=[i("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),i("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1)],ua={key:9,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},fa=[i("path",{d:"M9 18l6-6-6-6"},null,-1)],ma={key:10,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},pa=[i("rect",{x:"3",y:"3",width:"7",height:"7"},null,-1),i("rect",{x:"14",y:"3",width:"7",height:"7"},null,-1),i("rect",{x:"14",y:"14",width:"7",height:"7"},null,-1),i("rect",{x:"3",y:"14",width:"7",height:"7"},null,-1)],xa={key:11,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ga=[i("line",{x1:"12",y1:"5",x2:"12",y2:"19"},null,-1),i("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1)],ha={key:12,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ba=[i("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},null,-1),i("line",{x1:"16",y1:"2",x2:"16",y2:"6"},null,-1),i("line",{x1:"8",y1:"2",x2:"8",y2:"6"},null,-1),i("line",{x1:"3",y1:"10",x2:"21",y2:"10"},null,-1)],va={key:13,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ya=[i("polyline",{points:"9 11 12 14 22 4"},null,-1),i("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},null,-1)],wa={key:14,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Ma=[n('<line x1="12" y1="2" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="22"></line><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line><line x1="2" y1="12" x2="6" y2="12"></line><line x1="18" y1="12" x2="22" y2="12"></line><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line>',8)],Ca={key:15,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ka=[i("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},null,-1),i("line",{x1:"12",y1:"9",x2:"12",y2:"13"},null,-1),i("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"},null,-1)];J.render=function(a,s,i,n,l,r){return o(),e("div",null,["arrow-up"===i.icono?(o(),e("svg",$,X)):t("",!0),"arrow-down"===i.icono?(o(),e("svg",K,Z)):t("",!0),"arrow-left"===i.icono?(o(),e("svg",W,Y)):t("",!0),"arrow-right"===i.icono?(o(),e("svg",Q,aa)):t("",!0),"arrow-up-left"===i.icono?(o(),e("svg",ea,sa)):t("",!0),"arrow-up-right"===i.icono?(o(),e("svg",oa,ta)):t("",!0),"arrow-down-left"===i.icono?(o(),e("svg",ia,na)):t("",!0),"menu"===i.icono?(o(),e("svg",la,ra)):t("",!0),"x"===i.icono?(o(),e("svg",ca,da)):t("",!0),"chevron-right"===i.icono?(o(),e("svg",ua,fa)):t("",!0),"grid"===i.icono?(o(),e("svg",ma,pa)):t("",!0),"plus"===i.icono?(o(),e("svg",xa,ga)):t("",!0),"calendar"===i.icono?(o(),e("svg",ha,ba)):t("",!0),"check-square"===i.icono?(o(),e("svg",va,ya)):t("",!0),"loader"===i.icono?(o(),e("svg",wa,Ma)):t("",!0),"alert-triangle"===i.icono?(o(),e("svg",Ca,ka)):t("",!0)])};const Sa={components:{Iconos:J},props:{visualizar:{type:Boolean,default:!1},creadas:{type:Number,required:!0,default:0},ranproceso:{type:Number,required:!0,default:0},ranfinalizado:{type:Number,required:!0,default:0},proceso:{type:Number,required:!0,default:0},finalizado:{type:Number,required:!0,default:0},acumulado:{type:Number,required:!0,default:0},ranacumulado:{type:Number,required:!0,default:0},mediaHoras:{type:[String,Number],required:!0,default:0},ratioCredas:{type:[String,Number],required:!0,default:0},ratioFinalizadas:{type:[String,Number],required:!0,default:0}},setup:()=>({})},Pa={key:0,class:"animate-pulse py-4 flex flex-row flex-wrap items-center justify-evenly rounded-lg bg-white px-2 divide-x divide-gris-30 w-full md:w-7/12"},za=[n('<div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div>',7)],Da={key:1,class:"flex flex-row flex-wrap items-center justify-evenly rounded-lg bg-white px-2 divide-x divide-gris-30 w-full md:w-7/12"},Ia={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},Fa={class:"w-7 h-7 bg-blue-100 text-blue-400 rounded-full flex items-center justify-center"},Aa={class:"text-3xl font-semibold"},Ua=i("h2",{class:"text-sm text-gray-500"},"Creadas",-1),ja={class:"text-xxs leading-snug text-gray-500"},Ga=r(" Ratio "),Ra={class:"font-bold"},Oa={class:"text-xxs leading-snug text-gray-500"},Ea=r(" Media t. "),Na={class:"font-bold"},qa={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},Ba={class:"w-7 h-7 bg-yellow-100 text-yellow-400 rounded-full flex items-center justify-center"},Ta={class:"text-3xl font-semibold"},Va=i("h2",{class:"text-sm text-gray-500"},"En proceso",-1),La={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},Ha={class:"w-7 h-7 bg-green-100 text-green-400 rounded-full flex items-center justify-center"},_a={class:"text-3xl font-semibold"},Ja=i("h2",{class:"text-sm text-gray-500"},"Solucionadas",-1),$a={class:"text-xxs leading-snug text-gray-500"},Xa=r(" Ratio "),Ka={class:"font-bold"},Za={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},Wa={class:"w-7 h-7 bg-purple-100 text-purple-400 rounded-full flex items-center justify-center"},Ya={class:"text-3xl font-semibold"},Qa=i("h2",{class:"text-sm text-gray-500"},"Acumulado",-1),ae=i("h2",{class:"text-xxs leading-none text-gray-500"},[r(" del "),i("span",{class:"font-bold"},"1 ENE 2021"),r(" a la fecha ")],-1),ee={class:"w-36 h-36 flex flex-col items-center justify-center px-2"},se={class:"w-16 h-16 rounded-full ring ring-yellow-100 bg-yellow-400 border-4 mb-2 border-yellow-200 flex flex-col items-center justify-center"},oe={class:"text-2xl leading-none text-white font-semibold"},te=i("span",{class:"text-sm"},"/8",-1),ie=i("h2",{class:"text-xxs text-gray-500"},"Ranking America",-1),ne=i("h2",{class:"text-xxs leading-none uppercase text-gray-500 font-bold"}," incidencias Creadas ",-1),le={class:"w-36 h-36 flex flex-col items-center justify-center px-2"},re={class:"w-16 h-16 rounded-full ring ring-green-100 bg-green-400 border-4 mb-2 border-green-200 flex flex-col items-center justify-center"},ce={class:"text-2xl leading-none text-white font-semibold"},de=i("span",{class:"text-sm"},"/8",-1),ue=i("h2",{class:"text-xxs text-gray-500"},"Ranking America",-1),fe=i("h2",{class:"text-xxs leading-none uppercase text-gray-500 font-bold"}," Incidencias Finalizadas ",-1),me={class:"w-36 h-36 flex flex-col items-center justify-center px-2"},pe={class:"w-16 h-16 rounded-full ring ring-purple-100 bg-purple-400 border-4 mb-2 border-purple-200 flex flex-col items-center justify-center"},xe={class:"text-2xl leading-none text-white font-semibold"},ge=i("span",{class:"text-sm"},"/8",-1),he=i("h2",{class:"text-xxs text-gray-500"},"Ranking America",-1),be=i("h2",{class:"text-xxs leading-none uppercase text-gray-500 font-bold text-center"}," incidencias acumuladas ",-1);Sa.render=function(n,d,u,f,m,p){const x=a("iconos");return o(),e(c,null,[u.visualizar?(o(),e("div",Pa,za)):t("",!0),u.visualizar?t("",!0):(o(),e("div",Da,[i("div",Ia,[i("div",Fa,[s(x,{icono:"plus",class:"w-4"})]),i("h1",Aa,l(u.creadas),1),Ua,i("h2",ja,[Ga,i("span",Ra,l(u.ratioCredas),1)]),i("h2",Oa,[Ea,i("span",Na,l(u.mediaHoras)+" H",1)])]),i("div",qa,[i("div",Ba,[s(x,{icono:"loader",class:"w-4"})]),i("h1",Ta,l(u.proceso),1),Va]),i("div",La,[i("div",Ha,[s(x,{icono:"check-square",class:"w-4"})]),i("h1",_a,l(u.finalizado),1),Ja,i("h2",$a,[Xa,i("span",Ka,l(u.ratioFinalizadas),1)])]),i("div",Za,[i("div",Wa,[s(x,{icono:"alert-triangle",class:"w-4"})]),i("h1",Ya,l(u.acumulado),1),Qa,ae]),i("div",ee,[i("div",se,[i("h1",oe,[r(l(u.ranproceso),1),te])]),ie,ne]),i("div",le,[i("div",re,[i("h1",ce,[r(l(u.ranfinalizado),1),de])]),ue,fe]),i("div",me,[i("div",pe,[i("h1",xe,[r(l(u.ranacumulado),1),ge])]),he,be])]))],64)};const ve={props:{visualizar:{type:Boolean,default:!1,require:!0},texto:{type:String,default:"NoText"},color:{type:String,default:"#000000"},color2:{type:String,default:"#edf2f7"},"tamaño":{type:String,default:"12em"},porcentaje:{type:Number,default:0}},setup:()=>({})},ye=()=>{f((a=>({"54300d4c":a.tamaño,"8caadf2c":a.color2,a9b2ee70:a.color})))},we=ve.setup;ve.setup=we?(a,e)=>(ye(),we(a,e)):ye;const Me=ve;d("data-v-13c5b652");const Ce={key:0,class:"flex flex-row items-center justify-center relative animate-pulse border-8 rounded-full w-44 h-44 flex-none"},ke=[i("div",{class:"absolute flex flex-col items-center justify-center"},[i("h1",{class:"percentage leading-none mt-1 font-bold text-xs bg-gray-200 text-transparent mb-1"}," TOTAL "),i("h1",{class:"percentage leading-none font-bold text-sm uppercase bg-gray-200 text-transparent"}," xxxxxxx "),i("h1",{class:"percentage leading-none mt-1 font-bold bg-gray-200 text-transparent"}," xxxxxxx ")],-1)],Se={key:1,class:"single-chart flex flex-row items-center justify-center relative"},Pe={viewBox:"0 0 36 36",class:"circular-chart orange"},ze=i("path",{class:"circle-bg",d:"M18 2.0845\r\n          a 15.9155 15.9155 0 0 1 0 31.831\r\n          a 15.9155 15.9155 0 0 1 0 -31.831"},null,-1),De=["stroke-dasharray"],Ie={class:"absolute flex flex-col items-center justify-center"},Fe=i("h1",{class:"percentage leading-none mt-1 font-bold text-xs"},"TOTAL",-1),Ae={class:"percentage leading-none font-bold text-sm uppercase"},Ue={class:"percentage leading-none text-gray-500 mt-1 font-bold"};u(),Me.render=function(a,s,n,r,d,u){return o(),e(c,null,[n.visualizar?(o(),e("div",Ce,ke)):t("",!0),n.visualizar?t("",!0):(o(),e("div",Se,[(o(),e("svg",Pe,[ze,i("path",{class:"circle","stroke-dasharray":[n.porcentaje,100],d:"M18 2.0845\r\n          a 15.9155 15.9155 0 0 1 0 31.831\r\n          a 15.9155 15.9155 0 0 1 0 -31.831"},null,8,De)])),i("div",Ie,[Fe,i("h1",Ae,l(n.texto),1),i("h1",Ue,l(n.porcentaje)+"% ",1)])]))],64)},Me.__scopeId="data-v-13c5b652";const je={name:"GraficoBarrasCss",props:{visualizar:{type:Boolean,default:!1},seccion:{type:String,required:!0,default:"###"},creadas:{type:Number,required:!0,default:0},finalizadas:{type:Number,required:!0,default:0},color1:{type:String,required:!0,default:"#edf2f7"},color2:{type:String,required:!0,default:"#89bcfb"},vs:{type:Boolean,required:!0,default:!1},rotarTexto:{type:Boolean,default:!1}},setup(a){const e=m(Math.round(100/a.creadas*a.finalizadas));e.value>100&&(e.value=100);const s=m(a.creadas);return a.creadas>0&&a.vs&&(s.value=a.creadas-a.finalizadas),{porcentaje:e,creadasX:s}}},Ge=()=>{f((a=>({48168232:a.color1,48168233:a.color2,"7e462aef":a.porcentaje+"%"})))},Re=je.setup;je.setup=Re?(a,e)=>(Ge(),Re(a,e)):Ge;const Oe=je;d("data-v-380a80ff");const Ee={class:"h-44 flex justify-center items-end hover:shadow-lg principal"},Ne={class:"text-xs font-normal text-white mb-2"},qe={class:"xx hidden absolute -left-16 -top-1.5 bg-black text-white rounded px-2 w-auto text-xs asbolute"};u(),Oe.render=function(a,s,n,r,c,d){return n.visualizar?t("",!0):(o(),e("div",{key:0,class:p({"flex flex-col items-center chart cursor-pointer w-10":!n.rotarTexto,"flex flex-col items-center chart cursor-pointer w-12 relative h-72":n.rotarTexto})},[i("div",Ee,[i("div",{class:p(["flex justify-center items-end relative",{secundario:n.creadas>0}])},[i("h1",Ne,l(r.porcentaje>0?r.porcentaje:0)+" % ",1),i("div",qe,l(n.finalizadas)+" - "+l(r.creadasX),1)],2)]),i("div",{class:p({"font-bold text-gray-500 flex items-center justify-center text-sm uppercase":!n.rotarTexto,"transform rotate-90 flex items-center mb-4 font-bold text-gray-500 text-xxs md:text-xs uppercase bottom-2":n.rotarTexto})},[i("h1",{class:p({"absolute left-1":n.rotarTexto})},l(n.seccion),3)],2)],2))},Oe.__scopeId="data-v-380a80ff";x(g);const Be={name:"Graficotest",props:{arrayGrafica:{type:Object,default:[]}},mounted(){let a=h(this.$refs.chartdiv,M);a.paddingRight=30,a.paddingTop=10,a.paddingLeft=0,a.data=this.arrayGrafica;var e=a.xAxes.push(new b);function s(e,s,o,t){var i=a.series.push(new C);return i.dataFields.valueY=e,i.dataFields.dateX="date",i.name=s,i.tooltipText="{dateX}: [b]{valueY}[/]",i.stroke=k(o),i.strokeWidth=3,i.tensionX=.8,i.stacked=!1,i.fillOpacity=t,i.fill=k(o),i}e.renderer.grid.template.location=0,e.renderer.minGridDistance=30,e.startLocation=.5,e.endLocation=.5,e.fontSize=10,e.dateFormats.setKey("day","MMM dd"),a.yAxes.push(new v).fontSize=8,s("finalizado","Finalizado","#34d399","0"),s("creado","Creado","#00c4fa","0"),s("acumulado","Acumulado","#a78bfa","0"),a.legend=new y,a.cursor=new w,a.legend.fontSize=12,a.legend.fontWeight=500,this.chart=a},updated(){this.chart&&(this.chart.data=this.arrayGrafica)},beforeDestroy(){this.chart&&this.chart.dispose()}};d("data-v-90daa9b0");const Te={class:"hello",ref:"chartdiv"};u(),Be.render=function(a,s,t,i,n,l){return o(),e("div",Te,null,512)},Be.__scopeId="data-v-90daa9b0";const Ve={name:"Rankings",props:{visualizar:{type:Boolean,default:!1},key:{type:Number},nombre:{type:String,required:!1},destinos:{type:Object,required:!1},menosAmas:{type:Boolean,required:!1},color:{type:String,required:!1,default:"#ffeab6"},simbolo:{type:String,required:!1,default:""},posicion:{type:Number,default:1}},setup:()=>({})},Le=()=>{f((a=>({bfbcb9d8:a.color})))},He=Ve.setup;Ve.setup=He?(a,e)=>(Le(),He(a,e)):Le;const _e=Ve;d("data-v-2744c348");const Je={key:0,class:"flex flex-col items-start justify-center w-56"},$e=i("div",{class:"text-center w-full mb-2 text-xs uppercase font-bold"},[i("h1",{class:"bg-gray-200 text-transparent rounded-sm"},"xxxxxxxxxxxxxxx")],-1),Xe=[n('<div class="w-12" data-v-2744c348><h1 class="bg-gray-200 text-transparent" data-v-2744c348>xxx</h1></div><div class="w-12" data-v-2744c348><h1 class="bg-gray-200 text-transparent" data-v-2744c348>xxx</h1></div><div class="w-12" data-v-2744c348><h1 class="bg-gray-200 text-transparent" data-v-2744c348>xxx</h1></div>',3)],Ke={key:1,class:"flex flex-col items-start justify-center w-56"},Ze={class:"text-center w-full mb-2 text-xs uppercase font-bold"},We={class:"w-16"},Ye={class:"w-16"},Qe={class:"w-16"};u(),_e.render=function(a,s,n,r,d,u){return o(),e(c,null,[n.visualizar?(o(),e("div",Je,[$e,(o(),e(c,null,S(8,(a=>i("div",{key:a,class:"flex flex-row items-center justify-between w-full text-center text-sm rounded p-1 mb-1 bg-gray-200 animate-pulse"},Xe))),64))])):t("",!0),n.visualizar?t("",!0):(o(),e("div",Ke,[i("div",Ze,[i("h1",null,l(n.nombre),1)]),(o(!0),e(c,null,S(n.destinos,((a,s)=>(o(),e("div",{key:s,class:p([[a.destinoActual?"destinoactual":"bg-base"],"flex flex-row items-center justify-between w-full text-center text-sm rounded p-1 mb-1"])},[i("div",We,[i("h1",null,l(s+1),1)]),i("div",Ye,[i("h1",null,l(a.destino),1)]),i("div",Qe,[i("h1",null,l(a.total)+" "+l(n.simbolo),1)])],2)))),128))]))],64)},_e.__scopeId="data-v-2744c348";const as={name:"GraficoBarrasCssSkeleton",props:{visualizar:{type:Boolean,default:!1}}},es=()=>{f((a=>({"02be6486":a.color1,"02be6484":a.color2,"2e48768c":a.porcentaje+"%"})))},ss=as.setup;as.setup=ss?(a,e)=>(es(),ss(a,e)):es;const os=as;d("data-v-17be3d98");const ts={key:0,class:"flex flex-col items-center chart cursor-pointer animate-pulse"},is=[i("div",{class:"h-44 skeleton1 flex justify-center items-end hover:shadow-lg"},[i("div",{class:"skeleton2 flex justify-center items-end relative"})],-1),i("div",{class:"font-bold text-transparent bg-gray-200 flex items-center justify-center text-sm uppercase w-8 mt-1 h-4"},null,-1)];u(),os.render=function(a,s,i,n,l,r){return i.visualizar?(o(),e("div",ts,is)):t("",!0)},os.__scopeId="data-v-17be3d98";const ns={components:{UserIcon:P,PlusCircleIcon:z,CheckCircleIcon:D,SunIcon:I,XCircleIcon:F},props:{array:{type:Object,default:[]},titulo:{type:String,default:"Titulo"},estado:{type:String,default:"CREADOS"}},setup(a){const e=m(!1),s=m([]),o=localStorage.getItem("usuario");return{verDetalles:a=>{s.value=a.incidencias,e.value=!0},visible:e,incidencias:s,idUsuario:o,ordenar:()=>{"CREADOS"===a.estado&&a.array.sort(((a,e)=>e.creados-a.creados)),"SOLUCIONADOS"===a.estado&&a.array.sort(((a,e)=>e.solucionados-a.solucionados)),"ACUMULADOS"===a.estado&&a.array.sort(((a,e)=>e.acumulados-a.acumulados))}}}},ls={class:"w-100 flex flex-row m-2 justify-center items-center"},rs={key:0,class:"w-full mx-auto flex flex-row justify-center items-center"},cs={class:"rounded"},ds={class:""},us={class:"flex flex-row items-center mb-1"},fs=i("th",{class:"w-52 md:w-72 px-2 flex flex-col items-center justify-center text-xs text-center cursor-pointer"}," Nombre del Usuario ",-1),ms={class:"flex flex-col items-center"},ps=["onClick"],xs={class:"w-52 md:w-72 py-1.5 text-left text-xs md:text-sm uppercase rounded-l-lg flex flex-row items-center"},gs={class:"font-normal truncate"},hs={key:0,class:"w-24 py-1.5 text-sm"},bs={key:0,class:"h-auto min-w-max ventana redondes fc ic js overflow-y-scroll absolute mx-auto px-1.5 pt-9 pb-5 top-0",style:{"max-height":"100%","max-width":"35rem"}},vs={class:"w-100 px-16"},ys={class:"mr-1 text-xs uppercase font-semibold"},ws=i("h1",{class:"mr-1 text-xs uppercase font-semibold"},"/",-1),Ms={class:"flex-none mr-1 text-xs uppercase font-semibold"},Cs=i("h1",{class:"mr-1 text-xs uppercase font-semibold"},"/",-1),ks={class:"text-sm uppercase truncate max-w-xs"};ns.render=function(n,r,d,u,f,m){const x=a("UserIcon"),g=a("XCircleIcon");return o(),e(c,null,[i("div",ls,[d.array.length?(o(),e("div",rs,[i("table",cs,[i("thead",ds,[i("tr",us,[fs,i("th",{class:"w-24 px-2 flex flex-col items-center justify-center text-xs text-center cursor-pointer",onClick:r[0]||(r[0]=a=>u.ordenar())},l(d.titulo),1)])]),i("tbody",ms,[(o(!0),e(c,null,S(d.array,((a,n)=>(o(),e("tr",{key:n,class:p(["flex flex-row rounded-lg bg-base",[n%2==1?"estilo-2":"estilo-1",a.idUsuario==u.idUsuario&&"CREADOS"==d.estado?"bg-creados":a.idUsuario==u.idUsuario&&"SOLUCIONADOS"==d.estado?"bg-solucionados":a.idUsuario==u.idUsuario&&"ACUMULADOS"==d.estado?"bg-acumulados":"bg-default"]]),onClick:e=>u.verDetalles(a)},[i("td",xs,[s(x,{class:"w-4 h-4 mx-2"}),i("p",gs,l(a.nombre),1)]),"CREADOS"===d.estado?(o(),e("td",hs,l(a.creados>0?a.creados:"*"),1)):t("",!0),"SOLUCIONADOS"===d.estado?(o(),e("td",{key:1,class:p(["w-24 py-1.5",a.solucionados>0?"text-green-500 text-sm":"text-red-500 text-sm"])},l(a.solucionados>0?a.solucionados:"*"),3)):t("",!0),"ACUMULADOS"===d.estado?(o(),e("td",{key:2,class:p(["w-24 py-1.5 text-sm rounded-r-lg",a.acumulados>0?"text-yellow-500 text-sm":"text-green-400 text-sm"])},l(a.acumulados>0?a.acumulados:"-"),3)):t("",!0)],10,ps)))),128))])])])):t("",!0)]),u.visible?(o(),e("div",bs,[i("div",vs,[s(g,{onClick:r[1]||(r[1]=a=>u.visible=!u.visible),class:"w-7 h-7 text-red-300 cursor-pointer z-50 absolute top-0 right-0"})]),(o(!0),e(c,null,S(u.incidencias,((a,s)=>(o(),e("div",{key:s,class:p([["CREADOS"===d.estado||"SOLUCIONADOS"===d.estado&&"SOLUCIONADO"===a.status||"ACUMULADOS"===d.estado&&"PENDIENTE"===a.status?"":"hidden"],"w-full p-1 item redondes fr ic js"])},[i("div",{class:p(["w-4 h-4 rounded-full flex-none mr-1",{"bg-red-500":"PENDIENTE"===a.status,"bg-green-500":"SOLUCIONADO"===a.status}])},null,2),i("h1",ys,l(a.seccion),1),ws,i("h1",Ms,l(a.subseccion),1),Cs,i("h1",ks,l(a.incidencia),1)],2)))),128))])):t("",!0)],64)};const Ss={name:"Trmpmc",components:{Marcadores:Sa,GraficoCircularCss:Me,GraficoBarrasCss:Oe,Graficotest:Be,Rankings:_e,Iconos:J,GraficoBarrasCssSkeleton:os,RankingsUsuarios:ns},props:{},setup(){const a=A().state,e=A().dispatch,s=U();j((()=>{x("","","cargar"),g(),h(),b(),v(),y()}));const o=G((()=>a.skeleton)),t=G((()=>a.arrayGrafica)),i=G((()=>a.arraySecciones.sort(((a,e)=>e.solucionados-a.solucionados)))),n=G((()=>a.datosMC)),l=m([]),r=m({fechaInicio:"",fechaFin:""}),c=m(""),d=m(""),u=m([]),f=m([]),p=m([]),x=(a,e,s)=>{const o=R(O(new Date,{days:5}),"yyyy-MM-dd"),t=R(new Date,"yyyy-MM-dd");if(!localStorage.getItem("fechas"))return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),r.value.fechaInicio=o,void(r.value.fechaFin=t);if(localStorage.getItem("fechas")){const i=JSON.parse(localStorage.getItem("fechas"));if("cargar"==s&&i.fechaInicio&&i.fechaFin)return r.value.fechaInicio=i.fechaInicio,void(r.value.fechaFin=i.fechaFin);if("actualizar"==s&&i.fechaInicio&&i.fechaFin)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:a,fechaFin:e})),r.value.fechaInicio=a,void(r.value.fechaFin=e);if("cargar"==s||"actualizar"==s)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),r.value.fechaInicio=o,void(r.value.fechaFin=t)}},g=async()=>{c.value=R(new Date(Math.round(r.value.fechaInicio.slice(0,4)),Math.round(r.value.fechaInicio.slice(5,7))-1,Math.round(r.value.fechaInicio.slice(8,10))),"dd MMMM"),d.value=R(new Date(Math.round(r.value.fechaFin.slice(0,4)),Math.round(r.value.fechaFin.slice(5,7))-1,Math.round(r.value.fechaFin.slice(8,10))),"dd MMMM"),a.skeleton.barrasCreadasVSSolucionadas=!0,a.skeleton.marcadores=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:r.value.fechaInicio,fechaFin:r.value.fechaFin,apartado:"ReporteRanking",accion:"incidenciasSecciones"},i=await e("peticion",t);if(i.response){const e=i.data.data;i.data.destino[0]?a.datosMC.destino=i.data.destino[0].destino:a.datosMC.destino="",a.datosMC.creadas=e.global.creadosGlobales,a.datosMC.enProceso=e.global.pendientesGlobales,a.datosMC.finalizado=e.global.solucionadosGlobales,a.datosMC.acumulado=e.global.acumuladoGlobales,a.datosMC.mediaHoras=e.global.mediaHoras.toFixed(2),a.datosMC.ratioCredas=e.global.ratioCredas.toFixed(2),a.datosMC.ratioFinalizadas=e.global.ratioFinalizadas.toFixed(2),a.datosMC.porcentajeSolucionado=e.global.creadosGlobales>0?Math.round(100/e.global.creadosGlobales*e.global.solucionadosGlobales):0,a.arraySecciones=i.data.data.secciones?i.data.data.secciones:[],a.skeleton.barrasCreadasVSSolucionadas=!1,a.skeleton.marcadores=!1;const s=[];e.secciones.forEach((a=>{a.incidencias.length&&a.incidencias.forEach((a=>{if(s.length){const e=s.findIndex((e=>e.idUsuario==a.responsable));if(-1==e)return void s.push({idUsuario:a.responsable,nombre:a.arrayResponsable?a.arrayResponsable.nombre+" "+a.arrayResponsable.apellido:"SIN ASIGNAR",creados:1,solucionados:"SOLUCIONADO"===a.status?1:0,acumulados:"PENDIENTE"===a.status?1:0,incidencias:[a]});if(e>-1)return s[e].creados=s[e].creados+1,s[e].solucionados="SOLUCIONADO"==a.status?s[e].solucionados+1:s[e].solucionados,s[e].acumulados="PENDIENTE"==a.status?s[e].acumulados+1:s[e].acumulados,void s[e].incidencias.push(a)}s.length||s.push({idUsuario:a.responsable,nombre:a.arrayResponsable?a.arrayResponsable.nombre+" "+a.arrayResponsable.apellido:"SIN ASIGNAR",creados:1,solucionados:"SOLUCIONADO"===a.status?1:0,acumulados:"PENDIENTE"===a.status?1:0,incidencias:[a]})})),a.incidenciasGenerales.length&&a.incidenciasGenerales.forEach((a=>{if(s.length){const e=s.findIndex((e=>e.idUsuario==a.responsable));if(-1==e)return void s.push({idUsuario:a.responsable,nombre:a.arrayResponsable?a.arrayResponsable.nombre+" "+a.arrayResponsable.apellido:"SIN ASIGNAR",creados:1,solucionados:"SOLUCIONADO"===a.status?1:0,acumulados:"PENDIENTE"===a.status?1:0,incidencias:[a]});if(e>-1)return s[e].creados=s[e].creados+1,s[e].solucionados="SOLUCIONADO"==a.status?s[e].solucionados+1:s[e].solucionados,s[e].acumulados="PENDIENTE"==a.status?s[e].acumulados+1:s[e].acumulados,void s[e].incidencias.push(a)}s.length||s.push({idUsuario:a.responsable,nombre:a.arrayResponsable?a.arrayResponsable.nombre+" "+a.arrayResponsable.apellido:"SIN ASIGNAR",creados:1,solucionados:"SOLUCIONADO"==a.status?1:0,acumulados:"PENDIENTE"==a.status?1:0,incidencias:[a]})}))})),u.value=s,p.value=s,f.value=s}},h=async()=>{a.skeleton.grafica=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:r.value.fechaInicio,fechaFin:r.value.fechaFin,apartado:"ReporteRanking",accion:"graficaIncidencias"},i=await e("peticion",t);if(i.response){const e=i.data.data;a.arrayGrafica=e.data,a.skeleton.grafica=!1}},b=async()=>{a.skeleton.ranking=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:r.value.fechaInicio,fechaFin:r.value.fechaFin,apartado:"ReporteRanking",accion:"destinosIncidencias"},i=await e("peticion",t);if(i.response){const e=i.data.data.creados;e&&(e.sort(((a,e)=>e.total-a.total)),a.datosMC.rankingIncidenciasCreadas=e,e.forEach(((e,s)=>{e.idDestino==o&&(a.datosMC.rankingCreadas=s+1)})));const s=i.data.data.solucionados;if(s&&(s.sort(((a,e)=>e.total-a.total)),a.datosMC.rankingIncidenciasFinalizada=s,s.forEach(((e,s)=>{e.idDestino==o&&(a.datosMC.rankingFinalizado=s+1)}))),i.data.data.creados&&i.data.data.solucionados){const e=[];i.data.data.creados.forEach(((a,s)=>{let t=0,n=a.total,l=0;i.data.data.solucionados.forEach(((e,s)=>{e.idDestino==a.idDestino&&(t=e.total)})),l=100/n*t>0?100/n*t:0,e.push({idDestino:a.idDestino,destino:a.destino,total:Math.trunc(l),destinoActual:a.idDestino==o})})),e.sort(((a,e)=>e.total-a.total)),a.datosMC.rankingEficiencia=e}const t=i.data.data.pendientes;t&&(t.sort(((a,e)=>a.total-e.total)),a.datosMC.rankingIncidenciasAcumulado=t,t.forEach(((e,s)=>{e.idDestino==o&&(a.datosMC.rankingAcumulado=s+1)})));const n=i.data.data.mcmpCreados;n&&(n.sort(((a,e)=>a.total-e.total)),a.datosMC.rankingmcmpCreados=n),a.skeleton.ranking=!1}},v=async()=>{a.skeleton.barrasCreados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:r.value.fechaInicio,fechaFin:r.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMC",status:"TODOS"},i=await e("peticion",t);if(i.response){const e=i.data.data;a.datosMC.mcCreados=e.global.mcGlobal,a.datosMC.mpCreados=e.global.mpGlobal,a.datosMC.mcmpCreados=e.secciones.sort(((a,e)=>e.mc-a.mc)),a.skeleton.barrasCreados=!1}},y=async()=>{a.skeleton.barrasSolucionados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:r.value.fechaInicio,fechaFin:r.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMC",status:"SOLUCIONADO"},i=await e("peticion",t);if(i.response){const e=i.data.data;a.datosMC.mcFinalizado=e.global.mcGlobal,a.datosMC.mpFinalizado=e.global.mpGlobal,a.datosMC.mcmpFinalizado=e.secciones.sort(((a,e)=>e.mc-a.mc)),a.skeleton.barrasSolucionados=!1}};return{fechas:r,fechaA:c,fechaB:d,datosMC:n,skeleton:o,aplicar:g,graficar:h,mcmpCreados:v,mcmpFinalizados:y,rankingGlobal:b,arrayGrafica:t,arraySecciones:i,arrayRankingCreadas:l,router:s,store:a,comprobarFechas:x,arrayUsuariosCreados:u,arrayUsuariosSolucionados:f,arrayUsuariosAcumulados:p}}};d("data-v-5121d34a");const Ps={class:"p-2 md:p-6"},zs={class:"text-2xl font-semibold text-gray-700 pb-4 text-center uppercase"},Ds=r(" TR Incidencias "),Is={class:"font-bold"},Fs={class:"w-full flex flex-row items-center justify-center"},As={class:"bg-white flex items-center justify-start rounded-xl"},Us={class:"p-3"},js=i("h1",{class:"text-xxs font-semibold"},"Día Inicial",-1),Gs={class:"p-3"},Rs=i("h1",{class:"text-xxs font-semibold"},"Día Final",-1),Os={class:"p-3"},Es={class:"w-full my-4 flex flex-col items-center justify-start"},Ns={class:"flex flex-col items-center justify-start w-full md:w-7/12 bg-white shadow-sm mt-4 flex-wrap rounded-lg pb-10"},qs=i("h1",{class:"mt-4 text-gray-700 font-semibold text-2xl uppercase leading-none"}," Incidencias ",-1),Bs={class:"text-gray-500 text-xxs leading-none"},Ts=r(" Del "),Vs={class:"font-bold"},Ls=r(" al "),Hs={class:"font-bold"},_s={key:0,class:"w-full h-80 p-6"},Js=[i("div",{class:"bg-gray-200 animate-pulse w-full h-full rounded-lg"},null,-1)],$s=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," Solucionadas VS Creadas ",-1),Xs={class:"text-gray-500 text-xxs leading-none mb-4"},Ks=r(" Del "),Zs={class:"font-bold"},Ws=r(" al "),Ys={class:"font-bold"},Qs={class:"w-full flex flex-row items-center justify-around flex-wrap"},ao={class:"flex flex-col font-bold"},eo=i("h2",{class:"text-sm text-left leading-none creadas mb-1"},"Creadas",-1),so={class:"text-4xl text-left leading-none mb-3 text-gray-700"},oo=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," Solucionadas ",-1),to={class:"text-3xl text-left leading-none mb-3 text-gray-700"},io=i("h2",{class:"text-sm text-left leading-none acumulado mb-1"}," Acumulado ",-1),no={class:"text-2xl text-left leading-none mb-3 text-gray-700"},lo={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible"},ro=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," Incidencias creadas vs Preventivos creados ",-1),co={class:"text-gray-500 text-xxs leading-none mb-4"},uo=r(" Del "),fo={class:"font-bold"},mo=r(" al "),po={class:"font-bold"},xo={class:"w-full flex flex-row items-center justify-around flex-wrap"},go={class:"w-full md:w-auto p-3 flex flex-row items-start justify-around overflow-x-auto md:overflow-x-visible"},ho={class:"flex flex-col font-bold"},bo=i("h2",{class:"text-sm text-right leading-none creadas mb-1"}," MC Creados ",-1),vo={class:"text-4xl text-right leading-none mb-3 text-gray-700"},yo=i("h2",{class:"text-sm text-right leading-none mp2 mb-1"},"MP Creadas",-1),wo={class:"text-4xl text-right leading-none mb-3 text-gray-700"},Mo=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," Incidencias solucionadas vs Preventivos solucionados ",-1),Co={class:"text-gray-500 text-xxs leading-none mb-4"},ko=r(" Del "),So={class:"font-bold"},Po=r(" al "),zo={class:"font-bold"},Do={class:"w-full flex flex-row items-center justify-around flex-wrap"},Io={class:"flex flex-col font-bold"},Fo=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," MC Finalizados ",-1),Ao={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Uo=i("h2",{class:"text-sm text-left leading-none mp1 mb-1"}," MP Finalizados ",-1),jo={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Go={class:"w-full md:w-auto p-3 flex flex-row items-start justify-around overflow-x-auto md:overflow-x-visible"},Ro=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," Rankings américa ",-1),Oo={class:"text-gray-500 text-xxs leading-none mb-4"},Eo=r(" Del "),No={class:"font-bold"},qo=r(" al "),Bo={class:"font-bold"},To={class:"w-full flex flex-wrap flex-row items-center justify-around px-8 pt-6"},Vo={class:"max-w-max flex flex-col md:flex-row justify-center items-center relative mt-6"};u(),Ss.render=function(n,r,d,u,f,m){const p=a("Iconos"),x=a("Marcadores"),g=a("Graficotest"),h=a("GraficoCircularCss"),b=a("GraficoBarrasCssSkeleton"),v=a("GraficoBarrasCss"),y=a("Rankings"),w=a("RankingsUsuarios");return o(),e("div",Ps,[i("h1",zs,[Ds,i("span",Is,l(u.datosMC.destino),1)]),i("div",Fs,[i("div",As,[i("div",Us,[js,E(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[0]||(r[0]=a=>u.fechas.fechaInicio=a),onChange:r[1]||(r[1]=a=>u.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[N,u.fechas.fechaInicio]])]),s(p,{icono:"arrow-right",class:"w-4"}),i("div",Gs,[Rs,E(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[2]||(r[2]=a=>u.fechas.fechaFin=a),onChange:r[3]||(r[3]=a=>u.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[N,u.fechas.fechaFin]])]),i("div",Os,[i("button",{class:"bg-purple-50 text-purple-500 py-1 px-2 rounded-lg text-sm border border-purple-400",onClick:r[4]||(r[4]=a=>{u.aplicar(),u.graficar(),u.rankingGlobal(),u.mcmpCreados(),u.mcmpFinalizados()})}," Aplicar ")])])]),i("div",Es,[s(x,{creadas:u.datosMC.creadas,proceso:u.datosMC.enProceso,finalizado:u.datosMC.finalizado,acumulado:u.datosMC.acumulado,ranproceso:u.datosMC.rankingCreadas,ranacumulado:u.datosMC.rankingAcumulado,ranfinalizado:u.datosMC.rankingFinalizado,ratioCredas:u.datosMC.ratioCredas,ratioFinalizadas:u.datosMC.ratioFinalizadas,mediaHoras:u.datosMC.mediaHoras,visualizar:u.skeleton.marcadores},null,8,["creadas","proceso","finalizado","acumulado","ranproceso","ranacumulado","ranfinalizado","ratioCredas","ratioFinalizadas","mediaHoras","visualizar"]),i("div",Ns,[qs,i("h1",Bs,[Ts,i("span",Vs,l(u.fechaA),1),Ls,i("span",Hs,l(u.fechaB),1)]),u.skeleton.grafica?(o(),e("div",_s,Js)):t("",!0),u.skeleton.grafica?t("",!0):(o(),q(g,{key:1,class:"mt-4 rounded-lg shadow-sm",arrayGrafica:u.arrayGrafica},null,8,["arrayGrafica"])),$s,i("h1",Xs,[Ks,i("span",Zs,l(u.fechaA),1),Ws,i("span",Ys,l(u.fechaB),1)]),i("div",Qs,[i("div",ao,[eo,i("h1",so,l(u.datosMC.creadas),1),oo,i("h1",to,l(u.datosMC.finalizado),1),io,i("h1",no,l(u.datosMC.enProceso),1)]),s(h,{texto:"Finalizado",color:"#34d399",porcentaje:u.datosMC.porcentajeSolucionado,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["porcentaje","visualizar"]),i("div",lo,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.arraySecciones,(a=>(o(),q(v,{key:a,seccion:a.seccion,creadas:a.creados,finalizadas:a.solucionados,color1:"#edf2f7",color2:"#34d399",vs:!1,visualizar:u.skeleton.barrasCreadasVSSolucionadas,onDblclick:e=>n.$router.push("/mc/"+u.router.params.idDestino+"/seccion/"+a.idSeccion)},null,8,["seccion","creadas","finalizadas","visualizar","onDblclick"])))),128))])]),ro,i("h1",co,[uo,i("span",fo,l(u.fechaA),1),mo,i("span",po,l(u.fechaB),1)]),i("div",xo,[i("div",go,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMC.mcmpCreados,(a=>(o(),q(v,{key:a,seccion:a.seccion,creadas:a.mp+a.mc,finalizadas:a.mc,color1:"#86e5ff",color2:"#00c4fa",vs:!0,visualizar:u.skeleton.barrasCreados,onDblclick:e=>n.$router.push("/mc/"+u.router.params.idDestino+"/seccion/"+a.idSeccion)},null,8,["seccion","creadas","finalizadas","visualizar","onDblclick"])))),128))]),s(h,{texto:"MC CREADOS",color:"#00c4fa",color2:"#86e5ff",porcentaje:u.datosMC.mcCreados>0?Math.round(100/(u.datosMC.mcCreados+u.datosMC.mpCreados)*u.datosMC.mcCreados):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreados},null,8,["porcentaje","visualizar"]),i("div",ho,[bo,i("h1",vo,l(u.datosMC.mcCreados),1),yo,i("h1",wo,l(u.datosMC.mpCreados),1)])]),Mo,i("h1",Co,[ko,i("span",So,l(u.fechaA),1),Po,i("span",zo,l(u.fechaB),1)]),i("div",Do,[i("div",Io,[Fo,i("h1",Ao,l(u.datosMC.mcFinalizado),1),Uo,i("h1",jo,l(u.datosMC.mpFinalizado),1)]),s(h,{texto:"MC Finalizados",color:"#34d399",color2:"#96ffd9",porcentaje:u.datosMC.mcFinalizado>0?Math.round(100/(u.datosMC.mcFinalizado+u.datosMC.mpFinalizado)*u.datosMC.mcFinalizado):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasSolucionados},null,8,["porcentaje","visualizar"]),i("div",Go,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasSolucionados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMC.mcmpFinalizado,(a=>(o(),q(v,{key:a,seccion:a.seccion,creadas:a.mc+a.mp,finalizadas:a.mc,color1:"#96ffd9",color2:"#34d399",vs:!0,visualizar:u.skeleton.barrasSolucionados,onDblclick:e=>n.$router.push("/mc/"+u.router.params.idDestino+"/seccion/"+a.idSeccion)},null,8,["seccion","creadas","finalizadas","visualizar","onDblclick"])))),128))])]),Ro,i("h1",Oo,[Eo,i("span",No,l(u.fechaA),1),qo,i("span",Bo,l(u.fechaB),1)]),i("div",To,[s(y,{nombre:"Más Incidencias Creadas",color:"#00c4fa",menosAmas:!1,destinos:u.datosMC.rankingIncidenciasCreadas,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Más Incidencias Solucionadas",color:"#34d399",menosAmas:!1,destinos:u.datosMC.rankingIncidenciasFinalizada,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Eficiencia de Atención",color:"#34d399",simbolo:"%",menosAmas:!1,destinos:u.datosMC.rankingEficiencia,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Menos Incidencias Acumuladas",color:"#563bff",menosAmas:!0,destinos:u.datosMC.rankingIncidenciasAcumulado,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Menos MC Creados vs MP Creados",color:"#fbbf24",simbolo:"%",menosAmas:!0,destinos:u.datosMC.rankingmcmpCreados,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"])]),i("div",Vo,[s(w,{array:u.arrayUsuariosCreados,titulo:"Creados",estado:"CREADOS"},null,8,["array"]),s(w,{array:u.arrayUsuariosSolucionados,titulo:"Solucionados",estado:"SOLUCIONADOS"},null,8,["array"]),s(w,{array:u.arrayUsuariosAcumulados,titulo:"Acumulados",estado:"ACUMULADOS"},null,8,["array"])])])])])},Ss.__scopeId="data-v-5121d34a";const Lo={name:"Trmpmc",components:{Marcadores:Sa,GraficoCircularCss:Me,GraficoBarrasCss:Oe,Graficotest:Be,Rankings:_e,RankingsUsuarios:ns,Iconos:J,GraficoBarrasCssSkeleton:os},props:{},setup(){const a=A().state,e=A().dispatch,s=U();j((()=>{f("","","cargar"),p(),x(),g(),h(),b(),v(),y()}));const o=G((()=>a.skeleton)),t=G((()=>a.arrayGrafica)),i=G((()=>a.arraySecciones.sort(((a,e)=>e.solucionados-a.solucionados)))),n=G((()=>a.datosMC)),l=G((()=>a.seccion)),r=m([]),c=m({fechaInicio:"",fechaFin:""}),d=m(""),u=m(""),f=(a,e,s)=>{const o=R(O(new Date,{days:5}),"yyyy-MM-dd"),t=R(new Date,"yyyy-MM-dd");if(!localStorage.getItem("fechas"))return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),c.value.fechaInicio=o,void(c.value.fechaFin=t);if(localStorage.getItem("fechas")){const i=JSON.parse(localStorage.getItem("fechas"));if("cargar"==s&&i.fechaInicio&&i.fechaFin)return c.value.fechaInicio=i.fechaInicio,void(c.value.fechaFin=i.fechaFin);if("actualizar"==s&&i.fechaInicio&&i.fechaFin)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:a,fechaFin:e})),c.value.fechaInicio=a,void(c.value.fechaFin=e);if("cargar"==s||"actualizar"==s)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),c.value.fechaInicio=o,void(c.value.fechaFin=t)}},p=async()=>{d.value=R(new Date(Math.round(c.value.fechaInicio.slice(0,4)),Math.round(c.value.fechaInicio.slice(5,7))-1,Math.round(c.value.fechaInicio.slice(8,10))),"dd MMMM"),u.value=R(new Date(Math.round(c.value.fechaFin.slice(0,4)),Math.round(c.value.fechaFin.slice(5,7))-1,Math.round(c.value.fechaFin.slice(8,10))),"dd MMMM"),a.skeleton.barrasCreadasVSSolucionadas=!0,a.skeleton.marcadores=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:c.value.fechaInicio,fechaFin:c.value.fechaFin,apartado:"ReporteRanking",idSeccion:s.params.idSeccion,accion:"incidenciasSubsecciones"},i=await e("peticion",t);if(i.response){const e=i.data.data;i.data.destino[0]?a.datosMC.destino=i.data.destino[0].destino:a.datosMC.destino="",a.datosMC.creadas=e.global.creadosGlobales,a.datosMC.enProceso=e.global.pendientesGlobales,a.datosMC.finalizado=e.global.solucionadosGlobales,a.datosMC.acumulado=e.global.acumuladoGlobales,a.datosMC.mediaHoras=e.global.mediaHoras.toFixed(2),a.datosMC.ratioCredas=e.global.ratioCredas.toFixed(2),a.datosMC.ratioFinalizadas=e.global.ratioFinalizadas.toFixed(2),a.datosMC.porcentajeSolucionado=e.global.creadosGlobales>0?Math.round(100/e.global.creadosGlobales*e.global.solucionadosGlobales):0,a.arraySecciones=i.data.data.secciones?i.data.data.secciones:[],a.skeleton.barrasCreadasVSSolucionadas=!1,a.skeleton.marcadores=!1}},x=async()=>{a.skeleton.grafica=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:c.value.fechaInicio,fechaFin:c.value.fechaFin,apartado:"ReporteRanking",accion:"graficaIncidenciasSubsecciones",idSeccion:s.params.idSeccion},i=await e("peticion",t);if(i.response){const e=i.data.data;a.arrayGrafica=e.data,a.skeleton.grafica=!1}},g=async()=>{a.skeleton.ranking=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:c.value.fechaInicio,fechaFin:c.value.fechaFin,apartado:"ReporteRanking",accion:"destinosIncidenciasSubsecciones",idSeccion:s.params.idSeccion},i=await e("peticion",t);if(i.response){const e=i.data.data.creados;e&&(e.sort(((a,e)=>e.total-a.total)),a.datosMC.rankingIncidenciasCreadas=e,e.forEach(((e,s)=>{e.idDestino==o&&(a.datosMC.rankingCreadas=s+1)})));const s=i.data.data.solucionados;s&&(s.sort(((a,e)=>e.total-a.total)),a.datosMC.rankingIncidenciasFinalizada=s,s.forEach(((e,s)=>{e.idDestino==o&&(a.datosMC.rankingFinalizado=s+1)})));const t=i.data.data.pendientes;t&&(t.sort(((a,e)=>a.total-e.total)),a.datosMC.rankingIncidenciasAcumulado=t,t.forEach(((e,s)=>{e.idDestino==o&&(a.datosMC.rankingAcumulado=s+1)})));const n=i.data.data.mcmpCreados;n&&(n.sort(((a,e)=>a.total-e.total)),a.datosMC.rankingmcmpCreados=n),a.skeleton.ranking=!1}},h=async()=>{a.skeleton.barrasCreados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:c.value.fechaInicio,fechaFin:c.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMCSubsecciones",status:"TODOS",idSeccion:s.params.idSeccion},i=await e("peticion",t);if(i.response){const e=i.data.data;a.datosMC.mcCreados=e.global.mcGlobal,a.datosMC.mpCreados=e.global.mpGlobal,a.datosMC.mcmpCreados=e.secciones.sort(((a,e)=>e.mc-a.mc)),a.skeleton.barrasCreados=!1}},b=async()=>{a.skeleton.barrasSolucionados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:c.value.fechaInicio,fechaFin:c.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMCSubsecciones",status:"SOLUCIONADO",idSeccion:s.params.idSeccion},i=await e("peticion",t);if(i.response){const e=i.data.data;a.datosMC.mcFinalizado=e.global.mcGlobal,a.datosMC.mpFinalizado=e.global.mpGlobal,a.datosMC.mcmpFinalizado=e.secciones.sort(((a,e)=>e.mc-a.mc)),a.skeleton.barrasSolucionados=!1}},v=async()=>{a.skeleton.rankingUsuarios=!0;let o=0;a.datosMC.creadosUsuarios=[],a.datosMC.solucionadosUsuarios=[],a.datosMC.acumuladosUsuarios=[],0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:c.value.fechaInicio,fechaFin:c.value.fechaFin,apartado:"ReporteRanking",accion:"incidenciasUsuarios",idSeccion:s.params.idSeccion},i=await e("peticion",t);if(i.response){i.data.data.forEach((e=>{e.incidenciasCreadas>0&&a.datosMC.creadosUsuarios.push({idUsuario:e.idUsuario,nombre:e.nombre+" "+e.apellido,total:e.incidenciasCreadas,usuarioActual:!(!localStorage.getItem("usuario")||localStorage.getItem("usuario")!=e.idUsuario)}),e.incidenciasSolucionadas>0&&a.datosMC.solucionadosUsuarios.push({idUsuario:e.idUsuario,nombre:e.nombre+" "+e.apellido,total:e.incidenciasSolucionadas,usuarioActual:!(!localStorage.getItem("usuario")||localStorage.getItem("usuario")!=e.idUsuario)}),e.incidenciasPendientes>0&&a.datosMC.acumuladosUsuarios.push({idUsuario:e.idUsuario,nombre:e.nombre+" "+e.apellido,total:e.incidenciasPendientes,usuarioActual:!(!localStorage.getItem("usuario")||localStorage.getItem("usuario")!=e.idUsuario)})})),a.datosMC.acumuladosUsuarios.sort(((a,e)=>e.total-a.total)),a.datosMC.creadosUsuarios.sort(((a,e)=>e.total-a.total)),a.datosMC.solucionadosUsuarios.sort(((a,e)=>e.total-a.total)),a.skeleton.rankingUsuarios=!1}i.response||(a.skeleton.rankingUsuarios=!1)},y=async()=>{let o=0;a.datosMC.creadosUsuarios=[],a.datosMC.solucionadosUsuarios=[],a.datosMC.acumuladosUsuarios=[],0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,apartado:"ReporteRanking",accion:"detalleSeccion",idSeccion:s.params.idSeccion},i=await e("peticion",t);if(i.response){const e=i.data.data[0];a.seccion=e.seccion}};return{fechas:c,fechaA:d,fechaB:u,datosMC:n,skeleton:o,aplicar:p,graficar:x,mcmpCreados:h,mcmpFinalizados:b,rankingGlobal:g,incidenciasUsuarios:v,arrayGrafica:t,arraySecciones:i,arrayRankingCreadas:r,seccion:l,comprobarFechas:f}}};d("data-v-d3052a36");const Ho={class:"p-2 md:p-6"},_o={class:"text-2xl font-semibold text-gray-700 pb-4 text-center uppercase"},Jo=r(" TR Incidencias "),$o={class:"font-bold"},Xo={class:"w-full flex flex-row items-center justify-center"},Ko={class:"bg-white flex items-center justify-start rounded-xl"},Zo={class:"p-3"},Wo=i("h1",{class:"text-xxs font-semibold"},"Día Inicial",-1),Yo={class:"p-3"},Qo=i("h1",{class:"text-xxs font-semibold"},"Día Final",-1),at={class:"p-3"},et={class:"w-full my-4 flex flex-col items-center justify-start"},st={class:"flex flex-col items-center justify-start w-full md:w-7/12 bg-white shadow-sm mt-4 flex-wrap rounded-lg pb-10"},ot={class:"mt-4 text-gray-700 font-semibold text-2xl uppercase leading-none"},tt={class:"text-gray-500 text-xxs leading-none"},it=r(" Del "),nt={class:"font-bold"},lt=r(" al "),rt={class:"font-bold"},ct={key:0,class:"w-full h-80 p-6"},dt=[i("div",{class:"bg-gray-200 animate-pulse w-full h-full rounded-lg"},null,-1)],ut={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},ft={class:"text-gray-500 text-xxs leading-none mb-4"},mt=r(" Del "),pt={class:"font-bold"},xt=r(" al "),gt={class:"font-bold"},ht={class:"w-full flex flex-row items-center justify-around flex-wrap"},bt={class:"flex flex-col font-bold"},vt=i("h2",{class:"text-sm text-left leading-none creadas mb-1"},"Creadas",-1),yt={class:"text-4xl text-left leading-none mb-3 text-gray-700"},wt=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," Solucionadas ",-1),Mt={class:"text-3xl text-left leading-none mb-3 text-gray-700"},Ct=i("h2",{class:"text-sm text-left leading-none acumulado mb-1"}," Acumulado ",-1),kt={class:"text-2xl text-left leading-none mb-3 text-gray-700"},St={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible px-16"},Pt={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},zt={class:"text-gray-500 text-xxs leading-none mb-4"},Dt=r(" Del "),It={class:"font-bold"},Ft=r(" al "),At={class:"font-bold"},Ut={class:"w-full flex flex-row items-center justify-around flex-wrap"},jt={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible px-16"},Gt={class:"flex flex-col font-bold"},Rt=i("h2",{class:"text-sm text-right leading-none creadas mb-1"}," MC Creados ",-1),Ot={class:"text-4xl text-right leading-none mb-3 text-gray-700"},Et=i("h2",{class:"text-sm text-right leading-none mp2 mb-1"},"MP Creadas",-1),Nt={class:"text-4xl text-right leading-none mb-3 text-gray-700"},qt={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},Bt={class:"text-gray-500 text-xxs leading-none mb-4"},Tt=r(" Del "),Vt={class:"font-bold"},Lt=r(" al "),Ht={class:"font-bold"},_t={class:"w-full flex flex-row items-center justify-around flex-wrap"},Jt={class:"flex flex-col font-bold"},$t=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," MC Finalizados ",-1),Xt={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Kt=i("h2",{class:"text-sm text-left leading-none mp1 mb-1"}," MP Finalizados ",-1),Zt={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Wt={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible px-16"},Yt={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},Qt={class:"text-gray-500 text-xxs leading-none mb-4"},ai=r(" Del "),ei={class:"font-bold"},si=r(" al "),oi={class:"font-bold"},ti={class:"w-full flex flex-wrap flex-row items-center justify-around px-8 pt-6"},ii={class:"mt-8 text-gray-700 font-semibold text-xl uppercase"},ni={class:"text-gray-500 text-xxs leading-none mb-4"},li=r(" Del "),ri={class:"font-bold"},ci=r(" al "),di={class:"font-bold"},ui={class:"w-full flex flex-wrap flex-row items-start justify-around px-8 pt-6"};u(),Lo.render=function(n,r,d,u,f,m){const p=a("Iconos"),x=a("Marcadores"),g=a("Graficotest"),h=a("GraficoCircularCss"),b=a("GraficoBarrasCssSkeleton"),v=a("GraficoBarrasCss"),y=a("Rankings"),w=a("RankingsUsuarios");return o(),e("div",Ho,[i("h1",_o,[Jo,i("span",$o,l(u.datosMC.destino)+" "+l(u.seccion),1)]),i("div",Xo,[i("div",Ko,[i("div",Zo,[Wo,E(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[0]||(r[0]=a=>u.fechas.fechaInicio=a),onChange:r[1]||(r[1]=a=>u.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[N,u.fechas.fechaInicio]])]),s(p,{icono:"arrow-right",class:"w-4"}),i("div",Yo,[Qo,E(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[2]||(r[2]=a=>u.fechas.fechaFin=a),onChange:r[3]||(r[3]=a=>u.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[N,u.fechas.fechaFin]])]),i("div",at,[i("button",{class:"bg-purple-50 text-purple-500 py-1 px-2 rounded-lg text-sm border border-purple-400",onClick:r[4]||(r[4]=a=>{u.aplicar(),u.graficar(),u.rankingGlobal(),u.mcmpCreados(),u.mcmpFinalizados(),u.incidenciasUsuarios()})}," Aplicar ")])])]),i("div",et,[s(x,{creadas:u.datosMC.creadas,proceso:u.datosMC.enProceso,finalizado:u.datosMC.finalizado,acumulado:u.datosMC.acumulado,ranproceso:u.datosMC.rankingCreadas,ranacumulado:u.datosMC.rankingAcumulado,ranfinalizado:u.datosMC.rankingFinalizado,ratioCredas:u.datosMC.ratioCredas,ratioFinalizadas:u.datosMC.ratioFinalizadas,mediaHoras:u.datosMC.mediaHoras,visualizar:u.skeleton.marcadores},null,8,["creadas","proceso","finalizado","acumulado","ranproceso","ranacumulado","ranfinalizado","ratioCredas","ratioFinalizadas","mediaHoras","visualizar"]),i("div",st,[i("h1",ot," Incidencias "+l(u.seccion),1),i("h1",tt,[it,i("span",nt,l(u.fechaA),1),lt,i("span",rt,l(u.fechaB),1)]),u.skeleton.grafica?(o(),e("div",ct,dt)):t("",!0),u.skeleton.grafica?t("",!0):(o(),q(g,{key:1,class:"mt-4 rounded-lg shadow-sm",arrayGrafica:u.arrayGrafica},null,8,["arrayGrafica"])),i("h1",ut," Solucionadas VS Creadas "+l(u.seccion),1),i("h1",ft,[mt,i("span",pt,l(u.fechaA),1),xt,i("span",gt,l(u.fechaB),1)]),i("div",ht,[i("div",bt,[vt,i("h1",yt,l(u.datosMC.creadas),1),wt,i("h1",Mt,l(u.datosMC.finalizado),1),Ct,i("h1",kt,l(u.datosMC.enProceso),1)]),s(h,{texto:"Finalizado",color:"#34d399",porcentaje:u.datosMC.porcentajeSolucionado,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["porcentaje","visualizar"]),i("div",St,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.arraySecciones,(a=>(o(),q(v,{key:a,seccion:a.subseccion,creadas:a.creados,finalizadas:a.solucionados,color1:"#edf2f7",color2:"#34d399",vs:!1,visualizar:u.skeleton.barrasCreadasVSSolucionadas,rotarTexto:!0},null,8,["seccion","creadas","finalizadas","visualizar"])))),128))])]),i("h1",Pt," Incidencias creadas vs Preventivos creados "+l(u.seccion),1),i("h1",zt,[Dt,i("span",It,l(u.fechaA),1),Ft,i("span",At,l(u.fechaB),1)]),i("div",Ut,[i("div",jt,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMC.mcmpCreados,(a=>(o(),q(v,{key:a,seccion:a.subseccion,creadas:a.mp+a.mc,finalizadas:a.mc,color1:"#86e5ff",color2:"#00c4fa",vs:!0,visualizar:u.skeleton.barrasCreados,rotarTexto:!0},null,8,["seccion","creadas","finalizadas","visualizar"])))),128))]),s(h,{texto:"MC CREADOS",color:"#00c4fa",color2:"#86e5ff",porcentaje:u.datosMC.mcCreados>0?Math.round(100/(u.datosMC.mcCreados+u.datosMC.mpCreados)*u.datosMC.mcCreados):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreados},null,8,["porcentaje","visualizar"]),i("div",Gt,[Rt,i("h1",Ot,l(u.datosMC.mcCreados),1),Et,i("h1",Nt,l(u.datosMC.mpCreados),1)])]),i("h1",qt," Incidencias solucionadas vs Preventivos solucionados "+l(u.seccion),1),i("h1",Bt,[Tt,i("span",Vt,l(u.fechaA),1),Lt,i("span",Ht,l(u.fechaB),1)]),i("div",_t,[i("div",Jt,[$t,i("h1",Xt,l(u.datosMC.mcFinalizado),1),Kt,i("h1",Zt,l(u.datosMC.mpFinalizado),1)]),s(h,{texto:"MC Finalizados",color:"#34d399",color2:"#96ffd9",porcentaje:u.datosMC.mcFinalizado>0?Math.round(100/(u.datosMC.mcFinalizado+u.datosMC.mpFinalizado)*u.datosMC.mcFinalizado):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasSolucionados},null,8,["porcentaje","visualizar"]),i("div",Wt,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasSolucionados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMC.mcmpFinalizado,(a=>(o(),q(v,{key:a,seccion:a.subseccion,creadas:a.mc+a.mp,finalizadas:a.mc,color1:"#96ffd9",color2:"#34d399",vs:!0,visualizar:u.skeleton.barrasSolucionados,rotarTexto:!0},null,8,["seccion","creadas","finalizadas","visualizar"])))),128))])]),i("h1",Yt," Rankings américa "+l(u.seccion),1),i("h1",Qt,[ai,i("span",ei,l(u.fechaA),1),si,i("span",oi,l(u.fechaB),1)]),i("div",ti,[s(y,{nombre:"Más Incidencias Creadas",color:"#00c4fa",menosAmas:!1,destinos:u.datosMC.rankingIncidenciasCreadas,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Más Incidencias Solucionadas",color:"#34d399",menosAmas:!1,destinos:u.datosMC.rankingIncidenciasFinalizada,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Menos Incidencias Acumuladas",color:"#563bff",menosAmas:!0,destinos:u.datosMC.rankingIncidenciasAcumulado,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Menos MC Creados vs MP Creados",color:"#fbbf24",simbolo:"%",menosAmas:!0,destinos:u.datosMC.rankingmcmpCreados,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"])]),i("h1",ii," Rankings Usuarios "+l(u.seccion),1),i("h1",ni,[li,i("span",ri,l(u.fechaA),1),ci,i("span",di,l(u.fechaB),1)]),i("div",ui,[s(w,{nombre:"Creados por Usuarios",color:"#00c4fa",simbolo:"",menosAmas:!0,usuarios:u.datosMC.creadosUsuarios,visualizar:u.skeleton.rankingUsuarios},null,8,["usuarios","visualizar"]),s(w,{nombre:"Solucionados por Usuarios",color:"#34d399",simbolo:"",menosAmas:!0,usuarios:u.datosMC.solucionadosUsuarios,visualizar:u.skeleton.rankingUsuarios},null,8,["usuarios","visualizar"]),s(w,{nombre:"Acumulados por Usuarios",color:"#34d399",simbolo:"",menosAmas:!0,usuarios:u.datosMC.acumuladosUsuarios,visualizar:u.skeleton.rankingUsuarios},null,8,["usuarios","visualizar"])])])])])},Lo.__scopeId="data-v-d3052a36";const fi={components:{Iconos:J},props:{creadas:{type:Number,required:!0,default:0},ranproceso:{type:Number,required:!0,default:0},ranfinalizado:{type:Number,required:!0,default:0},proceso:{type:Number,required:!0,default:0},finalizado:{type:Number,required:!0,default:0},acumulado:{type:Number,required:!0,default:0},ranacumulado:{type:Number,required:!0,default:0},mediaHoras:{type:[String,Number],required:!0,default:0},ratioCredas:{type:[String,Number],required:!0,default:0},ratioFinalizadas:{type:[String,Number],required:!0,default:0},visible:{type:Boolean,required:!0}},setup:()=>({})},mi={key:0,class:"animate-pulse py-4 flex flex-row flex-wrap items-center justify-evenly rounded-lg bg-white px-2 divide-x divide-gris-30 w-full md:w-7/12"},pi=[n('<div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div>',7)],xi={key:1,class:"flex flex-row flex-wrap items-center justify-evenly rounded-lg bg-white px-2 divide-x divide-gris-30 w-full md:w-7/12"},gi={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},hi={class:"w-7 h-7 bg-blue-100 text-blue-400 rounded-full flex items-center justify-center"},bi={class:"text-3xl font-semibold"},vi=i("h2",{class:"text-sm text-gray-500"},"OT Creadas",-1),yi={class:"text-xxs leading-snug text-gray-500"},wi=r(" Ratio "),Mi={class:"font-bold"},Ci={class:"text-xxs leading-snug text-gray-500"},ki=r(" Media t. "),Si={class:"font-bold"},Pi={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},zi={class:"w-7 h-7 bg-yellow-100 text-yellow-400 rounded-full flex items-center justify-center"},Di={class:"text-3xl font-semibold"},Ii=i("h2",{class:"text-sm text-gray-500"},"OT En proceso",-1),Fi={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},Ai={class:"w-7 h-7 bg-green-100 text-green-400 rounded-full flex items-center justify-center"},Ui={class:"text-3xl font-semibold"},ji=i("h2",{class:"text-sm text-gray-500"},"OT Finalizadas",-1),Gi={class:"text-xxs leading-snug text-gray-500"},Ri=r(" Ratio "),Oi={class:"font-bold"},Ei={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},Ni={class:"w-7 h-7 bg-purple-100 text-purple-400 rounded-full flex items-center justify-center"},qi={class:"text-3xl font-semibold"},Bi=i("h2",{class:"text-sm text-gray-500"},"OT Acumuladas",-1),Ti=i("h2",{class:"text-xxs leading-none text-gray-500"},[r(" del "),i("span",{class:"font-bold"},"1 ENE 2021"),r(" a la fecha ")],-1),Vi={class:"w-36 h-36 flex flex-col items-center justify-center px-2"},Li={class:"w-16 h-16 rounded-full ring ring-yellow-100 bg-yellow-400 border-4 mb-2 border-yellow-200 flex flex-col items-center justify-center"},Hi={class:"text-2xl leading-none text-white font-semibold"},_i=i("span",{class:"text-sm"},"/8",-1),Ji=i("h2",{class:"text-xxs text-gray-500"},"Ranking America",-1),$i=i("h2",{class:"text-xxs leading-none uppercase text-gray-500 font-bold"}," OT MP Creadas ",-1),Xi={class:"w-36 h-36 flex flex-col items-center justify-center px-2"},Ki={class:"w-16 h-16 rounded-full ring ring-green-100 bg-green-400 border-4 mb-2 border-green-200 flex flex-col items-center justify-center"},Zi={class:"text-2xl leading-none text-white font-semibold"},Wi=i("span",{class:"text-sm"},"/8",-1),Yi=i("h2",{class:"text-xxs text-gray-500"},"Ranking America",-1),Qi=i("h2",{class:"text-xxs leading-none uppercase text-gray-500 font-bold"}," OT MP Finalizadas ",-1),an={class:"w-36 h-36 flex flex-col items-center justify-center px-2"},en={class:"w-16 h-16 rounded-full ring ring-purple-100 bg-purple-400 border-4 mb-2 border-purple-200 flex flex-col items-center justify-center"},sn={class:"text-2xl leading-none text-white font-semibold"},on=i("span",{class:"text-sm"},"/8",-1),tn=i("h2",{class:"text-xxs text-gray-500"},"Ranking America",-1),nn=i("h2",{class:"text-xxs leading-none uppercase text-gray-500 font-bold text-center"}," OT MP acumuladas ",-1);fi.render=function(n,d,u,f,m,p){const x=a("iconos");return o(),e(c,null,[u.visible?(o(),e("div",mi,pi)):t("",!0),u.visible?t("",!0):(o(),e("div",xi,[i("div",gi,[i("div",hi,[s(x,{icono:"plus",class:"w-4"})]),i("h1",bi,l(u.creadas),1),vi,i("h2",yi,[wi,i("span",Mi,l(u.ratioCredas),1)]),i("h2",Ci,[ki,i("span",Si,l(u.mediaHoras)+" H",1)])]),i("div",Pi,[i("div",zi,[s(x,{icono:"loader",class:"w-4"})]),i("h1",Di,l(u.proceso),1),Ii]),i("div",Fi,[i("div",Ai,[s(x,{icono:"check-square",class:"w-4"})]),i("h1",Ui,l(u.finalizado),1),ji,i("h2",Gi,[Ri,i("span",Oi,l(u.ratioFinalizadas),1)])]),i("div",Ei,[i("div",Ni,[s(x,{icono:"alert-triangle",class:"w-4"})]),i("h1",qi,l(u.acumulado),1),Bi,Ti]),i("div",Vi,[i("div",Li,[i("h1",Hi,[r(l(u.ranproceso),1),_i])]),Ji,$i]),i("div",Xi,[i("div",Ki,[i("h1",Zi,[r(l(u.ranfinalizado),1),Wi])]),Yi,Qi]),i("div",an,[i("div",en,[i("h1",sn,[r(l(u.ranacumulado),1),on])]),tn,nn])]))],64)};const ln={props:{},setup:()=>({})},rn={class:"flex flex-col w-full flex-wrap items-center justify-start"},cn=[n('<div class="w-60 h-8 bg-gray-200 animate-pulse mb-4 mt-6"></div><div class="w-100 h-16 rounded-lg bg-white animate-pulse mb-4 flex flex-row items-center justify-around"><div class="w-1/4 bg-gray-200 animate-pulse h-6"></div><div class="w-1/4 bg-gray-200 animate-pulse h-6"></div><div class="w-1/4 bg-gray-200 animate-pulse h-6"></div></div><div class="flex flex-row items-center justify-around w-full md:w-7/12 bg-white flex-wrap rounded-lg h-32 animate-pulse mb-4"><div class="w-16 h-16 rounded-full bg-gray-200 animate-pulse"></div><div class="w-16 h-16 rounded-full bg-gray-200 animate-pulse"></div><div class="w-16 h-16 rounded-full bg-gray-200 animate-pulse"></div><div class="w-16 h-16 rounded-full bg-gray-200 animate-pulse"></div><div class="w-16 h-16 rounded-full bg-gray-200 animate-pulse"></div><div class="w-16 h-16 rounded-full bg-gray-200 animate-pulse"></div><div class="w-16 h-16 rounded-full bg-gray-200 animate-pulse"></div></div><div class="flex flex-row p-6 items-center justify-around w-full md:w-7/12 bg-white flex-wrap rounded-lg animate-pulse"><div class="w-60 h-8 bg-gray-200 animate-pulse mb-4"></div><div class="w-full h-44 bg-gray-200 animate-pulse"></div></div>',4)];ln.render=function(a,s,t,i,n,l){return o(),e("div",rn,cn)};const dn={name:"Trmp",components:{MarcadoresMp:fi,GraficoCircularCss:Me,GraficoBarrasCss:Oe,GraficoBarrasCssSkeleton:os,Graficotest:Be,Rankings:_e,SkeletonTr:ln,Iconos:J},props:{},setup(){const a=A().dispatch,e=A().state,s=U();j((()=>{c("","","cargar"),d(),u(),f(),p(),x(),g(),h()}));const o=G((()=>e.skeleton)),t=G((()=>e.datosMP)),i=G((()=>e.arrayGrafica)),n=m({fechaInicio:"",fechaFin:""}),l=m(""),r=m(""),c=(a,e,s)=>{const o=R(O(new Date,{days:5}),"yyyy-MM-dd"),t=R(new Date,"yyyy-MM-dd");if(!localStorage.getItem("fechas"))return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),n.value.fechaInicio=o,void(n.value.fechaFin=t);if(localStorage.getItem("fechas")){const i=JSON.parse(localStorage.getItem("fechas"));if("cargar"==s&&i.fechaInicio&&i.fechaFin)return n.value.fechaInicio=i.fechaInicio,void(n.value.fechaFin=i.fechaFin);if("actualizar"==s&&i.fechaInicio&&i.fechaFin)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:a,fechaFin:e})),n.value.fechaInicio=a,void(n.value.fechaFin=e);if("cargar"==s||"actualizar"==s)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),n.value.fechaInicio=o,void(n.value.fechaFin=t)}},d=async()=>{l.value=R(new Date(Math.round(n.value.fechaInicio.slice(0,4)),Math.round(n.value.fechaInicio.slice(5,7))-1,Math.round(n.value.fechaInicio.slice(8,10))),"dd MMMM"),r.value=R(new Date(Math.round(n.value.fechaFin.slice(0,4)),Math.round(n.value.fechaFin.slice(5,7))-1,Math.round(n.value.fechaFin.slice(8,10))),"dd MMMM"),e.skeleton.marcadores=!0,e.skeleton.barrasCreadasVSSolucionadas=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:n.value.fechaInicio,fechaFin:n.value.fechaFin,apartado:"ReporteRanking",accion:"mpSecciones"},i=await a("peticion",t);if(i.response){const a=i.data.data;i.data.destino[0]?e.datosMP.destino=i.data.destino[0].destino:e.datosMP.destino="",e.datosMP.totalSemanasPlanificadasGlobal=a.global.totalSemanasPlanificadasGlobal,e.datosMP.creadas=a.global.creadasGlobal,e.datosMP.pendientes=a.global.pendientesGlobal,e.datosMP.finalizados=a.global.solucionadosGlobal,e.datosMP.acumulado=a.global.acumuladoGlobal,e.datosMP.planificados=a.global.planificadoGlobal,e.datosMP.mediaHoras=a.global.mediaHoras.toFixed(2),e.datosMP.ratioCredas=a.global.ratioCredas.toFixed(2),e.datosMP.ratioFinalizadas=a.global.ratioFinalizadas.toFixed(2),e.datosMP.planificadoVSfinalizado=a.secciones.sort(((a,e)=>e.planificado-a.planificado)),e.datosMP.finalizadosPrevio=0,a.secciones.forEach((a=>{const s=a.solucionados-a.planificado;s>0&&(e.datosMP.finalizadosPrevio=s+e.datosMP.finalizadosPrevio)})),e.skeleton.marcadores=!1,e.skeleton.barrasCreadasVSSolucionadas=!1}},u=async()=>{e.skeleton.grafica=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:n.value.fechaInicio,fechaFin:n.value.fechaFin,apartado:"ReporteRanking",accion:"mpGrafica"},i=await a("peticion",t);if(i.response){const a=i.data.data;e.arrayGrafica=a,e.skeleton.grafica=!1}},f=async()=>{e.skeleton.barrasPlanificacionAnual=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:`${B(new Date)}-01-01`,fechaFin:`${B(new Date)}-12-31`,apartado:"ReporteRanking",accion:"mpPlaneaciones"},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.totalPlanificaciones=a.totalPlanificacionesGlobal,e.datosMP.totalConPlanificacionCompleta=a.totalPlanificadosCompletosGlobal,e.datosMP.totalConPlanificacionIncompleta=a.totalPlanificadosIncompletosGlobal,e.datosMP.totalSinPlanificacion=a.totalSinPlanificacionesGlobal,e.datosMP.totalPlanifiaciones=a.totalPlanificacionesGlobal,e.datosMP.planeacionesSecciones=a.planeacionesSecciones.sort(((a,e)=>e.totalPlanificaciones-a.totalPlanificaciones)),e.skeleton.barrasPlanificacionAnual=!1}},p=async()=>{let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:`${B(new Date)}-01-01`,fechaFin:`${B(new Date)}-12-31`,apartado:"ReporteRanking",accion:"mpPlanificacionesEquipos"},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.totalEquipos=a.totalEquipos,e.datosMP.totalEquiposConPlanificacion=a.totalEquiposConPlanificacion,e.datosMP.totalEquiposSinPlanificacion=a.totalEquiposSinPlanificacion,a.totalEquipos>0&&(e.datosMP.totalEquiposPlanCompleto=(100/a.totalEquipos*a.totalEquiposPlanCompleto).toFixed(1))}},x=async()=>{e.skeleton.barrasCreados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:n.value.fechaInicio,fechaFin:n.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMC",status:"TODOS"},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.mcCreados=a.global.mcGlobal,e.datosMP.mpCreados=a.global.mpGlobal,e.datosMP.mcmpCreados=a.secciones.sort(((a,e)=>e.mp-a.mp)),e.skeleton.barrasCreados=!1}},g=async()=>{e.skeleton.barrasSolucionados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:n.value.fechaInicio,fechaFin:n.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMC",status:"SOLUCIONADO"},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.mcFinalizado=a.global.mcGlobal,e.datosMP.mpFinalizado=a.global.mpGlobal,e.datosMP.mcmpFinalizados=a.secciones.sort(((a,e)=>e.mp-a.mp)),e.skeleton.barrasSolucionados=!1}},h=async()=>{e.skeleton.ranking=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:n.value.fechaInicio,fechaFin:n.value.fechaFin,apartado:"ReporteRanking",accion:"rankingMP"},i=await a("peticion",t);if(i.response){const a=i.data.data.creados;a&&(a.sort(((a,e)=>e.total-a.total)),e.datosMP.rankingMPCreadas=a,a.forEach(((a,s)=>{a.idDestino==o&&(e.datosMP.rankingCreadas=s+1)})));const s=i.data.data.solucionados;s&&(s.sort(((a,e)=>e.total-a.total)),e.datosMP.rankingMPFinalizada=s,s.forEach(((a,s)=>{a.idDestino==o&&(e.datosMP.rankingFinalizado=s+1)})));const t=i.data.data.pendientes;t&&(t.sort(((a,e)=>a.total-e.total)),e.datosMP.rankingMPAcumulado=t,t.forEach(((a,s)=>{a.idDestino==o&&(e.datosMP.rankingAcumulado=s+1)})));const n=i.data.data.mpmcCreados;n&&(n.sort(((a,e)=>a.total-e.total)),e.datosMP.rankingmcmpCreados=n),e.skeleton.ranking=!1}};return{aplicar:d,graficar:u,arrayGrafica:i,planificacionAnual:f,planificacionAnualEquipos:p,skeleton:o,datosMP:t,fechas:n,fechaA:l,fechaB:r,mcmpCreados:x,mcmpFinalizados:g,rankingGlobal:h,router:s,comprobarFechas:c}}};d("data-v-481ca02d");const un={class:"p-2 md:p-6"},fn={class:"text-2xl font-semibold text-gray-700 pb-4 text-center uppercase"},mn=r(" TR Preventivo "),pn={class:"font-bold"},xn={class:"w-full flex flex-row items-center justify-center"},gn={class:"bg-white flex items-center justify-start rounded-xl"},hn={class:"p-3"},bn=i("h1",{class:"text-xxs font-semibold"},"Día Inicial",-1),vn={class:"p-3"},yn=i("h1",{class:"text-xxs font-semibold"},"Día Final",-1),wn={class:"p-3"},Mn={class:"w-full my-4 flex flex-col items-center justify-start"},Cn={class:"flex flex-col items-center justify-start w-full md:w-7/12 bg-white shadow-sm mt-4 flex-wrap rounded-lg pb-10"},kn=i("h1",{class:"mt-4 text-gray-700 font-semibold text-2xl uppercase leading-none"}," Preventivos ",-1),Sn={class:"text-gray-500 text-xxs leading-none"},Pn=r(" Del "),zn={class:"font-bold"},Dn=r(" al "),In={class:"font-bold"},Fn={key:0,class:"w-full h-80 p-6"},An=[i("div",{class:"bg-gray-200 animate-pulse w-full h-full rounded-lg"},null,-1)],Un=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," PLANIFICADO VS FINALIZADO ",-1),jn={class:"text-gray-500 text-xxs leading-none mb-4"},Gn=r(" Del "),Rn={class:"font-bold"},On=r(" al "),En={class:"font-bold"},Nn={class:"w-full flex flex-row flex-wrap items-center justify-around"},qn={class:"flex flex-col font-bold"},Bn=i("h2",{class:"text-sm text-left leading-none creadas mb-1"}," Planificado ",-1),Tn={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Vn=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," Finalizado ",-1),Ln={class:"text-3xl text-left leading-none mb-3 text-gray-700"},Hn=i("h2",{class:"text-sm text-left leading-none acumulado mb-1"}," Acumulado ",-1),_n={class:"text-2xl text-left leading-none mb-3 text-gray-700"},Jn=i("h2",{class:"text-sm text-left leading-none finalizado"}," Finalizado sin plan previo ",-1),$n={class:"text-2xl text-left leading-none mb-3 text-gray-700"},Xn={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible"},Kn=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," PLANIFICACION MP ",-1),Zn={class:"w-full flex flex-row flex-wrap items-center justify-around pt-8"},Wn={class:"flex flex-col font-bold md:w-1/4 w-1/2 md:mb-0 mb-4 items-center justify-center"},Yn={class:"text-4xl text-center leading-none text-gray-700"},Qn=i("h2",{class:"text-sm text-center leading-none text-gray-500"}," Total Planificaciones ",-1),al={class:"flex flex-col font-bold md:w-1/4 w-1/2 md:mb-0 mb-4 items-center justify-center"},el={class:"text-4xl text-center leading-none text-gray-700"},sl=i("h2",{class:"text-xs text-center leading-none text-gray-500 w-56"}," Con planificacion anual completa ",-1),ol={class:"text-2xl text-center leading-none text-gray-700 mt-1 flex items-center justify-center"},tl={class:"flex flex-col font-bold md:w-1/4 w-1/2 md:mb-0 mb-4 items-center justify-center"},il={class:"text-4xl text-center leading-none text-gray-700"},nl=i("h2",{class:"text-xs text-center leading-none text-gray-500 w-56"}," Con planificacion anual incompleta ",-1),ll={class:"text-2xl text-center leading-none text-gray-700 mt-1"},rl={class:"flex flex-col font-bold md:w-1/4 w-1/2 mb-4 md:mb-0 items-center justify-center"},cl={class:"text-4xl text-center leading-none text-gray-700"},dl=i("h2",{class:"text-xs text-center leading-none text-gray-500 w-56"}," Sin planificacion ",-1),ul={class:"text-2xl text-center leading-none text-gray-700 mt-1"},fl={class:"w-full md:w-auto p-3 flex flex-row items-center justify-around overflow-x-auto md:overflow-x-visible"},ml=i("div",{class:"hidden lg:flex flex-row items-center mr-4 text-xs font-semibold text-gray-500"},[i("div",{class:"bg-creadas w-4 h-4 rounded mr-2"}),i("h1",{class:"w-32"},"% de Planificacion anual completa.")],-1),pl={class:"flex flex-col font-bold"},xl=i("h2",{class:"text-sm text-left leading-none text-gray-500 mt-3 mb-1"}," Total Activos ",-1),gl={class:"text-4xl text-left leading-none mb-3 text-gray-700"},hl=i("h2",{class:"text-sm text-left leading-none text-red-500 mb-1"}," Activos Sin Planificación ",-1),bl={class:"text-3xl text-left leading-none mb-3 text-gray-700"},vl=i("h2",{class:"text-sm text-left leading-none creadas mb-1"}," Equipos Con Planificación ",-1),yl={class:"text-2xl text-left leading-none mb-3 text-gray-700"},wl=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," Equipos Con Plan al 100% ",-1),Ml={class:"text-2xl text-left leading-none mb-3 text-gray-700"},Cl=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," Preventivo creado vs Incidencias creadas ",-1),kl={class:"text-gray-500 text-xxs leading-none mb-4"},Sl=r(" Del "),Pl={class:"font-bold"},zl=r(" al "),Dl={class:"font-bold"},Il={class:"w-full flex flex-row flex-wrap items-center justify-around"},Fl={class:"w-full md:w-auto p-3 flex flex-row items-start justify-around overflow-x-auto md:overflow-x-visible"},Al={class:"flex flex-col font-bold"},Ul=i("h2",{class:"text-sm text-right leading-none proceso mb-1"}," MP Creados ",-1),jl={class:"text-4xl text-right leading-none mb-3 text-gray-700"},Gl=i("h2",{class:"text-sm text-right leading-none proceso2 mb-1"}," MC Creadas ",-1),Rl={class:"text-4xl text-right leading-none mb-3 text-gray-700"},Ol=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," Preventivo solucionado vs Incidencias solucionadas ",-1),El={class:"text-gray-500 text-xxs leading-none mb-4"},Nl=r(" Del "),ql={class:"font-bold"},Bl=r(" al "),Tl={class:"font-bold"},Vl={class:"w-full flex flex-row flex-wrap items-center justify-around"},Ll={class:"flex flex-col font-bold"},Hl=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," MP Finalizados ",-1),_l={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Jl=i("h2",{class:"text-sm text-left leading-none mp1 mb-1"}," MC Finalizados ",-1),$l={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Xl={class:"w-full md:w-auto p-3 flex flex-row items-start justify-around overflow-x-auto md:overflow-x-visible"},Kl=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," Rankings américa ",-1),Zl={class:"text-gray-500 text-xxs leading-none mb-4"},Wl=r(" Del "),Yl={class:"font-bold"},Ql=r(" al "),ar={class:"font-bold"},er={class:"w-full flex flex-row flex-wrap items-center justify-around px-8 pt-6"};u(),dn.render=function(n,r,d,u,f,m){const p=a("Iconos"),x=a("MarcadoresMp"),g=a("Graficotest"),h=a("GraficoCircularCss"),b=a("GraficoBarrasCssSkeleton"),v=a("GraficoBarrasCss"),y=a("Rankings");return o(),e("div",un,[i("h1",fn,[mn,i("span",pn,l(u.datosMP.destino),1)]),i("div",xn,[i("div",gn,[i("div",hn,[bn,E(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[0]||(r[0]=a=>u.fechas.fechaInicio=a),onChange:r[1]||(r[1]=a=>u.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[N,u.fechas.fechaInicio]])]),s(p,{icono:"arrow-right",class:"w-4"}),i("div",vn,[yn,E(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[2]||(r[2]=a=>u.fechas.fechaFin=a),onChange:r[3]||(r[3]=a=>u.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[N,u.fechas.fechaFin]])]),i("div",wn,[i("button",{class:"bg-purple-50 text-purple-500 py-1 px-2 rounded-lg text-sm border border-purple-400",onClick:r[4]||(r[4]=a=>{u.aplicar(),u.graficar(),u.mcmpCreados(),u.mcmpFinalizados(),u.rankingGlobal()})}," Aplicar ")])])]),i("div",Mn,[s(x,{creadas:u.datosMP.creadas,proceso:u.datosMP.pendientes,finalizado:u.datosMP.finalizados,acumulado:u.datosMP.acumulado,ranfinalizado:u.datosMP.rankingFinalizado,ranproceso:u.datosMP.rankingCreadas,ranacumulado:u.datosMP.rankingAcumulado,ratioCredas:u.datosMP.ratioCredas,ratioFinalizadas:u.datosMP.ratioFinalizadas,mediaHoras:u.datosMP.mediaHoras,visible:u.skeleton.marcadores},null,8,["creadas","proceso","finalizado","acumulado","ranfinalizado","ranproceso","ranacumulado","ratioCredas","ratioFinalizadas","mediaHoras","visible"]),i("div",Cn,[kn,i("h1",Sn,[Pn,i("span",zn,l(u.fechaA),1),Dn,i("span",In,l(u.fechaB),1)]),u.skeleton.grafica?(o(),e("div",Fn,An)):t("",!0),u.skeleton.grafica?t("",!0):(o(),q(g,{key:1,class:"mt-4 rounded-lg shadow-sm",arrayGrafica:u.arrayGrafica},null,8,["arrayGrafica"])),Un,i("h1",jn,[Gn,i("span",Rn,l(u.fechaA),1),On,i("span",En,l(u.fechaB),1)]),i("div",Nn,[i("div",qn,[Bn,i("h1",Tn,l(u.datosMP.totalSemanasPlanificadasGlobal),1),Vn,i("h1",Ln,l(u.datosMP.finalizados),1),Hn,i("h1",_n,l(u.datosMP.pendientes),1),Jn,i("h1",$n,l(u.datosMP.finalizadosPrevio),1)]),s(h,{texto:"Cumplimiento",color:"#00c4fa",color2:"#acedff",porcentaje:u.datosMP.totalSemanasPlanificadasGlobal>0?Math.round(100/u.datosMP.totalSemanasPlanificadasGlobal*u.datosMP.finalizados):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["porcentaje","visualizar"]),i("div",Xn,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMP.planificadoVSfinalizado,(a=>(o(),q(v,{key:a,seccion:a.seccion,creadas:a.planificado,finalizadas:a.solucionados,color1:"#acedff",color2:"#34d399",vs:!1,visualizar:u.skeleton.barrasCreadasVSSolucionadas,onDblclick:e=>n.$router.push("/mp/"+u.router.params.idDestino+"/seccion/"+a.idSeccion)},null,8,["seccion","creadas","finalizadas","visualizar","onDblclick"])))),128))])]),Kn,i("div",Zn,[i("div",Wn,[i("h1",Yn,l(u.datosMP.totalPlanificaciones),1),Qn]),i("div",al,[i("h1",el,l(u.datosMP.totalConPlanificacionCompleta),1),sl,i("h1",ol,l(u.datosMP.totalPlanifiaciones>0?(100/u.datosMP.totalPlanifiaciones*u.datosMP.totalConPlanificacionCompleta).toFixed(1):0)+"% ",1)]),i("div",tl,[i("h1",il,l(u.datosMP.totalConPlanificacionIncompleta),1),nl,i("h1",ll,l(u.datosMP.totalPlanifiaciones>0?(100/u.datosMP.totalPlanifiaciones*u.datosMP.totalConPlanificacionIncompleta).toFixed(1):0)+"% ",1)]),i("div",rl,[i("h1",cl,l(u.datosMP.totalSinPlanificacion),1),dl,i("h1",ul,l(u.datosMP.totalPlanifiaciones>0?(100/u.datosMP.totalPlanifiaciones*u.datosMP.totalSinPlanificacion).toFixed(1):0)+"% ",1)]),i("div",fl,[ml,(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasPlanificacionAnual},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMP.planeacionesSecciones,(a=>(o(),q(v,{key:a,seccion:a.seccion,creadas:a.totalPlanificaciones,finalizadas:a.totalPlanificadosCompletos,color1:"#edf2f7",color2:"#00c4fa",vs:!1,visualizar:u.skeleton.barrasPlanificacionAnual,onDblclick:e=>n.$router.push("/mp/"+u.router.params.idDestino+"/seccion/"+a.idSeccion)},null,8,["seccion","creadas","finalizadas","visualizar","onDblclick"])))),128))]),i("div",pl,[xl,i("h1",gl,l(u.datosMP.totalEquipos),1),hl,i("h1",bl,l(u.datosMP.totalEquiposSinPlanificacion),1),vl,i("h1",yl,l(u.datosMP.totalEquiposConPlanificacion),1),wl,i("h1",Ml,l(u.datosMP.totalEquiposPlanCompleto)+"% ",1)])]),Cl,i("h1",kl,[Sl,i("span",Pl,l(u.fechaA),1),zl,i("span",Dl,l(u.fechaB),1)]),i("div",Il,[i("div",Fl,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMP.mcmpCreados,(a=>(o(),q(v,{key:a,seccion:a.seccion,creadas:a.mp+a.mc,finalizadas:a.mp,color1:"#ffe39c",color2:"#fbbf24",vs:!0,visualizar:u.skeleton.barrasCreados,onDblclick:e=>n.$router.push("/mp/"+u.router.params.idDestino+"/seccion/"+a.idSeccion)},null,8,["seccion","creadas","finalizadas","visualizar","onDblclick"])))),128))]),s(h,{texto:"MP CREADOS",color:"#fbbf24",color2:"#ffe39c",porcentaje:u.datosMP.mpCreados>0?Math.round(100/(u.datosMP.mpCreados+u.datosMP.mcCreados)*u.datosMP.mpCreados):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreados},null,8,["porcentaje","visualizar"]),i("div",Al,[Ul,i("h1",jl,l(u.datosMP.mpCreados),1),Gl,i("h1",Rl,l(u.datosMP.mcCreados),1)])]),Ol,i("h1",El,[Nl,i("span",ql,l(u.fechaA),1),Bl,i("span",Tl,l(u.fechaB),1)]),i("div",Vl,[i("div",Ll,[Hl,i("h1",_l,l(u.datosMP.mpFinalizado),1),Jl,i("h1",$l,l(u.datosMP.mcFinalizado),1)]),s(h,{texto:"MP Finalizados",color:"#34d399",color2:"#96ffd9",porcentaje:u.datosMP.mpFinalizado>0?Math.round(100/(u.datosMP.mpFinalizado+u.datosMP.mcFinalizado)*u.datosMP.mpFinalizado):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasSolucionados},null,8,["porcentaje","visualizar"]),i("div",Xl,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasSolucionados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMP.mcmpFinalizados,(a=>(o(),q(v,{key:a,seccion:a.seccion,creadas:a.mc+a.mp,finalizadas:a.mp,color1:"#96ffd9",color2:"#34d399",vs:!0,visualizar:u.skeleton.barrasSolucionados,onDblclick:e=>n.$router.push("/mp/"+u.router.params.idDestino+"/seccion/"+a.idSeccion)},null,8,["seccion","creadas","finalizadas","visualizar","onDblclick"])))),128))])]),Kl,i("h1",Zl,[Wl,i("span",Yl,l(u.fechaA),1),Ql,i("span",ar,l(u.fechaB),1)]),i("div",er,[s(y,{nombre:"Más OT MP Creadas",color:"#00c4fa",menosAmas:!1,destinos:u.datosMP.rankingMPCreadas,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Más OT MP Solucionadas",color:"#34d399",menosAmas:!1,destinos:u.datosMP.rankingMPFinalizada,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Menos OT MP Acumuladas",color:"#563bff",menosAmas:!0,destinos:u.datosMP.rankingMPAcumulado,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Mas MP vs MC",color:"#fbbf24",simbolo:"%",menosAmas:!1,destinos:u.datosMP.rankingmcmpCreados,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"])])])])])},dn.__scopeId="data-v-481ca02d";const sr={name:"TrmpSubsecciones",components:{MarcadoresMp:fi,GraficoCircularCss:Me,GraficoBarrasCss:Oe,GraficoBarrasCssSkeleton:os,Graficotest:Be,Rankings:_e,RankingsUsuarios:ns,SkeletonTr:ln,Iconos:J},props:{},setup(){const a=A().dispatch,e=A().state,s=U();j((()=>{y("","","cargar"),d(),u(),f(),p(),x(),g(),h(),b(),v()}));const o=G((()=>e.skeleton)),t=G((()=>e.datosMP)),i=G((()=>e.arrayGrafica)),n=G((()=>e.seccion)),l=m({fechaInicio:"",fechaFin:""}),r=m(""),c=m(""),d=async()=>{r.value=R(new Date(Math.round(l.value.fechaInicio.slice(0,4)),Math.round(l.value.fechaInicio.slice(5,7))-1,Math.round(l.value.fechaInicio.slice(8,10))),"dd MMMM"),c.value=R(new Date(Math.round(l.value.fechaFin.slice(0,4)),Math.round(l.value.fechaFin.slice(5,7))-1,Math.round(l.value.fechaFin.slice(8,10))),"dd MMMM"),e.skeleton.marcadores=!0,e.skeleton.barrasCreadasVSSolucionadas=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:l.value.fechaInicio,fechaFin:l.value.fechaFin,apartado:"ReporteRanking",accion:"mpSubsecciones",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data;i.data.destino[0]?e.datosMP.destino=i.data.destino[0].destino:e.datosMP.destino="",e.datosMP.totalSemanasPlanificadasGlobal=a.global.totalSemanasPlanificadasGlobal,e.datosMP.creadas=a.global.creadasGlobal,e.datosMP.pendientes=a.global.pendientesGlobal,e.datosMP.finalizados=a.global.solucionadosGlobal,e.datosMP.acumulado=a.global.acumuladoGlobal,e.datosMP.planificados=a.global.planificadoGlobal,e.datosMP.mediaHoras=a.global.mediaHoras.toFixed(2),e.datosMP.ratioCredas=a.global.ratioCredas.toFixed(2),e.datosMP.ratioFinalizadas=a.global.ratioFinalizadas.toFixed(2),e.datosMP.planificadoVSfinalizado=a.subsecciones.sort(((a,e)=>e.planificado-a.planificado)),e.datosMP.finalizadosPrevio=0,a.subsecciones.forEach((a=>{const s=a.solucionados-a.planificado;s>0&&(e.datosMP.finalizadosPrevio=s+e.datosMP.finalizadosPrevio)})),e.skeleton.marcadores=!1,e.skeleton.barrasCreadasVSSolucionadas=!1}},u=async()=>{e.skeleton.grafica=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:l.value.fechaInicio,fechaFin:l.value.fechaFin,apartado:"ReporteRanking",accion:"mpGraficaSubsecciones",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data;e.arrayGrafica=a,e.skeleton.grafica=!1}},f=async()=>{e.skeleton.barrasPlanificacionAnual=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:`${B(new Date)}-01-01`,fechaFin:`${B(new Date)}-12-31`,apartado:"ReporteRanking",accion:"mpPlaneacionesSubsecciones",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.totalPlanificaciones=a.totalPlanificacionesGlobal,e.datosMP.totalConPlanificacionCompleta=a.totalPlanificadosCompletosGlobal,e.datosMP.totalConPlanificacionIncompleta=a.totalPlanificadosIncompletosGlobal,e.datosMP.totalSinPlanificacion=a.totalSinPlanificacionesGlobal,e.datosMP.totalPlanifiaciones=a.totalPlanificacionesGlobal,e.datosMP.planeacionesSecciones=a.planeacionesSecciones.sort(((a,e)=>e.totalPlanificaciones-a.totalPlanificaciones)),e.skeleton.barrasPlanificacionAnual=!1}},p=async()=>{let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:`${B(new Date)}-01-01`,fechaFin:`${B(new Date)}-12-31`,apartado:"ReporteRanking",accion:"mpPlanificacionesEquiposSubsecciones",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.totalEquipos=a.totalEquipos,e.datosMP.totalEquiposConPlanificacion=a.totalEquiposConPlanificacion,e.datosMP.totalEquiposSinPlanificacion=a.totalEquiposSinPlanificacion,a.totalEquipos>0&&(e.datosMP.totalEquiposPlanCompleto=(100/a.totalEquipos*a.totalEquiposPlanCompleto).toFixed(1))}},x=async()=>{e.skeleton.barrasCreados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:l.value.fechaInicio,fechaFin:l.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMCSubsecciones",status:"TODOS",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.mcCreados=a.global.mcGlobal,e.datosMP.mpCreados=a.global.mpGlobal,e.datosMP.mcmpCreados=a.secciones.sort(((a,e)=>e.mp-a.mp)),e.skeleton.barrasCreados=!1}},g=async()=>{e.skeleton.barrasSolucionados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:l.value.fechaInicio,fechaFin:l.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMCSubsecciones",status:"SOLUCIONADO",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.mcFinalizado=a.global.mcGlobal,e.datosMP.mpFinalizado=a.global.mpGlobal,e.datosMP.mcmpFinalizados=a.secciones.sort(((a,e)=>e.mp-a.mp)),e.skeleton.barrasSolucionados=!1}},h=async()=>{e.skeleton.ranking=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:l.value.fechaInicio,fechaFin:l.value.fechaFin,apartado:"ReporteRanking",accion:"rankingMPSubsecciones",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data.creados;a&&(a.sort(((a,e)=>e.total-a.total)),e.datosMP.rankingMPCreadas=a,a.forEach(((a,s)=>{a.idDestino==o&&(e.datosMP.rankingCreadas=s+1)})));const s=i.data.data.solucionados;s&&(s.sort(((a,e)=>e.total-a.total)),e.datosMP.rankingMPFinalizada=s,s.forEach(((a,s)=>{a.idDestino==o&&(e.datosMP.rankingFinalizado=s+1)})));const t=i.data.data.pendientes;t&&(t.sort(((a,e)=>a.total-e.total)),e.datosMP.rankingMPAcumulado=t,t.forEach(((a,s)=>{a.idDestino==o&&(e.datosMP.rankingAcumulado=s+1)})));const n=i.data.data.mpmcCreados;n&&(n.sort(((a,e)=>a.total-e.total)),e.datosMP.rankingmcmpCreados=n),e.skeleton.ranking=!1}},b=async()=>{e.skeleton.rankingUsuarios=!0;let o=0;e.datosMP.creadosUsuarios=[],e.datosMP.solucionadosUsuarios=[],e.datosMP.acumuladosUsuarios=[],0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:l.value.fechaInicio,fechaFin:l.value.fechaFin,apartado:"ReporteRanking",accion:"preventivosUsuarios",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){i.data.data.forEach((a=>{a.preventivosCreados>0&&e.datosMP.creadosUsuarios.push({idUsuario:a.idUsuario,nombre:a.nombre+" "+a.apellido,total:a.preventivosCreados,usuarioActual:!(!localStorage.getItem("usuario")||localStorage.getItem("usuario")!=a.idUsuario)}),a.preventivosSolucionados>0&&e.datosMP.solucionadosUsuarios.push({idUsuario:a.idUsuario,nombre:a.nombre+" "+a.apellido,total:a.preventivosSolucionados,usuarioActual:!(!localStorage.getItem("usuario")||localStorage.getItem("usuario")!=a.idUsuario)}),a.preventivosPendientes>0&&e.datosMP.acumuladosUsuarios.push({idUsuario:a.idUsuario,nombre:a.nombre+" "+a.apellido,total:a.preventivosPendientes,usuarioActual:!(!localStorage.getItem("usuario")||localStorage.getItem("usuario")!=a.idUsuario)})})),e.datosMP.acumuladosUsuarios.sort(((a,e)=>e.total-a.total)),e.datosMP.creadosUsuarios.sort(((a,e)=>e.total-a.total)),e.datosMP.solucionadosUsuarios.sort(((a,e)=>e.total-a.total)),e.skeleton.rankingUsuarios=!1}i.response||(e.skeleton.rankingUsuarios=!1)},v=async()=>{let o=0;e.datosMC.creadosUsuarios=[],e.datosMC.solucionadosUsuarios=[],e.datosMC.acumuladosUsuarios=[],0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,apartado:"ReporteRanking",accion:"detalleSeccion",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data[0];e.seccion=a.seccion}},y=(a,e,s)=>{const o=R(O(new Date,{days:5}),"yyyy-MM-dd"),t=R(new Date,"yyyy-MM-dd");if(!localStorage.getItem("fechas"))return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),l.value.fechaInicio=o,void(l.value.fechaFin=t);if(localStorage.getItem("fechas")){const i=JSON.parse(localStorage.getItem("fechas"));if("cargar"==s&&i.fechaInicio&&i.fechaFin)return l.value.fechaInicio=i.fechaInicio,void(l.value.fechaFin=i.fechaFin);if("actualizar"==s&&i.fechaInicio&&i.fechaFin)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:a,fechaFin:e})),l.value.fechaInicio=a,void(l.value.fechaFin=e);if("cargar"==s||"actualizar"==s)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),l.value.fechaInicio=o,void(l.value.fechaFin=t)}};return{aplicar:d,graficar:u,arrayGrafica:i,planificacionAnual:f,planificacionAnualEquipos:p,skeleton:o,datosMP:t,fechas:l,fechaA:r,fechaB:c,mcmpCreados:x,mcmpFinalizados:g,rankingGlobal:h,preventivosUsuarios:b,router:s,seccion:n}}};d("data-v-22a958ee");const or={class:"p-2 md:p-6"},tr={class:"text-2xl font-semibold text-gray-700 pb-4 text-center uppercase"},ir=r(" TR Preventivo "),nr={class:"font-bold"},lr={class:"w-full flex flex-row items-center justify-center"},rr={class:"bg-white flex items-center justify-start rounded-xl"},cr={class:"p-3"},dr=i("h1",{class:"text-xxs font-semibold"},"Día Inicial",-1),ur={class:"p-3"},fr=i("h1",{class:"text-xxs font-semibold"},"Día Final",-1),mr={class:"p-3"},pr={class:"w-full my-4 flex flex-col items-center justify-start"},xr={class:"flex flex-col items-center justify-start w-full md:w-7/12 bg-white shadow-sm mt-4 flex-wrap rounded-lg pb-10"},gr={class:"mt-4 text-gray-700 font-semibold text-2xl uppercase leading-none"},hr={class:"text-gray-500 text-xxs leading-none"},br=r(" Del "),vr={class:"font-bold"},yr=r(" al "),wr={class:"font-bold"},Mr={key:0,class:"w-full h-80 p-6"},Cr=[i("div",{class:"bg-gray-200 animate-pulse w-full h-full rounded-lg"},null,-1)],kr={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},Sr={class:"text-gray-500 text-xxs leading-none mb-4"},Pr=r(" Del "),zr={class:"font-bold"},Dr=r(" al "),Ir={class:"font-bold"},Fr={class:"w-full flex flex-row flex-wrap items-center justify-around"},Ar={class:"flex flex-col font-bold"},Ur=i("h2",{class:"text-sm text-left leading-none creadas mb-1"}," Planificado ",-1),jr={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Gr=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," Finalizado ",-1),Rr={class:"text-3xl text-left leading-none mb-3 text-gray-700"},Or=i("h2",{class:"text-sm text-left leading-none acumulado mb-1"}," Acumulado ",-1),Er={class:"text-2xl text-left leading-none mb-3 text-gray-700"},Nr=i("h2",{class:"text-sm text-left leading-none finalizado"}," Finalizado sin plan previo ",-1),qr={class:"text-2xl text-left leading-none mb-3 text-gray-700"},Br={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible px-16"},Tr={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},Vr={class:"w-full flex flex-row flex-wrap items-center justify-around pt-8"},Lr={class:"flex flex-col font-bold md:w-1/4 w-1/2 md:mb-0 mb-4 items-center justify-center"},Hr={class:"text-4xl text-center leading-none text-gray-700"},_r=i("h2",{class:"text-sm text-center leading-none text-gray-500"}," Total Planificaciones ",-1),Jr={class:"flex flex-col font-bold md:w-1/4 w-1/2 md:mb-0 mb-4 items-center justify-center"},$r={class:"text-4xl text-center leading-none text-gray-700"},Xr=i("h2",{class:"text-xs text-center leading-none text-gray-500 w-56"}," Con planificacion anual completa ",-1),Kr={class:"text-2xl text-center leading-none text-gray-700 mt-1 flex items-center justify-center"},Zr={class:"flex flex-col font-bold md:w-1/4 w-1/2 md:mb-0 mb-4 items-center justify-center"},Wr={class:"text-4xl text-center leading-none text-gray-700"},Yr=i("h2",{class:"text-xs text-center leading-none text-gray-500 w-56"}," Con planificacion anual incompleta ",-1),Qr={class:"text-2xl text-center leading-none text-gray-700 mt-1"},ac={class:"flex flex-col font-bold md:w-1/4 w-1/2 mb-4 md:mb-0 items-center justify-center"},ec={class:"text-4xl text-center leading-none text-gray-700"},sc=i("h2",{class:"text-xs text-center leading-none text-gray-500 w-56"}," Sin planificacion ",-1),oc={class:"text-2xl text-center leading-none text-gray-700 mt-1"},tc={class:"w-full md:w-auto p-3 flex flex-row items-center justify-around overflow-x-auto md:overflow-x-visible"},ic=i("div",{class:"hidden lg:flex flex-row items-center mr-4 text-xs font-semibold text-gray-500"},[i("div",{class:"bg-creadas w-4 h-4 rounded mr-2"}),i("h1",{class:"w-32"},"% de Planificacion anual completa.")],-1),nc={class:"flex flex-col font-bold"},lc=i("h2",{class:"text-sm text-left leading-none text-gray-500 mt-3 mb-1"}," Total Activos ",-1),rc={class:"text-4xl text-left leading-none mb-3 text-gray-700"},cc=i("h2",{class:"text-sm text-left leading-none text-red-500 mb-1"}," Activos Sin Planificación ",-1),dc={class:"text-3xl text-left leading-none mb-3 text-gray-700"},uc=i("h2",{class:"text-sm text-left leading-none creadas mb-1"}," Equipos Con Planificación ",-1),fc={class:"text-2xl text-left leading-none mb-3 text-gray-700"},mc=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," Equipos Con Plan al 100% ",-1),pc={class:"text-2xl text-left leading-none mb-3 text-gray-700"},xc={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},gc={class:"text-gray-500 text-xxs leading-none mb-4"},hc=r(" Del "),bc={class:"font-bold"},vc=r(" al "),yc={class:"font-bold"},wc={class:"w-full flex flex-row flex-wrap items-center justify-around"},Mc={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible px-16"},Cc={class:"flex flex-col font-bold"},kc=i("h2",{class:"text-sm text-right leading-none proceso mb-1"}," MP Creados ",-1),Sc={class:"text-4xl text-right leading-none mb-3 text-gray-700"},Pc=i("h2",{class:"text-sm text-right leading-none proceso2 mb-1"}," MC Creadas ",-1),zc={class:"text-4xl text-right leading-none mb-3 text-gray-700"},Dc={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},Ic={class:"text-gray-500 text-xxs leading-none mb-4"},Fc=r(" Del "),Ac={class:"font-bold"},Uc=r(" al "),jc={class:"font-bold"},Gc={class:"w-full flex flex-row flex-wrap items-center justify-around"},Rc={class:"flex flex-col font-bold"},Oc=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," MP Finalizados ",-1),Ec={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Nc=i("h2",{class:"text-sm text-left leading-none mp1 mb-1"}," MC Finalizados ",-1),qc={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Bc={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible px-16"},Tc={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},Vc={class:"text-gray-500 text-xxs leading-none mb-4"},Lc=r(" Del "),Hc={class:"font-bold"},_c=r(" al "),Jc={class:"font-bold"},$c={class:"w-full flex flex-row flex-wrap items-center justify-around px-8 pt-6"},Xc={class:"mt-8 text-gray-700 font-semibold text-xl uppercase"},Kc={class:"text-gray-500 text-xxs leading-none mb-4"},Zc=r(" Del "),Wc={class:"font-bold"},Yc=r(" al "),Qc={class:"font-bold"},ad={class:"w-full flex flex-wrap flex-row items-start justify-around px-8 pt-6"};u(),sr.render=function(n,r,d,u,f,m){const p=a("Iconos"),x=a("MarcadoresMp"),g=a("Graficotest"),h=a("GraficoCircularCss"),b=a("GraficoBarrasCssSkeleton"),v=a("GraficoBarrasCss"),y=a("Rankings"),w=a("RankingsUsuarios");return o(),e("div",or,[i("h1",tr,[ir,i("span",nr,l(u.datosMP.destino)+" "+l(u.seccion),1)]),i("div",lr,[i("div",rr,[i("div",cr,[dr,E(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[0]||(r[0]=a=>u.fechas.fechaInicio=a),onChange:r[1]||(r[1]=a=>n.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[N,u.fechas.fechaInicio]])]),s(p,{icono:"arrow-right",class:"w-4"}),i("div",ur,[fr,E(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[2]||(r[2]=a=>u.fechas.fechaFin=a),onChange:r[3]||(r[3]=a=>n.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[N,u.fechas.fechaFin]])]),i("div",mr,[i("button",{class:"bg-purple-50 text-purple-500 py-1 px-2 rounded-lg text-sm border border-purple-400",onClick:r[4]||(r[4]=a=>{u.aplicar(),u.graficar(),u.mcmpCreados(),u.mcmpFinalizados(),u.rankingGlobal(),u.preventivosUsuarios()})}," Aplicar ")])])]),i("div",pr,[s(x,{creadas:u.datosMP.creadas,proceso:u.datosMP.pendientes,finalizado:u.datosMP.finalizados,acumulado:u.datosMP.acumulado,ranfinalizado:u.datosMP.rankingFinalizado,ranproceso:u.datosMP.rankingCreadas,ranacumulado:u.datosMP.rankingAcumulado,ratioCredas:u.datosMP.ratioCredas,ratioFinalizadas:u.datosMP.ratioFinalizadas,mediaHoras:u.datosMP.mediaHoras,visible:u.skeleton.marcadores},null,8,["creadas","proceso","finalizado","acumulado","ranfinalizado","ranproceso","ranacumulado","ratioCredas","ratioFinalizadas","mediaHoras","visible"]),i("div",xr,[i("h1",gr," Preventivos "+l(u.seccion),1),i("h1",hr,[br,i("span",vr,l(u.fechaA),1),yr,i("span",wr,l(u.fechaB),1)]),u.skeleton.grafica?(o(),e("div",Mr,Cr)):t("",!0),u.skeleton.grafica?t("",!0):(o(),q(g,{key:1,class:"mt-4 rounded-lg shadow-sm",arrayGrafica:u.arrayGrafica},null,8,["arrayGrafica"])),i("h1",kr," PLANIFICADO VS FINALIZADO "+l(u.seccion),1),i("h1",Sr,[Pr,i("span",zr,l(u.fechaA),1),Dr,i("span",Ir,l(u.fechaB),1)]),i("div",Fr,[i("div",Ar,[Ur,i("h1",jr,l(u.datosMP.totalSemanasPlanificadasGlobal),1),Gr,i("h1",Rr,l(u.datosMP.finalizados),1),Or,i("h1",Er,l(u.datosMP.pendientes),1),Nr,i("h1",qr,l(u.datosMP.finalizadosPrevio),1)]),s(h,{texto:"Cumplimiento",color:"#00c4fa",color2:"#acedff",porcentaje:u.datosMP.totalSemanasPlanificadasGlobal>0?Math.round(100/u.datosMP.totalSemanasPlanificadasGlobal*u.datosMP.finalizados):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["porcentaje","visualizar"]),i("div",Br,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMP.planificadoVSfinalizado,(a=>(o(),q(v,{key:a,seccion:a.subseccion,creadas:a.planificado,finalizadas:a.solucionados,color1:"#acedff",color2:"#34d399",vs:!1,visualizar:u.skeleton.barrasCreadasVSSolucionadas,rotarTexto:!0},null,8,["seccion","creadas","finalizadas","visualizar"])))),128))])]),i("h1",Tr," PLANIFICACION MP "+l(u.seccion),1),i("div",Vr,[i("div",Lr,[i("h1",Hr,l(u.datosMP.totalPlanificaciones),1),_r]),i("div",Jr,[i("h1",$r,l(u.datosMP.totalConPlanificacionCompleta),1),Xr,i("h1",Kr,l(u.datosMP.totalPlanifiaciones>0?(100/u.datosMP.totalPlanifiaciones*u.datosMP.totalConPlanificacionCompleta).toFixed(1):0)+"% ",1)]),i("div",Zr,[i("h1",Wr,l(u.datosMP.totalConPlanificacionIncompleta),1),Yr,i("h1",Qr,l(u.datosMP.totalPlanifiaciones>0?(100/u.datosMP.totalPlanifiaciones*u.datosMP.totalConPlanificacionIncompleta).toFixed(1):0)+"% ",1)]),i("div",ac,[i("h1",ec,l(u.datosMP.totalSinPlanificacion),1),sc,i("h1",oc,l(u.datosMP.totalPlanifiaciones>0?(100/u.datosMP.totalPlanifiaciones*u.datosMP.totalSinPlanificacion).toFixed(1):0)+"% ",1)]),i("div",tc,[ic,(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasPlanificacionAnual},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMP.planeacionesSecciones,(a=>(o(),q(v,{key:a,seccion:a.subseccion,creadas:a.totalPlanificaciones,finalizadas:a.totalPlanificadosCompletos,color1:"#edf2f7",color2:"#00c4fa",vs:!1,visualizar:u.skeleton.barrasPlanificacionAnual,rotarTexto:!0},null,8,["seccion","creadas","finalizadas","visualizar"])))),128))]),i("div",nc,[lc,i("h1",rc,l(u.datosMP.totalEquipos),1),cc,i("h1",dc,l(u.datosMP.totalEquiposSinPlanificacion),1),uc,i("h1",fc,l(u.datosMP.totalEquiposConPlanificacion),1),mc,i("h1",pc,l(u.datosMP.totalEquiposPlanCompleto)+"% ",1)])]),i("h1",xc," Preventivo creado vs Incidencias creadas "+l(u.seccion),1),i("h1",gc,[hc,i("span",bc,l(u.fechaA),1),vc,i("span",yc,l(u.fechaB),1)]),i("div",wc,[i("div",Mc,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMP.mcmpCreados,(a=>(o(),q(v,{key:a,seccion:a.subseccion,creadas:a.mp+a.mc,finalizadas:a.mp,color1:"#ffe39c",color2:"#fbbf24",vs:!0,visualizar:u.skeleton.barrasCreados,rotarTexto:!0},null,8,["seccion","creadas","finalizadas","visualizar"])))),128))]),s(h,{texto:"MP CREADOS",color:"#fbbf24",color2:"#ffe39c",porcentaje:u.datosMP.mpCreados>0?Math.round(100/(u.datosMP.mpCreados+u.datosMP.mcCreados)*u.datosMP.mpCreados):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreados},null,8,["porcentaje","visualizar"]),i("div",Cc,[kc,i("h1",Sc,l(u.datosMP.mpCreados),1),Pc,i("h1",zc,l(u.datosMP.mcCreados),1)])]),i("h1",Dc," Preventivo solucionado vs Incidencias solucionadas "+l(u.seccion),1),i("h1",Ic,[Fc,i("span",Ac,l(u.fechaA),1),Uc,i("span",jc,l(u.fechaB),1)]),i("div",Gc,[i("div",Rc,[Oc,i("h1",Ec,l(u.datosMP.mpFinalizado),1),Nc,i("h1",qc,l(u.datosMP.mcFinalizado),1)]),s(h,{texto:"MP Finalizados",color:"#34d399",color2:"#96ffd9",porcentaje:u.datosMP.mpFinalizado>0?Math.round(100/(u.datosMP.mpFinalizado+u.datosMP.mcFinalizado)*u.datosMP.mpFinalizado):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasSolucionados},null,8,["porcentaje","visualizar"]),i("div",Bc,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasSolucionados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMP.mcmpFinalizados,(a=>(o(),q(v,{key:a,seccion:a.subseccion,creadas:a.mc+a.mp,finalizadas:a.mp,color1:"#96ffd9",color2:"#34d399",vs:!0,visualizar:u.skeleton.barrasSolucionados,rotarTexto:!0},null,8,["seccion","creadas","finalizadas","visualizar"])))),128))])]),i("h1",Tc," Rankings américa "+l(u.seccion),1),i("h1",Vc,[Lc,i("span",Hc,l(u.fechaA),1),_c,i("span",Jc,l(u.fechaB),1)]),i("div",$c,[s(y,{nombre:"Más OT MP Creadas",color:"#00c4fa",menosAmas:!1,destinos:u.datosMP.rankingMPCreadas,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Más OT MP Solucionadas",color:"#34d399",menosAmas:!1,destinos:u.datosMP.rankingMPFinalizada,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Menos OT MP Acumuladas",color:"#563bff",menosAmas:!0,destinos:u.datosMP.rankingMPAcumulado,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Mas MP vs MC",color:"#fbbf24",simbolo:"%",menosAmas:!1,destinos:u.datosMP.rankingmcmpCreados,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"])]),i("h1",Xc," Rankings Usuarios "+l(u.seccion),1),i("h1",Kc,[Zc,i("span",Wc,l(u.fechaA),1),Yc,i("span",Qc,l(u.fechaB),1)]),i("div",ad,[s(w,{nombre:"Creados por Usuarios",color:"#00c4fa",simbolo:"",menosAmas:!0,usuarios:u.datosMP.creadosUsuarios,visualizar:u.skeleton.rankingUsuarios},null,8,["usuarios","visualizar"]),s(w,{nombre:"Solucionados por Usuarios",color:"#34d399",simbolo:"",menosAmas:!0,usuarios:u.datosMP.solucionadosUsuarios,visualizar:u.skeleton.rankingUsuarios},null,8,["usuarios","visualizar"]),s(w,{nombre:"Acumulados por Usuarios",color:"#34d399",simbolo:"",menosAmas:!0,usuarios:u.datosMP.acumuladosUsuarios,visualizar:u.skeleton.rankingUsuarios},null,8,["usuarios","visualizar"])])])])])},sr.__scopeId="data-v-22a958ee";const ed=[{path:"/mc/:idDestino",name:"Trmpmc",component:Ss},{path:"/mc/:idDestino/seccion/:idSeccion",name:"TrmcSubsecciones",component:Lo},{path:"/mp/:idDestino",name:"Trmp",component:dn},{path:"/mp/:idDestino/seccion/:idSeccion",name:"TrmpSubsecciones",component:sr}],sd=T({history:V(),routes:ed});var od=L({state:{datosMC:{destino:"",creadas:0,enProceso:0,finalizado:0,acumulado:0,ratioCredas:0,ratioFinalizadas:0,mediaHoras:0,porcentajeSolucionado:0,rankingCreadas:0,rankingFinalizado:0,rankingAcumulado:0,mcFinalizado:0,mpFinalizado:0,mcmpFinalizado:[],mcCreados:0,mpCreados:0,mcmpCreados:[],rankingIncidenciasCreadas:[],rankingIncidenciasFinalizada:[],rankingEficiencia:[],rankingIncidenciasAcumulado:[],rankingmcmpCreados:[],creadosUsuarios:[],solucionadosUsuarios:[],acumuladosUsuarios:[]},datosMP:{destino:"",totalSemanasPlanificadasGlobal:0,creadas:0,planificados:0,pendientes:0,finalizados:0,finalizadosPrevio:0,acumulado:0,ratioCredas:0,ratioFinalizadas:0,mediaHoras:0,planificadoVSfinalizado:[],mcFinalizado:0,mpFinalizado:0,mcmpFinalizados:[],mcCreados:0,mpCreados:0,mcmpCreados:[],planeacionesSecciones:[],totalPlanifiaciones:0,totalConPlanifiacion:0,totalConPlanificacionCompleta:0,totalConPlanificacionIncompleta:0,totalSinPlanificacion:0,rankingmcmpCreados:[],rankingMPCreadas:[],rankingMPFinalizada:[],rankingMPAcumulado:[],rankingCreadas:0,rankingFinalizado:0,rankingAcumulado:0,totalPlanificaciones:0,totalEquipos:0,totalEquiposConPlanificacion:0,totalEquiposPlanCompleto:0,totalEquiposSinPlanificacion:0,creadosUsuarios:[],solucionadosUsuarios:[],acumuladosUsuarios:[]},skeleton:{barrasCreadasVSSolucionadas:!0,barrasPlanificacionAnual:!0,barrasCreados:!0,barrasSolucionados:!0,ranking:!0,grafica:!0,marcadores:!0,rankingUsuarios:!1},array:[],arrayGrafica:[],arraySecciones:[],arrayRankingCreadas:[],seccion:"ZIA"},mutations:{},actions:{async peticion({commit:a},e){try{const a=await fetch("../api_v3/",{method:"POST",body:JSON.stringify(e)}),s=await a.json();return"SUCCESS"==s.response?{response:!0,data:s}:{response:!1,data:[]}}catch(s){return console.log(s),{response:!1,data:[]}}}},modules:{}});H(_).use(od).use(sd).mount("#app");
