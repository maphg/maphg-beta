(function(){"use strict";var e={931:function(e,a,t){var o=t(963),i=t(252);const r=(0,i._)("div",{id:"modales"},null,-1);function s(e,a){const t=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)(i.HY,null,[r,(0,i.Wm)(t)],64)}var l=t(744);const n={},c=(0,l.Z)(n,[["render",s]]);var d=c,u=t(119),p=t.p+"img/lineal_animated.d5af41ab.svg";const v=e=>((0,i.dD)("data-v-1c754fe8"),e=e(),(0,i.Cn)(),e),g=p,f={class:"w-full h-screen flex items-center md:justify-center md:pl-20 justify-center",style:{"background-color":"#eef0fc"}},m={class:"bg-white w-80 h-132 rounded-3xl shadow-lg flex flex-col justify-evenly p-4 z-40 overflow-hidden"},w=v((()=>(0,i._)("div",{class:"w-full justify-center items-center flex"},[(0,i._)("img",{class:"w-32",src:p,srcset:g,alt:""})],-1))),b={class:"w-full"},y={class:"flex flex-col items-center relative"},h={key:0,class:"w-full text-left text-xs text-red-700 absolute top-10"},x={class:"flex flex-col items-center relative my-3"},k=["type"],D={key:0,class:"w-full text-left text-xs text-red-700 absolute top-10"},_=v((()=>(0,i._)("div",{class:"text-xs w-full text-center text-gray-400 hover:text-blue-300"},null,-1)));function C(e,a,t,r,s,l){return(0,i.wg)(),(0,i.iD)("div",f,[(0,i._)("div",m,[w,(0,i._)("form",b,[(0,i._)("div",y,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Usuario",class:"focus:outline-none focus:ring p-2 w-full rounded-md mb-2 ring-bluegray-300",style:{"background-color":"#f4f5f7"},"onUpdate:modelValue":a[0]||(a[0]=e=>r.datos.usuario=e)},null,512),[[o.nr,r.datos.usuario]]),r.datos.input1?((0,i.wg)(),(0,i.iD)("span",h," *Campo requerido ")):(0,i.kq)("",!0)]),(0,i._)("div",x,[(0,i.wy)((0,i._)("input",{type:r.datos.typeInput,placeholder:"Contraseña",class:"focus:outline-none focus:ring p-2 w-full rounded-md mb-2 ring-bluegray-300",autocomplete:"off",style:{"background-color":"#f4f5f7"},"onUpdate:modelValue":a[1]||(a[1]=e=>r.datos.contrasena=e)},null,8,k),[[o.YZ,r.datos.contrasena]]),r.datos.input2?((0,i.wg)(),(0,i.iD)("span",D," *Campo requerido ")):(0,i.kq)("",!0)]),(0,i._)("button",{class:"focus:outline-none focus:ring bg-gray-600 text-gray-50 p-2 w-full rounded-md mb-2 cursor-pointer ring-lime-300",onClick:a[2]||(a[2]=(...e)=>r.iniciarSesion&&r.iniciarSesion(...e))}," Entrar "),_])])])}var S=t(262),I=t(410),A={setup(){const e=(0,I.oR)(),a=t(455);(0,i.bv)((()=>{localStorage.setItem("usuario",""),localStorage.setItem("idDestino","")}));const o=(0,S.iH)({usuario:"",contrasena:"",typeInput:"password",input1:!1,input2:!1}),r=async()=>{if(o.value.input1=!1,o.value.input2=!1,!o.value.usuario.length)return void(o.value.input1=!0);if(!o.value.contrasena.length)return void(o.value.input2=!0);const t=await e.dispatch("sesion",{usuario:o.value.usuario,contrasena:o.value.contrasena,action:"sesion"});t.response?t.response&&t.data.data.idDestino&&(localStorage.setItem("idDestino",t.data.data.idDestino),localStorage.setItem("usuario",t.data.data.idUsuario),to.push("crear")):a.fire({title:"Error de Sesión",html:"Datos incorrectos!",icon:"error",background:"#2c3e50",customClass:{popup:"colored-toast",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},iconColor:"#F27878"})};return{datos:o,iniciarSesion:r}}};const j=(0,l.Z)(A,[["render",C],["__scopeId","data-v-1c754fe8"]]);var O=j,q=t(577);const H=e=>((0,i.dD)("data-v-1606a8e1"),e=e(),(0,i.Cn)(),e),z={class:"w-full bg-gris-30 h-screen flex flex-col items-center justify-start"},U=H((()=>(0,i._)("div",{class:"w-full p-4 font-bold text-xl"},[(0,i._)("h1",null,"Historial de Sábanas")],-1))),F={class:"w-full md:p-4 p-1 font-bold text-xl flex flex-row flex-wrap items-center justify-center"},R={class:"text-sm md:mr-4 md:mb-0 mb-4 md:w-auto w-1/2 px-4"},N=H((()=>(0,i._)("h1",{class:"uppercase"},"Fecha Inicial",-1))),L={class:"text-sm md:mr-4 md:mb-0 mb-4 md:w-auto w-1/2 px-4"},T=H((()=>(0,i._)("h1",{class:"uppercase"},"Fecha Final",-1))),M={class:"text-sm md:mr-4 md:mb-0 mb-4 md:w-auto w-1/2 px-4"},E=H((()=>(0,i._)("h1",{class:"uppercase"},"Hotel",-1))),Y=H((()=>(0,i._)("option",{value:""},"Seleccione Hotel",-1))),V=["value"],P={class:"text-sm md:mr-4 md:mb-0 mb-4 md:w-auto w-1/2 px-4"},K=H((()=>(0,i._)("h1",{class:"uppercase"},"Sábana",-1))),Z=H((()=>(0,i._)("option",{value:"TODOS"},"TODOS",-1))),B=["value"],W={class:"text-sm md:mr-4 md:mb-0 mb-4 md:w-auto w-1/2 px-4"},$=H((()=>(0,i._)("h1",{class:"uppercase"},"Villa",-1))),J=H((()=>(0,i._)("option",{value:"TODOS"},"TODOS",-1))),G=["value"],Q={class:"text-sm md:mb-0 mb-4 md:w-auto w-1/2 px-4"},X=H((()=>(0,i._)("h1",{class:"uppercase"},"Visualizar",-1))),ee=H((()=>(0,i._)("option",{value:"0"},"Todo",-1))),ae=H((()=>(0,i._)("option",{value:"1"},"Solo habitaciones con Sábanas",-1))),te=[ee,ae],oe={key:0,class:"w-full py-12 mr-2 text-center text-2xl"},ie=H((()=>(0,i._)("h1",{class:"font-bold w-full"},"SIN REGISTROS",-1))),re=[ie],se={key:1,class:"flex flex-row items-center justify-center hover:bg-gray-200 md:mt-3 mb-1.5 sticky -top-1 md:top-0 z-40 bg-gris-30"},le={key:0,class:"w-40 md:w-56 flex flex-row items-center justify-center bg-gray-600 font-bold text-white sticky left-0 top-0 md:top-0 z-50 p-2 rounded-r-lg"},ne={class:"text-xs md:text-sm w-full truncate"},ce={class:"contenedor_cuadritos py-1 md:py-1.5 ml-2"},de={class:"w-40 md:w-56 mr-2 sticky md:relative left-0 z-30 md:bg-transparent bg-gris-30 py-2"},ue={class:"text-xs md:text-sm font-bold"},pe={class:"contenedor_cuadritos"};function ve(e,a,t,r,s,l){const n=(0,i.up)("SemanasCuadrito");return(0,i.wg)(),(0,i.iD)("div",z,[U,(0,i._)("div",F,[(0,i._)("div",R,[N,(0,i.wy)((0,i._)("input",{type:"date",class:"p-3 rounded shadow focus:outline-none w-full md:w-auto","onUpdate:modelValue":a[0]||(a[0]=e=>r.filtros.fechaInicial=e),onChange:a[1]||(a[1]=e=>r.obtenerRegistros())},null,544),[[o.nr,r.filtros.fechaInicial]])]),(0,i._)("div",L,[T,(0,i.wy)((0,i._)("input",{type:"date",class:"p-3 rounded shadow focus:outline-none w-full md:w-auto","onUpdate:modelValue":a[2]||(a[2]=e=>r.filtros.fechaFinal=e),onChange:a[3]||(a[3]=e=>r.obtenerRegistros())},null,544),[[o.nr,r.filtros.fechaFinal]])]),(0,i._)("div",M,[E,(0,i.wy)((0,i._)("select",{class:"p-3 rounded shadow focus:outline-none w-full md:w-auto","onUpdate:modelValue":a[4]||(a[4]=e=>r.filtros.idHotel=e),onChange:a[5]||(a[5]=e=>{r.obtenerRegistros(),r.obtenerSabanas(r.filtros.idHotel),r.obtenerVillas(r.filtros.idHotel)})},[Y,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.arrayHoteles,((e,a)=>((0,i.wg)(),(0,i.iD)("option",{key:a,value:e.idHotel},(0,q.zw)(e.hotel),9,V)))),128))],544),[[o.bM,r.filtros.idHotel]])]),(0,i._)("div",P,[K,(0,i.wy)((0,i._)("select",{class:"p-3 rounded shadow focus:outline-none w-full md:w-auto","onUpdate:modelValue":a[6]||(a[6]=e=>r.filtros.idSabana=e),onChange:a[7]||(a[7]=e=>r.obtenerRegistros())},[Z,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.arraySabanas,((e,a)=>((0,i.wg)(),(0,i.iD)("option",{key:a,value:e.idSabana},(0,q.zw)(e.sabana),9,B)))),128))],544),[[o.bM,r.filtros.idSabana]])]),(0,i._)("div",W,[$,(0,i.wy)((0,i._)("select",{class:"p-3 rounded shadow focus:outline-none w-full md:w-auto","onUpdate:modelValue":a[8]||(a[8]=e=>r.filtros.villa=e),onChange:a[9]||(a[9]=e=>r.obtenerRegistros())},[J,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.arrayVillas,((e,a)=>((0,i.wg)(),(0,i.iD)("option",{key:a,value:e},(0,q.zw)(e),9,G)))),128))],544),[[o.bM,r.filtros.villa]])]),(0,i._)("div",Q,[X,(0,i.wy)((0,i._)("select",{class:"p-3 rounded shadow focus:outline-none w-full md:w-auto","onUpdate:modelValue":a[10]||(a[10]=e=>r.filtros.visualizar=e),onChange:a[11]||(a[11]=e=>r.obtenerRegistros())},te,544),[[o.bM,r.filtros.visualizar]])])]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.array,((e,a)=>((0,i.wg)(),(0,i.iD)("div",{class:"flex flex-col items-start justify-start w-full py-1 md:py-0 overflow-x-auto h-screen",key:a},[e.equipos.length?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",oe,re)),e.equipos.length?((0,i.wg)(),(0,i.iD)("div",se,[e.equipos.length?((0,i.wg)(),(0,i.iD)("div",le,[(0,i._)("h1",ne,(0,q.zw)(e.hotel),1)])):(0,i.kq)("",!0),(0,i._)("div",ce,[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(52,((e,a)=>(0,i.Wm)(n,{key:a,semana:a+1,cantidad:a+1,color:3,encabezado:"si",array:[]},null,8,["semana","cantidad"]))),64))])])):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.equipos,((e,a)=>((0,i.wg)(),(0,i.iD)("div",{key:a,class:"flex flex-row items-center justify-center hover:bg-gray-200"},[(0,i._)("div",de,[(0,i._)("h1",ue,(0,q.zw)(e.equipo),1)]),(0,i._)("div",pe,[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(52,((a,t)=>(0,i.Wm)(n,{key:t,semana:t+1,cantidad:e.registros.length,color:0,encabezado:"no",array:e,planificado:e.planificacion.length?e.planificacion[0]["semana_"+(t+1)]:"0"},null,8,["semana","cantidad","array","planificado"]))),64))])])))),128))])))),128))])}const ge=e=>((0,i.dD)("data-v-4a010124"),e=e(),(0,i.Cn)(),e),fe={key:0,class:"absolute left-2 top-4 bg-green-300 text-green-600 flex items-center justify-center w-4 h-4 rounded-full shadow cursor-pointer"},me={key:1,class:"absolute -top-full px-2 py-1 bg-gray-300 z-50 text-xs rounded-xl flex flex-col items-center justify-start w-72 md:w-80"},we={class:"w-full text-black font-bold text-sm flex flex-col truncate"},be={class:"text-xs text-blue-500"},ye=ge((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,i._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1))),he=[ye],xe={class:"w-full mt-2 flex flex-row justify-center item-center"},ke={key:0,class:"w-full text-black"},De={key:0,class:"w-full bg-white p-2 mb-2 rounded-lg cursor-pointer text-center"},_e=["onClick"],Ce={class:"w-full text-center truncate"},Se={class:"w-full flex flex-row justify-center pt-1"},Ie={class:"w-1/2 text-center"},Ae={class:"w-1/2 text-center"},je=ge((()=>(0,i._)("span",{class:"text-xxs font-sans"}," Minutos ",-1))),Oe={key:0,class:"absolute -left-3 top-1 bg-green-300 text-green-600 flex items-center justify-center w-4 h-4 rounded-full shadow cursor-pointer"},qe={key:1,class:"w-full text-black bg-white rounded-lg p-2"},He=ge((()=>(0,i._)("p",{class:"pb-0.5"},"PLANIFICACIÓN",-1))),ze={class:"w-full h-10 mt-1 flex flex-row justify-start item-center bg-blue-100 py-1.5 md:py-2 px-2 rounded-lg"},Ue=ge((()=>(0,i._)("span",{class:"w-2/6 py-1 text-blue-500"},"Desde Aquí",-1))),Fe=ge((()=>(0,i._)("span",{class:"text-blue-500"},"Aplicar",-1))),Re=[Fe],Ne={class:"w-full h-10 mt-1 flex flex-row justify-start item-center bg-blue-100 py-1.5 md:py-2 px-2 rounded-lg"},Le=ge((()=>(0,i._)("span",{class:"w-1/3 py-1 text-blue-500"},"Individual",-1))),Te=ge((()=>(0,i._)("span",{class:"text-blue-500"},"Aplicar",-1))),Me=[Te],Ee=ge((()=>(0,i._)("p",{class:"pt-3 pb-2"},"ELIMINAR PLANIFICACIÓN",-1))),Ye={class:"flex flex-row justify-center items-center"},Ve={class:"pt-2 text-black"},Pe=ge((()=>(0,i._)("h1",null,"Clic para cerrar",-1))),Ke=[Pe],Ze={class:"w-full md:w-1/4 flex flex-col items-center justify-start"},Be={class:"px-4 pb-4 w-full flex flex-col items-start justify-start text-left"},We={class:"mb-4 text-white"},$e={class:"font-bold uppercase"},Je={class:"font-bold uppercase"},Ge={class:"font-bold uppercase"},Qe={class:"italic"},Xe={class:"font-bold uppercase"},ea={class:"italic"},aa={class:"flex flex-col items-center justify-start w-full shadow rounded-xl"},ta={class:"flex flex-col items-center justify-start w-full shadow rounded-xl"};function oa(e,a,t,r,s,l){const n=(0,i.up)("SemanaApartadoSabanas");return(0,i.wg)(),(0,i.iD)("div",{class:(0,q.C_)(["w-6 h-6 hijo flex-none flex items-center justify-center text-xs font-bold relative text-black",{cero:0===r.color,uno:1===r.color,dos:2===r.color,tres:3===r.color,planificado:0===r.color&&"PLANIFICADO"===t.planificado,ceroBorder:0===r.color&&"PLANIFICADO"!==t.planificado,unoBorder:1===r.color&&"PLANIFICADO"!==t.planificado,dosBorder:2===r.color&&"PLANIFICADO"!==t.planificado,tresBorder:3===r.color&&"PLANIFICADO"!==t.planificado,planificadoBorder:"PLANIFICADO"===t.planificado}]),style:(0,q.j5)({"grid-column-start":t.semana,"grid-column-end":t.semana})},[(0,i._)("p",{class:"cursor-pointer w-full h-full flex justify-center items-center rounded-sm",onClick:a[0]||(a[0]=e=>r.mostrar=!r.mostrar)},(0,q.zw)(r.valor),1),r.reportado?((0,i.wg)(),(0,i.iD)("div",fe," R ")):(0,i.kq)("",!0),r.mostrar&&"si"!==t.encabezado?((0,i.wg)(),(0,i.iD)("div",me,[(0,i._)("h2",we,[(0,i.Uk)((0,q.zw)(t.array.equipo)+" ",1),(0,i._)("span",be,"Semana: "+(0,q.zw)(t.semana),1)]),(0,i._)("button",{class:"flex justify-center items-center text-red-400 font-semibold absolute -top-0 -right-0",onClick:a[1]||(a[1]=e=>r.mostrar=!r.mostrar)},he),(0,i._)("div",xe,[(0,i._)("button",{class:(0,q.C_)(["bg-blue-200 text-blue-500 mb-2 mx-1 w-1/2 py-1.5 md:py-2 rounded-lg font-bold",{"ring-2 ring-gray-50":!r.vista}]),onClick:a[2]||(a[2]=e=>r.vista=!1)}," Planificar ",2),(0,i._)("button",{class:(0,q.C_)(["bg-green-200 text-green-400 mb-2 mx-1 w-1/2 py-1.5 md:py-2 rounded-lg font-bold",{"ring-2 ring-gray-50":r.vista}]),onClick:a[3]||(a[3]=e=>r.vista=!0)}," Ver Detalles ",2)]),r.vista?((0,i.wg)(),(0,i.iD)("div",ke,[r.arrayActividades.length?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("p",De," Sin Registros ")),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.arrayActividades,((e,a)=>((0,i.wg)(),(0,i.iD)("div",{onClick:a=>{r.mostrarOT=!r.mostrarOT,r.detallesActividad(e.idRegistro),r.mostrar=!r.mostrar},key:a,class:"actividad relative cursor-pointer"},[(0,i._)("h1",Ce,(0,q.zw)(e.creadoPor),1),(0,i._)("div",Se,[(0,i._)("h1",Ie,(0,q.zw)(e.fechaCreado),1),(0,i._)("div",Ae,[(0,i.Uk)(" T. Llenado: "+(0,q.zw)(e.fechaCreado&&e.fechaFinalizado?r.differenceInMinutes(new Date(e.fechaFinalizado),new Date(e.fechaCreado)):0)+" ",1),je])]),1===e.reportado?((0,i.wg)(),(0,i.iD)("div",Oe," R ")):(0,i.kq)("",!0)],8,_e)))),128))])):(0,i.kq)("",!0),r.vista?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",qe,[He,(0,i._)("div",ze,[Ue,(0,i.wy)((0,i._)("input",{type:"number",placeholder:"Frecuencia",class:"w-2/6 ring ml-1 px-1 rounded-l-lg focus:ring",min:"1",max:"52","onUpdate:modelValue":a[4]||(a[4]=e=>r.frecuencia=e)},null,512),[[o.nr,r.frecuencia]]),(0,i._)("button",{class:"w-2/6 ring ring-blue-300 bg-blue-300 rounded-r-lg px-2 hover:ring-blue-400 hover:bg-blue-400 font-bold",onClick:a[5]||(a[5]=e=>r.planificacion(t.semana,"planificarDesdeAqui"))},Re)]),(0,i._)("div",Ne,[Le,(0,i._)("button",{class:"w-2/6 ring ring-blue-300 bg-blue-300 rounded-lg px-2 hover:ring-blue-400 hover:bg-blue-400 font-bold",onClick:a[6]||(a[6]=e=>r.planificacion(t.semana,"planificarIndividual"))},Me)]),Ee,(0,i._)("div",Ye,[(0,i._)("button",{class:"w-1/2 h-6 md:h-8 mx-5 ring ring-red-300 bg-red-300 rounded-lg hover:ring-red-400 hover:bg-red-400 font-bold",onClick:a[7]||(a[7]=e=>r.planificacion(t.semana,"eliminarDesdeAqui"))}," Desde Aquí "),(0,i._)("button",{class:"w-1/2 h-6 md:h-8 mx-5 ring ring-red-300 bg-red-300 rounded-lg hover:ring-red-400 hover:bg-red-400 font-bold",onClick:a[8]||(a[8]=e=>r.planificacion(t.semana,"eliminarIndividual"))}," Individual ")])])),(0,i._)("div",Ve,(0,q.zw)(r.msj),1)])):(0,i.kq)("",!0),r.mostrarOT?((0,i.wg)(),(0,i.j4)(i.lR,{key:2,to:"#modales"},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.detalles,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"absolute top-0 pt-24 flex flex-col items-center justify-start z-50 overflow-y-auto w-full h-screen bg-black",key:t},[(0,i._)("div",{class:"absolute top-0 py-2 px-4 rounded-b-3xl bg-gray-300 opacity-60 cursor-pointer",onClick:a[9]||(a[9]=e=>r.mostrarOT=!r.mostrarOT)},Ke),(0,i._)("div",Ze,[(0,i._)("div",Be,[(0,i._)("div",We,[(0,i._)("h1",$e,(0,q.zw)(e.equipo),1),(0,i._)("h1",Je,(0,q.zw)(e.sabana),1),(0,i._)("h1",Ge,[(0,i.Uk)(" Por: "),(0,i._)("span",Qe,(0,q.zw)(e.creadoPor),1)]),(0,i._)("h1",Xe,[(0,i.Uk)(" El: "),(0,i._)("span",ea,(0,q.zw)(e.fechaCreado),1)])]),(0,i._)("div",aa,[(0,i._)("div",ta,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.apartados,((e,a)=>((0,i.wg)(),(0,i.j4)(n,{key:a,apartado:e.apartado,array:e},null,8,["apartado","array"])))),128))])])])])])))),128))])):(0,i.kq)("",!0)],6)}const ia=e=>((0,i.dD)("data-v-57d7202e"),e=e(),(0,i.Cn)(),e),ra={class:"actividad"},sa=ia((()=>(0,i._)("div",{class:"w-1 h-1 rounded-full bg-black mr-2 flex-none"},null,-1))),la={class:""};function na(e,a,t,o,r,s){const l=(0,i.up)("SemanasActividadSabanaLlena");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",ra,[sa,(0,i._)("h1",la,(0,q.zw)(t.apartado),1)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.array.actividades,((e,a)=>((0,i.wg)(),(0,i.j4)(l,{key:a,array:e,index:a+1},null,8,["array","index"])))),128))],64)}const ca=e=>((0,i.dD)("data-v-d569b906"),e=e(),(0,i.Cn)(),e),da={key:0},ua={key:1},pa={key:2,class:"text-xxs"},va={key:3,class:"absolute -left-full bottom-3 bg-blue-200 text-blue-500 flex items-center justify-center w-4 h-4 rounded-full shadow"},ga=ca((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"},[(0,i._)("g",{transform:"translate(2 3)"},[(0,i._)("path",{d:"M20 16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3l2-3h6l2 3h3a2 2 0 0 1 2 2v11z"}),(0,i._)("circle",{cx:"10",cy:"10",r:"4"})])],-1))),fa=[ga],ma={key:4,class:"absolute -left-full top-3 bg-indigo-200 text-indigo-500 flex items-center justify-center w-4 h-4 rounded-full shadow"},wa=ca((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"},[(0,i._)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})],-1))),ba=[wa],ya={class:"font-bold mr-1"},ha={class:""},xa={key:1,class:"text-justify p-2"},ka={key:2,class:"text-justify p-2"},Da=ca((()=>(0,i._)("h1",null,"Sin Comentario",-1))),_a=[Da];function Ca(e,a,t,o,r,s){return(0,i.wg)(),(0,i.iD)(i.HY,null,[0===o.botones?((0,i.wg)(),(0,i.iD)("div",{key:0,onClick:a[2]||(a[2]=e=>o.botones=1),class:"actividad relative z-10"},[(0,i._)("div",{class:(0,q.C_)(["w-6 h-6 rounded-full flex items-center justify-center border-2 flex-none mr-2 relative z-10",{"bg-green-200 border-green-500 text-green-500":1===t.array.valor,"bg-red-200 border-red-500 text-red-500":2===t.array.valor,"bg-naranja1a-200 border-naranja1a-500 text-naranja1a-500":3===t.array.valor}])},[1===t.array.valor?((0,i.wg)(),(0,i.iD)("h1",da,"SI")):(0,i.kq)("",!0),2===t.array.valor?((0,i.wg)(),(0,i.iD)("h1",ua,"NO")):(0,i.kq)("",!0),3===t.array.valor?((0,i.wg)(),(0,i.iD)("h1",pa,"N/A")):(0,i.kq)("",!0),"SI"===t.array.tieneFoto?((0,i.wg)(),(0,i.iD)("div",va,fa)):(0,i.kq)("",!0),"SI"===t.array.tieneComentario?((0,i.wg)(),(0,i.iD)("div",ma,ba)):(0,i.kq)("",!0),"SI"===t.array.reportado?((0,i.wg)(),(0,i.iD)("div",{key:5,onClick:a[0]||(a[0]=e=>o.reportado(t.array)),class:"absolute -left-full top-3 bg-green-300 text-green-600 flex items-center justify-center w-4 h-4 rounded-full shadow cursor-pointer"}," R ")):(0,i.kq)("",!0)],2),(0,i._)("h1",ya,(0,q.zw)(t.index)+".",1),(0,i._)("h1",ha,(0,q.zw)(t.array.actividad),1),"NO"==t.array.reportado&&2==t.array.valor?((0,i.wg)(),(0,i.iD)("div",{key:0,onClick:a[1]||(a[1]=e=>o.reportado(t.array)),class:"w-auto bg-purple-300 text-purple-600 absolute right-1 rounded-full cursor-pointer z-10 flex px-2 py-0.5 justify-items-center text-sm"}," ¿Reportar? ")):(0,i.kq)("",!0)])):(0,i.kq)("",!0),1===o.botones?((0,i.wg)(),(0,i.iD)("div",{key:1,onClick:a[4]||(a[4]=e=>o.botones=0),class:"actividad"},["SI"===t.array.tieneFoto?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"w-36 h-36 rounded flex-none bg-cover bg-center",style:(0,q.j5)({backgroundImage:"url("+t.array.foto+")"}),onClick:a[3]||(a[3]=e=>o.abrirFoto(t.array))},null,4)):(0,i.kq)("",!0),"SI"===t.array.tieneComentario?((0,i.wg)(),(0,i.iD)("div",xa,[(0,i._)("h1",null,(0,q.zw)(t.array.comentario),1)])):(0,i.kq)("",!0),"NO"===t.array.tieneComentario?((0,i.wg)(),(0,i.iD)("div",ka,_a)):(0,i.kq)("",!0)])):(0,i.kq)("",!0)],64)}var Sa={props:{array:{type:Object},index:{type:Number}},setup(e){const a=(0,I.oR)(),o=t(455),i=(0,S.iH)(0),r=async t=>{const r=await a.dispatch("accionesUsuario",{idDestino:localStorage.getItem("idDestino"),idUsuario:localStorage.getItem("usuario"),action:"reportado",idCaptura:t.idCaptura,reportado:t.reportado});i.value=0,r.response&&(e.array.reportado=r.data.data),r.response||o.fire({title:"Reporte NO Actualizado!",icon:"info",background:"#2c3e50",customClass:{popup:"colored-toast",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},iconColor:"#fff"})},s=e=>{window.open(e.foto,"_blank")};return{botones:i,reportado:r,abrirFoto:s}}};const Ia=(0,l.Z)(Sa,[["render",Ca],["__scopeId","data-v-d569b906"]]);var Aa=Ia,ja={components:{SemanasActividadSabanaLlena:Aa},props:{apartado:{type:String,required:!1},array:{type:Object,required:!1}}};const Oa=(0,l.Z)(ja,[["render",na],["__scopeId","data-v-57d7202e"]]);var qa=Oa,Ha=t(315),za=t(104),Ua=t.n(za),Fa=t(237),Ra={name:"SemanasCuadrito",components:{SemanaApartadoSabanas:qa,CheckIcon:Ha.Z},props:{array:{type:Object,value:[]},semana:{type:Number,required:!0},cantidad:{type:Number,required:!1},encabezado:{type:String,required:!1},planificado:{type:String}},setup(e){const a=(0,I.oR)().dispatch,t=(0,I.oR)().state,o=(0,u.yj)(),i=(0,S.iH)(),r=(0,S.iH)(!1),s=(0,S.iH)(!1),l=(0,S.iH)(0),n=(0,S.iH)([]),c=(0,S.iH)(!1),d=(0,S.iH)([]),p=(0,S.iH)(!1),v=(0,S.iH)(""),g=e.array.idEquipo,f=(0,S.iH)("");"si"==e.encabezado&&(e.cantidad>0&&(i.value=e.cantidad),l.value=3);const m=async e=>{const t=await a("accionesUsuario",{idDestino:o.params.idDestino,idUsuario:localStorage.getItem("usuario"),action:"detallesActividad",idRegistro:e});t.response&&(n.value=t.data.data),t.response||(n.value=[])};if(e.array.registros){let a=0;e.array.registros.forEach((t=>{t.semana==e.semana&&(d.value.push(t),"no"==e.encabezado&&(a++,l.value=t.color,1===t.reportado&&(c.value=!0)))})),i.value=a>0?a:""}const w=async(i,s)=>{if(i<1||i>52)return;if("planificarDesdeAqui"===s&&Math.trunc(v.value)<1||Math.trunc(v.value)>52)return void(v.value="");f.value="Procesando...";let l="";e.array.planificacion.length&&(l=e.array.planificacion[0].id_publico),e.array.planificacion.length||(l=Ua()()+Ua()());const n={idDestino:o.params.idDestino,idUsuario:localStorage.getItem("usuario"),action:"planificacion",idEquipo:g,semana:i,opcion:s,frecuencia:v.value,planificacion:!!e.array.planificacion.length,idPlaneacion:l},c=await a("accionesUsuario",n);if(c.response){const e=c.data.data,a=t.array[0].equipos;return f.value="¡Proceso Finalizado!",a.forEach((a=>{a.idEquipo==g&&(a.planificacion=e)})),f.value="",void(r.value=!1)}return c.response?void 0:(f.value="¡Datos Incorrectos!",void setTimeout((()=>{f.value=""}),1200))};return d.value.length&&(p.value=!0),{valor:i,mostrar:r,mostrarOT:s,arrayActividades:d,color:l,detallesActividad:m,frecuencia:v,detalles:n,reportado:c,vista:p,planificacion:w,msj:f,differenceInMinutes:Fa.Z}}};const Na=(0,l.Z)(Ra,[["render",oa],["__scopeId","data-v-4a010124"]]);var La=Na,Ta={components:{SemanasCuadrito:La},props:{},setup(){const e=(0,I.oR)(),a=(0,u.yj)(),t=new Date,o=(0,S.iH)([]),r=(0,S.iH)({fechaInicial:t.getFullYear()+"-"+(t.getMonth()+1>9?t.getMonth()+1:"0"+(t.getMonth()+1))+"-"+(t.getDate()>9?t.getDate():"0"+t.getDate()),fechaFinal:t.getFullYear()+"-"+(t.getMonth()+1>9?t.getMonth()+1:"0"+(t.getMonth()+1))+"-"+(t.getDate()>9?t.getDate():"0"+t.getDate()),idHotel:"",idSabana:"TODOS",villa:"TODOS",visualizar:1});(0,i.bv)((async()=>{await p()}));const s=(0,i.Fl)((()=>e.state.array)),l=(0,i.Fl)((()=>e.state.arrayHoteles)),n=(0,i.Fl)((()=>e.state.arraySabanas)),c=async t=>{e.state.arraySabanas=[],r.value.idSabana="TODOS";let o=0;0==a.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),a.params.idDestino>0&&10!=a.params.idDestino&&(o=a.params.idDestino);const i=await e.dispatch("accionesUsuario",{idDestino:o,idUsuario:localStorage.getItem("usuario"),action:"obtenerSabanas",idHotel:t});i.response&&(e.state.arraySabanas=i.data.data)},d=async t=>{o.value=[],r.value.villa="TODOS";let i=0;0==a.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(i=localStorage.getItem("idDestino")),a.params.idDestino>0&&10!=a.params.idDestino&&(i=a.params.idDestino);const s=await e.dispatch("accionesUsuario",{idDestino:i,idUsuario:localStorage.getItem("usuario"),action:"obtenerVillas",idHotel:t});s.response?s.response&&s.data.data.forEach((e=>{-1===o.value.indexOf(e)&&o.value.push(e)})):o.value=[]},p=async()=>{e.state.array=[];let t=0;0==a.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(t=localStorage.getItem("idDestino")),a.params.idDestino>0&&10!=a.params.idDestino&&(t=a.params.idDestino),await e.dispatch("getArray",{idDestino:t,idUsuario:localStorage.getItem("usuario"),action:"semanas",fechaInicial:r.value.fechaInicial,fechaFinal:r.value.fechaFinal,idSabana:r.value.idSabana,idHotel:r.value.idHotel,villa:r.value.villa,visualizar:r.value.visualizar})};return{obtenerRegistros:p,array:s,arrayHoteles:l,obtenerSabanas:c,arraySabanas:n,obtenerVillas:d,arrayVillas:o,filtros:r}}};const Ma=(0,l.Z)(Ta,[["render",ve],["__scopeId","data-v-1606a8e1"]]);var Ea=Ma;const Ya={class:"w-full h-screen bg-gris-30 flex flex-col items-center justify-start py-2"},Va={class:"w-full flex flex-row justify-center items-center relative"},Pa=(0,i._)("h1",{class:"font-semibold uppercase mr-1"},"User:",-1),Ka={key:0,class:"p-4"},Za=(0,i._)("h1",{class:"font-bold uppercase"},"Checklist",-1),Ba=[Za],Wa={key:1,class:"px-4 pb-4 w-full"},$a=(0,i._)("option",{value:"0"},"Hotel",-1),Ja=["value"],Ga={key:2,class:"px-4 pb-4 w-full"},Qa=(0,i._)("option",{value:"0"},"Tipo / Type",-1),Xa=["value"],et={key:3,class:"px-4 pb-4 w-full"},at=(0,i._)("option",{value:"0"},"CheckList",-1),tt=["value"],ot={key:4,class:"px-4 pb-4 w-full"},it=(0,i._)("option",{value:"0"},"Habitación / Room",-1),rt=["value"],st={class:"px-4 pb-4 w-full"},lt={class:"mb-4"},nt={class:"font-bold uppercase"},ct={class:"flex flex-col items-center justify-start w-full shadow rounded-xl"},dt={class:"flex flex-col items-center justify-start w-full shadow rounded-xl"},ut={class:"px-4 pb-4 w-full"};function pt(e,a,t,r,s,l){const n=(0,i.up)("LogoutIcon"),c=(0,i.up)("Apartadosabanas");return(0,i.wg)(),(0,i.iD)("div",Ya,[(0,i._)("div",Va,[Pa,(0,i._)("strong",null,(0,q.zw)(r.nombreUsuario),1),(0,i.Wm)(n,{onClick:a[0]||(a[0]=a=>e.$router.push("/login")),class:"w-8 h-8 text-gris-200 absolute -top-3 right-1 cursor-pointer bg-gris-800 rounded-full p-1.5 my-2"})]),r.mostrar?((0,i.wg)(),(0,i.iD)("div",Ka,Ba)):(0,i.kq)("",!0),r.mostrar?((0,i.wg)(),(0,i.iD)("div",Wa,[(0,i.wy)((0,i._)("select",{onChange:a[1]||(a[1]=e=>r.consultarTiposActivos()),"onUpdate:modelValue":a[2]||(a[2]=e=>r.datos.idHotel=e),class:"px-2 py-3 rounded-lg focus:outline-none w-full"},[$a,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.array.hoteles,((e,a)=>((0,i.wg)(),(0,i.iD)("option",{key:a,value:e.idHotel},(0,q.zw)(e.hotel),9,Ja)))),128))],544),[[o.bM,r.datos.idHotel]])])):(0,i.kq)("",!0),r.mostrar?((0,i.wg)(),(0,i.iD)("div",Ga,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>r.datos.tipoActivo=e),onChange:a[4]||(a[4]=e=>r.consultarCheckList()),class:"px-2 py-3 rounded-lg focus:outline-none w-full"},[Qa,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.array.tiposActivos,((e,a)=>((0,i.wg)(),(0,i.iD)("option",{key:a,value:{idTipoActivo:e.idTipoActivo,idRegistroTipoActivo:e.idRegistroTipoActivo}},(0,q.zw)(e.tipo),9,Xa)))),128))],544),[[o.bM,r.datos.tipoActivo]])])):(0,i.kq)("",!0),r.mostrar?((0,i.wg)(),(0,i.iD)("div",et,[(0,i.wy)((0,i._)("select",{class:"px-2 py-3 rounded-lg focus:outline-none w-full","onUpdate:modelValue":a[5]||(a[5]=e=>r.datos.idCheckList=e),onChange:a[6]||(a[6]=e=>r.consultarActivos())},[at,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.array.checkList,((e,a)=>((0,i.wg)(),(0,i.iD)("option",{key:a,value:e.idSabana},(0,q.zw)(e.sabana),9,tt)))),128))],544),[[o.bM,r.datos.idCheckList]])])):(0,i.kq)("",!0),r.mostrar?((0,i.wg)(),(0,i.iD)("div",ot,[(0,i.wy)((0,i._)("select",{class:"px-2 py-3 rounded-lg focus:outline-none w-full","onUpdate:modelValue":a[7]||(a[7]=e=>r.datos.idActivo=e)},[it,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.array.activos,((e,a)=>((0,i.wg)(),(0,i.iD)("option",{key:a,value:e.idEquipo},(0,q.zw)(e.equipo),9,rt)))),128))],512),[[o.bM,r.datos.idActivo]])])):(0,i.kq)("",!0),(0,i._)("div",st,[r.mostrar?((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:a[8]||(a[8]=e=>r.crearRegistro()),class:"px-2 py-3 rounded-lg focus:outline-none w-full bg-bluedemon-500 text-white"}," Crear / Create ")):(0,i.kq)("",!0)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.arraySabana,((t,o)=>((0,i.wg)(),(0,i.iD)("div",{key:o,class:"px-4 pb-4 w-full flex flex-col items-center justify-start"},[(0,i._)("div",lt,[(0,i._)("h1",nt,(0,q.zw)(t.sabana),1)]),(0,i._)("div",ct,[(0,i._)("div",dt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.apartados,((e,a)=>((0,i.wg)(),(0,i.j4)(c,{key:a,array:e,crear:r.datos},null,8,["array","crear"])))),128))])]),(0,i._)("div",ut,[(0,i._)("button",{class:"px-2 py-3 rounded-lg focus:outline-none w-full bg-green-500 text-white mt-4",onClick:a[9]||(a[9]=e=>r.confirmarRegistro())}," Finalizar / Finish "),(0,i._)("button",{class:"px-2 py-3 rounded-lg focus:outline-none w-full bg-red-500 text-white mt-4",onClick:a[10]||(a[10]=a=>e.$router.go(e.$router.currentRoute))}," Cancelar / Cancel ")])])))),128))])}const vt=e=>((0,i.dD)("data-v-749d3bff"),e=e(),(0,i.Cn)(),e),gt={class:"actividad relative"},ft=vt((()=>(0,i._)("div",{class:"w-1 h-1 rounded-full bg-black mr-2 flex-none"},null,-1))),mt={class:""},wt={key:0,class:"flex flex-row justify-end items-center w-1/2 absolute right-0 px-0"},bt=vt((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[(0,i._)("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})],-1))),yt=[bt];function ht(e,a,t,o,r,s){const l=(0,i.up)("Actividadsabana");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",gt,[ft,(0,i._)("h1",mt,(0,q.zw)(t.array.apartado),1),"SI"===t.array.opciones?((0,i.wg)(),(0,i.iD)("div",wt,[o.toggleOpciones?((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:a[0]||(a[0]=e=>o.valorCrear="SI"),class:"bg-green-200 text-green-500"}," SI/YES ")):(0,i.kq)("",!0),o.toggleOpciones?((0,i.wg)(),(0,i.iD)("button",{key:1,onClick:a[1]||(a[1]=e=>o.valorCrear="NO"),class:"bg-yellow-200 text-yellow-500"}," NO ")):(0,i.kq)("",!0),o.toggleOpciones?((0,i.wg)(),(0,i.iD)("button",{key:2,onClick:a[2]||(a[2]=e=>o.valorCrear="N/A"),class:"bg-naranja1a-200 text-naranja1a-500"}," N/A ")):(0,i.kq)("",!0),(0,i._)("div",{onClick:a[3]||(a[3]=e=>{o.toggleOpciones=!o.toggleOpciones,o.valorCrear=""}),class:"text-gray-700 pr-2 cursor-pointer"},yt)])):(0,i.kq)("",!0)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.array.actividades,((e,a)=>((0,i.wg)(),(0,i.j4)(l,{key:a,array:e,crear:t.crear,index:a,valorCrear:o.valorCrear},null,8,["array","crear","index","valorCrear"])))),128))],64)}const xt=e=>((0,i.dD)("data-v-0d4deaa6"),e=e(),(0,i.Cn)(),e),kt={key:0},Dt=xt((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-4 h-4"},[(0,i._)("path",{"fill-rule":"evenodd",d:"M19.916 4.626a.75.75 0 01.208 1.04l-9 13.5a.75.75 0 01-1.154.114l-6-6a.75.75 0 011.06-1.06l5.353 5.353 8.493-12.739a.75.75 0 011.04-.208z","clip-rule":"evenodd"})],-1))),_t=[Dt],Ct={key:1},St={key:2,class:"text-xxs"},It={key:3,class:"absolute -left-full bg-blue-200 text-blue-500 flex items-center justify-center w-4 h-4 rounded-full shadow"},At={key:4,class:"absolute -right-full bg-indigo-200 text-indigo-500 flex items-center justify-center w-4 h-4 rounded-full shadow"},jt={class:"font-bold mr-1"},Ot={class:""},qt=xt((()=>(0,i._)("br",null,null,-1))),Ht={key:0,class:"text-red-400"},zt={key:1,class:"text-red-400"},Ut={class:"bg-blue-200 text-blue-500 z-10 relative"},Ft=xt((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4"},[(0,i._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})],-1))),Rt=[Ft],Nt=xt((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-4 h-4"},[(0,i._)("path",{"fill-rule":"evenodd",d:"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z","clip-rule":"evenodd"})],-1))),Lt=[Nt];function Tt(e,a,t,r,s,l){const n=(0,i.up)("CameraIcon"),c=(0,i.up)("ChatAltIcon");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Uk)((0,q.zw)("SI"==t.valorCrear||"NO"==t.valorCrear||"N/A"==t.valorCrear?(r.capturar(t.valorCrear).length,t.valorCrear=""):"")+" ",1),0===r.valores.botones?((0,i.wg)(),(0,i.iD)("div",{key:0,onClick:a[0]||(a[0]=e=>r.valores.botones=1),class:(0,q.C_)(["actividad",{"disable-div":r.bloquear}])},[(0,i._)("div",{class:(0,q.C_)(["w-6 h-6 rounded-lg flex items-center justify-center border-2 flex-none mr-2 relative",{"bg-green-200 border-green-500 text-green-500":1===r.valores.estado,"bg-yellow-200 border-yellow-500 text-yellow-500":2===r.valores.estado,"bg-naranja1a-200 border-naranja1a-500 text-naranja1a-500":3===r.valores.estado}])},[1===r.valores.estado?((0,i.wg)(),(0,i.iD)("h1",kt,_t)):(0,i.kq)("",!0),2===r.valores.estado?((0,i.wg)(),(0,i.iD)("h1",Ct,"NO")):(0,i.kq)("",!0),3===r.valores.estado?((0,i.wg)(),(0,i.iD)("h1",St,"N/A")):(0,i.kq)("",!0),1===r.valores.foto?((0,i.wg)(),(0,i.iD)("div",It,[(0,i.Wm)(n,{class:"w-4"})])):(0,i.kq)("",!0),!0===r.valores.tienemensaje?((0,i.wg)(),(0,i.iD)("div",At,[(0,i.Wm)(c,{class:"w-4"})])):(0,i.kq)("",!0)],2),(0,i._)("h1",jt,(0,q.zw)(t.index+1)+".",1),(0,i._)("h1",Ot,[(0,i.Uk)((0,q.zw)(t.array.actividad)+" ",1),qt,r.valores.fotoObligatoria?((0,i.wg)(),(0,i.iD)("span",Ht,"(Foto Obligatoria)")):(0,i.kq)("",!0),r.valores.comentarioObligatoria?((0,i.wg)(),(0,i.iD)("span",zt,"(Comentario Obligatorio)")):(0,i.kq)("",!0)])],2)):(0,i.kq)("",!0),1===r.valores.botones?((0,i.wg)(),(0,i.iD)("div",{key:1,class:(0,q.C_)(["actividad",{"disable-div":r.bloquear}])},[(0,i._)("button",{onClick:a[1]||(a[1]=e=>r.capturar("SI")),class:"bg-green-200 text-green-500"},"SI/YES"),(0,i._)("button",{onClick:a[2]||(a[2]=e=>r.capturar("NO")),class:"bg-yellow-200 text-yellow-500"},"NO"),(0,i._)("button",{onClick:a[3]||(a[3]=e=>r.capturar("N/A")),class:"bg-naranja1a-200 text-naranja1a-500"}," N/A "),(0,i._)("button",Ut,[(0,i._)("input",{type:"file",class:"z-0 text-white opacity-0 absolute w-full",onChange:a[4]||(a[4]=e=>{r.valores.botones=0,r.valores.foto=1,r.subirFoto(e)})},null,32),(0,i.Wm)(n,{class:"w-4 p-0 m-0"})]),(0,i._)("button",{onClick:a[5]||(a[5]=e=>{r.valores.botones=3,r.valores.mensaje=1,r.valores.tienemensaje=!0}),class:"bg-indigo-200 text-indigo-500"},[(0,i.Wm)(c,{class:"w-4"})])],2)):(0,i.kq)("",!0),3===r.valores.botones?((0,i.wg)(),(0,i.iD)("div",{key:2,class:(0,q.C_)(["actividad",{"disable-div":r.bloquear}])},[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Coment...",class:"p-2 w-full focus:outline-none","onUpdate:modelValue":a[6]||(a[6]=e=>r.valores.comentario=e)},null,512),[[o.nr,r.valores.comentario]]),(0,i._)("button",{onClick:a[7]||(a[7]=e=>{r.valores.botones=0,r.valores.tienemensaje=!0,r.capturar(r.valores.valor)}),class:"bg-green-200 text-green-500"},Rt),(0,i._)("button",{onClick:a[8]||(a[8]=e=>{r.valores.botones=1,r.valores.tienemensaje=!1}),class:"bg-red-200 text-red-500"},Lt)],2)):(0,i.kq)("",!0)],64)}var Mt=t(524),Et=t(770),Yt=t(853),Vt=t(616),Pt={components:{CameraIcon:Et.Z,ChatAltIcon:Yt.Z,ShieldExclamationIcon:Vt.Z},props:{crear:{type:Object,required:!1},array:{type:Object,required:!1},index:{type:Number,value:0,required:!0},valorCrear:{type:String}},setup(e){const a=(0,I.oR)(),o=t(455),i=(0,S.iH)(!1),r=o.mixin({toast:!0,padding:".3rem",background:"#2c3e50",iconColor:"#fff",position:"top",customClass:{popup:"colored-toast"},width:"19rem",showConfirmButton:!1,timer:2700,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",o.stopTimer),e.addEventListener("mouseleave",o.resumeTimer)}}),s=(0,S.iH)({idCaptura:Ua()()+Ua()(),idRegistro:e.crear.idRegistro,idActividad:e.array.idActividad,idEquipo:e.crear.idActivo,estado:0,foto:0,mensaje:0,comentarioObligatoria:e.array.comentarioObligatorio,comentario:"",valor:"",botones:0,tienemensaje:!1,urlFoto:"",fotoObligatoria:e.array.adjuntoObligatorio}),l=async e=>{if(i.value=!0,"SI"===!e||"NO"===!e||"N/A"===!e)return void r.fire({icon:"info",title:"Se requiere seleccionar una Opción!"});const t={idDestino:localStorage.getItem("idDestino"),idUsuario:localStorage.getItem("usuario"),idCaptura:s.value.idCaptura,idRegistro:s.value.idRegistro,idActividad:s.value.idActividad,idEquipo:s.value.idEquipo,action:"crearCaptura",valor:e,comentario:s.value.comentario,adjunto:s.value.urlFoto,fechaCreado:(0,Mt.Z)(new Date,"yyyy-MM-dd K:m:s")},o=await a.dispatch("accionesUsuario",t);if(o.response)return i.value=!1,s.value.comentario.length&&(s.value.comentarioObligatoria=!1),"SI"===o.data.data?(s.value.botones=0,s.value.estado=1,void(s.value.valor="SI")):"NO"===o.data.data?(s.value.botones=0,s.value.estado=2,void(s.value.valor="NO")):"N/A"===o.data.data?(s.value.botones=0,s.value.estado=3,void(s.value.valor="N/A")):void 0;o.response||r.fire({icon:"warning",title:"Se requiere seleccionar un Opción!"})},n=async e=>{const t=s.value.valor,i=Ua()()+Ua()();s.value.urlFoto=i;const r=e.target.files[0],n=new FormData;if(n.append("action","subirFotoSabanas"),n.append("idDestino",localStorage.getItem("idDestino")),n.append("idUsuario",localStorage.getItem("usuario")),n.append("urlFoto",i),n.append("file",r),"image/jpeg"===r.type||"image/png"===r.type||"image/gif"===r.type||"image/jpg"===r.type){const e=await a.dispatch("subirAdjunto",n);e.resp&&(s.value.urlFoto=e.data.urlFoto,s.value.foto=1,s.value.fotoObligatoria=!1,l(t))}else o.fire("AVISO","Adjunto No Permitido","question")};return{valores:s,capturar:l,subirFoto:n,bloquear:i}}};const Kt=(0,l.Z)(Pt,[["render",Tt],["__scopeId","data-v-0d4deaa6"]]);var Zt=Kt,Bt={components:{Actividadsabana:Zt},props:{crear:{type:Object,required:!1},array:{type:Object}},setup(){const e=(0,S.iH)(!1),a=(0,S.iH)("ok");return{toggleOpciones:e,valorCrear:a}}};const Wt=(0,l.Z)(Bt,[["render",ht],["__scopeId","data-v-749d3bff"]]);var $t=Wt,Jt=t(181),Gt={components:{Apartadosabanas:$t,LogoutIcon:Jt.Z},props:{},setup(){const e=(0,I.oR)(),a=t(455),o=(0,S.iH)(" - - - "),r=(0,S.iH)(!0),s=(0,S.iH)({hoteles:[],tiposActivos:[],checkList:[],activos:[]}),l=(0,S.iH)({idHotel:"0",tipoActivo:"0",idCheckList:"0",idActivo:"0",idRegistro:"",totalActividades:"0"}),n=(0,S.iH)([]);(0,i.bv)((async()=>{const a=await e.dispatch("sesion",{idDestino:localStorage.getItem("idDestino"),idUsuario:localStorage.getItem("usuario"),action:"comprobarSesion"});if(a.response)return o.value=a.data.data.nombre,void c();a.response||to.push("login")}));const c=async()=>{s.value.hoteles=[];const a=await e.dispatch("accionesUsuario",{idDestino:localStorage.getItem("idDestino"),idUsuario:localStorage.getItem("usuario"),action:"consultarHoteles"});a.response&&(s.value.hoteles=a.data.data)},d=async()=>{s.value.tiposActivos=[],s.value.checkList=[],s.value.activos=[],l.value.tipoActivo=0,l.value.idCheckList=0,l.value.idActivo=0;const a=await e.dispatch("accionesUsuario",{idDestino:localStorage.getItem("idDestino"),idUsuario:localStorage.getItem("usuario"),idSabana:l.value.idCheckList,action:"consultarTiposActivos",idHotel:l.value.idHotel});a.response&&a.data.data.length&&(s.value.tiposActivos=a.data.data)},u=async()=>{s.value.checkList=[],s.value.activos=[],l.value.idCheckList=0,l.value.idActivo=0;const a=await e.dispatch("accionesUsuario",{idDestino:localStorage.getItem("idDestino"),idUsuario:localStorage.getItem("usuario"),idHotel:l.value.idHotel,idRegistroTipoActivo:l.value.tipoActivo.idRegistroTipoActivo,action:"consultaSabanas"});a.response&&a.data.data.length&&(s.value.checkList=a.data.data)},p=async()=>{if(l.value.idActivo=0,s.value.activos=[],0==l.value.idCheckList)return;const a={idDestino:localStorage.getItem("idDestino"),idUsuario:localStorage.getItem("usuario"),action:"consultarEquipos",idSabana:l.value.idCheckList,idHotel:l.value.idHotel,idTipoActivo:l.value.tipoActivo.idTipoActivo},t=await e.dispatch("accionesUsuario",a);t.response&&t.data.data.length&&(s.value.activos=t.data.data)},v=async()=>{const a=Ua()()+Ua()();if(l.value.idRegistro=a,0==l.value.idCheckList)return;if(0==l.value.idActivo)return;const t=await e.dispatch("accionesUsuario",{idDestino:localStorage.getItem("idDestino"),idUsuario:localStorage.getItem("usuario"),idSabana:l.value.idCheckList,idEquipo:l.value.idActivo,idRegistro:a,action:"crearRegistro",fechaCreado:(0,Mt.Z)(new Date,"yyyy-MM-dd K:m:s")});t.response&&(r.value=!1,n.value=t.data.data,l.value.totalActividades=t.data.totalActividades),t.response||(n.value=[],r.value=!0)},g=async()=>{const t=await e.dispatch("accionesUsuario",{idDestino:localStorage.getItem("idDestino"),idUsuario:localStorage.getItem("usuario"),idSabana:l.value.idCheckList,idEquipo:l.value.idActivo,idRegistro:l.value.idRegistro,totalActividades:l.value.totalActividades,action:"confirmarRegistro",fechaFinalizado:(0,Mt.Z)(new Date,"yyyy-MM-dd K:m:s")});if(t.response){if(t.data.completado)return r.value=!0,n.value=[],void a.fire({title:"Actividades Finalizadas!",html:"Se han Completado el 100%",icon:"success",background:"#2c3e50",customClass:{popup:"colored-toast",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},iconColor:"#fff"});if(!t.data.completado){const e=l.value.totalActividades>0&&t.data.restantes<l.value.totalActividades?(100/l.value.totalActividades*t.data.restantes).toFixed(2):100,o=0==e?"¡Foto y Comentario Obligatorio!":`Faltan por Completar el ${e}% `;return void a.fire({title:"Actividades Incompletas!",html:o,icon:"info",background:"#2c3e50",customClass:{popup:"colored-toast",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},iconColor:"#fff"})}}};return{mostrar:r,array:s,consultarTiposActivos:d,consultarCheckList:u,consultarActivos:p,arraySabana:n,datos:l,crearRegistro:v,confirmarRegistro:g,nombreUsuario:o}}};const Qt=(0,l.Z)(Gt,[["render",pt]]);var Xt=Qt;const eo=[{path:"/:catchAll(.*)",name:"Nuevasabana*",component:Xt},{path:"/crear",name:"Nuevasabana",component:Xt},{path:"/login",name:"Login",component:O},{path:"/semanas/:idDestino",name:"Semanas",component:Ea}],ao=(0,u.p7)({history:(0,u.r5)(),routes:eo});var to=ao,oo=(0,I.MT)({state:{array:[],arrayHoteles:[],arraySabanas:[]},mutations:{setArray(e,a){e.array=a.data,e.arrayHoteles=a.hoteles}},actions:{async getArray({commit:e},a){try{const t=await fetch("https://maphg.com/america/apis/sabanas.php",{method:"POST",body:JSON.stringify(a)}),o=await t.json();return"SUCCESS"==o.response?(e("setArray",o),{response:!0,data:o}):{response:!1,data:[]}}catch(t){return console.log(t),{response:!1,data:[]}}},async accionesUsuario({commit:e},a){try{const e=await fetch("https://maphg.com/america/apis/sabanas.php",{method:"POST",body:JSON.stringify(a)}),t=await e.json();return"SUCCESS"==t.response?{response:!0,data:t}:{response:!1,data:[]}}catch(t){return console.log(t),{response:!1,data:[]}}},async sesion({commit:e},a){try{const e=await fetch("https://maphg.com/america/apis/inicio_sesion.php",{method:"POST",body:JSON.stringify(a)}),t=await e.json();return"SUCCESS"==t.response?{response:!0,data:t}:{response:!1,data:[]}}catch(t){return console.log(t),{response:!1,data:[]}}},async subirAdjunto({commit:e},a){try{const e=await fetch("https://maphg.com/america/apis/adjuntos.php",{method:"POST",body:a}),t=await e.json();return"SUCCESS"===t.resp&&{resp:!0,data:t}}catch(t){return console.log(t),!1}}}});(0,o.ri)(d).use(oo).use(to).mount("#app")}},a={};function t(o){var i=a[o];if(void 0!==i)return i.exports;var r=a[o]={exports:{}};return e[o].call(r.exports,r,r.exports,t),r.exports}t.m=e,function(){var e=[];t.O=function(a,o,i,r){if(!o){var s=1/0;for(d=0;d<e.length;d++){o=e[d][0],i=e[d][1],r=e[d][2];for(var l=!0,n=0;n<o.length;n++)(!1&r||s>=r)&&Object.keys(t.O).every((function(e){return t.O[e](o[n])}))?o.splice(n--,1):(l=!1,r<s&&(s=r));if(l){e.splice(d--,1);var c=i();void 0!==c&&(a=c)}}return a}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,i,r]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var o in a)t.o(a,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:a[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.p=""}(),function(){var e={143:0};t.O.j=function(a){return 0===e[a]};var a=function(a,o){var i,r,s=o[0],l=o[1],n=o[2],c=0;if(s.some((function(a){return 0!==e[a]}))){for(i in l)t.o(l,i)&&(t.m[i]=l[i]);if(n)var d=n(t)}for(a&&a(o);c<s.length;c++)r=s[c],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(d)},o=self["webpackChunksabanas"]=self["webpackChunksabanas"]||[];o.forEach(a.bind(null,0)),o.push=a.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(931)}));o=t.O(o)})();
//# sourceMappingURL=app.17d88e3b.js.map