import{r as e,c as a,o as t,a as o,b as s,d as l,w as i,v as n,F as d,e as c,f as r,g as u,u as p,t as v,h,i as f,j as g,k as y,l as m}from"./vendor.6a5e75d8.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)})).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerpolicy&&(a.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?a.credentials="include":"anonymous"===e.crossorigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();const b={};b.render=function(o,s){const l=e("router-view");return t(),a(l)};const S={class:"flex h-screen w-full flex-col items-center justify-start gap-1 overflow-auto p-4"},x=l("h1",{class:"text-3xl font-bold uppercase"},"Configuración",-1),C={class:"flex w-44 flex-col items-center justify-start rounded bg-slate-300 p-2 text-xs"},w=l("option",{selected:"",value:"0"},"Destinos",-1),k=["value"],D={class:"flex w-44 flex-col items-center justify-start rounded bg-slate-300 p-2 text-xs"},L=l("option",{selected:"",value:"0"},"Hoteles",-1),U=["value"],A={class:"flex w-44 flex-col items-center justify-start rounded bg-slate-300 p-2 text-xs"},O=l("option",{selected:"",value:"0"},"Checklist",-1),H=["value"],N=["value"],j={key:0,class:"flex flex-col p-2 bg-gray-100 absolute top-1 w-1/2"},E=l("h2",{class:"py-4 text-center"},[l("span",{class:"text-blue-500"},"APARTADOS"),u(" Y ACTIVIDADES ")],-1),V={class:"flex flex-col my-1 p-3"},J=["onUpdate:modelValue"],T=["onUpdate:modelValue"],I=[{path:"/:catchAll(.*)",name:"Home",component:{setup(e){const a=o([]),u=o({all:[],destinos:[],hoteles:[],checkList:[]}),f=o({idDestino:0,idHotel:0,idCheckList:0,idTipo:0}),g=o(!1);(async()=>{u.value.all=[];try{const e=await fetch("../api_v3/",{method:"POST",body:JSON.stringify({idUsuario:localStorage.getItem("usuario"),idDestino:0,apartado:"sabanas",accion:"filtrosClonarConfiguracion"})}),a=await e.json();"SUCCESS"==a.response&&(u.value.destinos=a.data.destinos?a.data.destinos:[],u.value.all=a.data)}catch(e){console.log(e)}})();const y=e=>{f.value.idCheckList=0,u.value.checkList=[],"destino"==e&&(f.value.idHotel=0,u.value.all.hoteles.forEach((e=>{f.value.idDestino==e.idDestino&&u.value.hoteles.push(e)}))),"hotel"==e&&u.value.all.checkList.forEach((e=>{f.value.idHotel==e.idHotel&&u.value.checkList.push(e)}))};return(e,o)=>(t(),s("div",S,[x,l("div",C,[i(l("select",{class:"w-full bg-transparent","onUpdate:modelValue":o[0]||(o[0]=e=>f.value.idDestino=e),onChange:o[1]||(o[1]=e=>y("destino"))},[w,(t(!0),s(d,null,c(u.value.destinos,(e=>(t(),s("option",{value:e.idDestino},v(e.destino+" → "+e.ubicacion),9,k)))),256))],544),[[n,f.value.idDestino]])]),l("div",D,[i(l("select",{class:"w-full bg-transparent","onUpdate:modelValue":o[2]||(o[2]=e=>f.value.idHotel=e),onChange:o[3]||(o[3]=e=>{y("hotel")})},[L,(t(!0),s(d,null,c(u.value.hoteles,(e=>(t(),s("option",{value:e.idHotel},v(e.hotel),9,U)))),256))],544),[[n,f.value.idHotel]])]),l("div",A,[i(l("select",{class:"w-full bg-transparent","onUpdate:modelValue":o[4]||(o[4]=e=>f.value.idCheckList=e)},[O,(t(!0),s(d,null,c(u.value.checkList,(e=>(t(),s("option",{value:e.idCheckList},v(e.sabana),9,H)))),256))],512),[[n,f.value.idCheckList]])]),l("textarea",{class:"w-44 rounded border-2 border-black bg-gray-900 text-xs text-white",onChange:o[5]||(o[5]=e=>(e=>{try{JSON.parse(e.target.value)&&(a.value=JSON.parse(e.target.value))}catch(t){}})(e)),value:JSON.stringify(a.value),cols:"30",rows:"10"},null,40,N),l("input",{type:"button",class:"w-44 rounded bg-slate-400 p-2 text-xs",value:"Consultar",onClick:o[6]||(o[6]=e=>(async()=>{if(0!=f.value.idDestino&&0!=f.value.idHotel&&0!=f.value.idCheckList){a.value=[];try{const e=await fetch("../api_v3/",{method:"POST",body:JSON.stringify({idUsuario:localStorage.getItem("usuario"),apartado:"sabanas",accion:"consultaActividades",idDestino:f.value.idDestino,idHotel:f.value.idHotel,idCheckList:f.value.idCheckList})}),t=await e.json();"SUCCESS"==t.response&&(a.value=t.data)}catch(e){console.log(e)}}})())}),l("input",{type:"button",class:"w-44 rounded bg-slate-400 p-2 text-xs",value:"Visualizar",onClick:o[7]||(o[7]=e=>g.value=!0)}),l("input",{type:"button",class:"w-44 rounded bg-slate-400 p-2 text-xs",value:"Cargar",onClick:o[8]||(o[8]=e=>{0!=f.value.idDestino&&0!=f.value.idHotel&&0!=f.value.idCheckList&&a.value.length&&a.value.length&&a.value.forEach((async e=>{const a=p(p());if(e.apartado.length)try{const t=await fetch("../api_v3/",{method:"POST",body:JSON.stringify({idUsuario:localStorage.getItem("usuario"),idDestino:0,apartado:"sabanas",accion:"agregarApartado",idDestinoSeleccionado:f.value.idDestino,idSabana:f.value.idCheckList,idApartado:a,tituloApartado:e.apartado,opciones:"NO"})});"SUCCESS"==(await t.json()).response&&console.info("✓ Apartado: "+e.apartado)}catch(t){console.log(t)}e.actividades.forEach((async o=>{if(e.apartado.length&&o.actividad.length)try{const e=await fetch("../api_v3/",{method:"POST",body:JSON.stringify({idUsuario:localStorage.getItem("usuario"),idDestino:f.value.idDestino,apartado:"sabanas",accion:"agregarActividad",idDestinoSeleccionado:f.value.idDestino,idApartado:a,idActividad:p(p()),actividad:o.actividad})});"SUCCESS"==(await e.json()).response&&console.info("  ✓ Actividad: "+o.actividad)}catch(t){console.log(t)}}))}))})}),g.value&&a.value.length?(t(),s("div",j,[l("button",{type:"button",class:"bg-gray-200 text-gray-500 rounded p-1 absolute top-2 right-2",onClick:o[9]||(o[9]=e=>g.value=!g.value)},"Cerrar"),E,(t(!0),s(d,null,c(a.value,(e=>(t(),s("div",V,[i(l("input",{type:"text",class:"pl-2 text-blue-600","onUpdate:modelValue":a=>e.apartado=a},null,8,J),[[h,e.apartado]]),(t(!0),s(d,null,c(e.actividades,(e=>i((t(),s("input",{type:"text",class:"pl-10","onUpdate:modelValue":a=>e.actividad=a},null,8,T)),[[h,e.actividad]]))),256))])))),256))])):r("",!0)]))}}}],P=f({history:g(),routes:I});var _=y({state:{array:[]},mutations:{},actions:{async accionesUsuario({commit:e},a){try{const e=await fetch("http://localhost/maphg-beta/apis_v3/",{method:"POST",body:JSON.stringify(a)}),t=await e.json();return"SUCCESS"==t.response?{response:!0,data:t}:{response:!1,data:[]}}catch(t){return console.log(t),{response:!1,data:[]}}}},modules:{}});m(b).use(_).use(P).mount("#app");
