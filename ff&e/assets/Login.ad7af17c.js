import{u as g,a as v,b as m,r as l,o as d,c as u,d as e,w as p,v as f,e as b,f as w,g as y,p as x,h as S}from"./index.71bcfb5d.js";import{_ as I,f as U}from"./_plugin-vue_export-helper.7b527798.js";const h=s=>(x("data-v-55cc18f3"),s=s(),S(),s),k={class:"flex flex-col items-center justify-center w-full h-screen gap-10"},D=y('<div class="" data-v-55cc18f3><h1 class="leading-none uppercase text-center font-semibold" data-v-55cc18f3>Auditor\xEDas</h1><div class="flex items-center justify-center gap-6 font-semibold" data-v-55cc18f3><h1 class="leading-none" data-v-55cc18f3>M</h1><h1 class="leading-none phg" data-v-55cc18f3>P</h1><h1 class="leading-none phg" data-v-55cc18f3>H</h1><h1 class="leading-none phg" data-v-55cc18f3>G</h1></div></div>',1),E={id:"form"},K={class:""},M={class:"mx-auto max-w-md px-6 py-12 border-0 rounded-xl card"},R={class:"relative z-0 w-full mb-5"},V=h(()=>e("label",{for:"password",class:"absolute duration-300 top-3 -z-1 origin-0 text-gray-500"}," Usuario ",-1)),z={class:"relative z-0 w-full mb-5"},C=["onKeyup"],L=h(()=>e("label",{for:"password",class:"absolute duration-300 top-3 -z-1 origin-0 text-gray-500"}," Enter password ",-1)),N={key:0,class:"text-center text-red-500"},j={__name:"Login",props:{icono:{type:String,required:!1,default:""}},setup(s){const r=g();console.log(r.urlApi);const _=v();m(),localStorage.setItem("usuario",0),localStorage.setItem("idDestino",0);const o=l({usuario:"",contrase\u00F1a:""}),c=l(!1),i=async()=>{if(!(!o.value.usuario.length||!o.value.contrase\u00F1a.length))try{const n={idUsuario:0,idDestino:0,apartado:"auditorias",accion:"login",fechaLogin:U(new Date,"yyyy-MM-dd KK:mm:ss"),usuario:o.value.usuario,contrase\u00F1a:o.value.contrase\u00F1a},t=await(await fetch(r.urlApi,{method:"POST",body:JSON.stringify(n)})).json();t.response=="SUCCESS"&&(localStorage.setItem("usuario",t.data[0].idUsuario),localStorage.setItem("idDestino",t.data[0].idDestino),_.push("/home")),t.response=="ERROR"&&(c.value=!0)}catch(n){console.log(n)}};return(n,a)=>(d(),u("div",k,[D,e("section",E,[e("div",K,[e("div",M,[e("div",R,[p(e("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>o.value.usuario=t),type:"text",name:"password",placeholder:" ",class:"pt-3 pb-2 block w-full px-0 mt-0 bg-transparent border-0 border-b-2 appearance-none focus:outline-none focus:ring-0 focus:border-white border-white/10"},null,512),[[f,o.value.usuario]]),V]),e("div",z,[p(e("input",{onKeyup:b(i,["enter"]),"onUpdate:modelValue":a[1]||(a[1]=t=>o.value.contrase\u00F1a=t),type:"password",name:"password",placeholder:" ",class:"pt-3 pb-2 block w-full px-0 mt-0 bg-transparent border-0 border-b-2 appearance-none focus:outline-none focus:ring-0 focus:border-white border-white/10"},null,40,C),[[f,o.value.contrase\u00F1a]]),L]),e("button",{onClick:i,class:"w-full"},"Entrar"),c.value?(d(),u("p",N,"Usuario \xF3 contrae\xF1o no valido")):w("",!0)])])])]))}},O=I(j,[["__scopeId","data-v-55cc18f3"]]);export{O as default};
