import{r as a,c as e,a as s,o,b as t,d as i,e as l,t as n,f as r,F as c,p as d,g as u,u as f,h as m,n as x,i as p,j as g,k as h,D as b,V as v,L as y,X as w,l as M,m as k,q as C,s as P,v as S,w as z,x as D,y as I,z as F,A as j,B as A,C as G,E as U,G as R,H as q,I as B,J as E,K as O}from"./vendor.45199e39.js";!function(){const a=document.createElement("link").relList;if(!(a&&a.supports&&a.supports("modulepreload"))){for(const a of document.querySelectorAll('link[rel="modulepreload"]'))e(a);new MutationObserver((a=>{for(const s of a)if("childList"===s.type)for(const a of s.addedNodes)"LINK"===a.tagName&&"modulepreload"===a.rel&&e(a)})).observe(document,{childList:!0,subtree:!0})}function e(a){if(a.ep)return;a.ep=!0;const e=function(a){const e={};return a.integrity&&(e.integrity=a.integrity),a.referrerpolicy&&(e.referrerPolicy=a.referrerpolicy),"use-credentials"===a.crossorigin?e.credentials="include":"anonymous"===a.crossorigin?e.credentials="omit":e.credentials="same-origin",e}(a);fetch(a.href,e)}}();const N={};N.render=function(t,i){const l=a("router-view");return o(),e("div",null,[s(l)])};const T={name:"Iconos",props:{icono:{type:String,default:""}}},V={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},H=[i("path",{d:"M12 19V6M5 12l7-7 7 7"},null,-1)],L={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},_=[i("path",{d:"M12 5v13M5 12l7 7 7-7"},null,-1)],J={key:2,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},$=[i("path",{d:"M19 12H6M12 5l-7 7 7 7"},null,-1)],X={key:3,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},K=[i("path",{d:"M5 12h13M12 5l7 7-7 7"},null,-1)],Z={key:4,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},W=[i("path",{d:"M17 17L7.8 7.7M7 17V7h10"},null,-1)],Y={key:5,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Q=[i("path",{d:"M7 17l9.2-9.2M17 17V7H7"},null,-1)],aa={key:6,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ea=[i("path",{d:"M17 7l-9.2 9.2M7 7v10h10"},null,-1)],sa={key:7,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},oa=[i("line",{x1:"3",y1:"12",x2:"21",y2:"12"},null,-1),i("line",{x1:"3",y1:"6",x2:"21",y2:"6"},null,-1),i("line",{x1:"3",y1:"18",x2:"21",y2:"18"},null,-1)],ta={key:8,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ia=[i("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),i("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1)],la={key:9,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},na=[i("path",{d:"M9 18l6-6-6-6"},null,-1)],ra={key:10,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ca=[i("rect",{x:"3",y:"3",width:"7",height:"7"},null,-1),i("rect",{x:"14",y:"3",width:"7",height:"7"},null,-1),i("rect",{x:"14",y:"14",width:"7",height:"7"},null,-1),i("rect",{x:"3",y:"14",width:"7",height:"7"},null,-1)],da={key:11,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ua=[i("line",{x1:"12",y1:"5",x2:"12",y2:"19"},null,-1),i("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1)],fa={key:12,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ma=[i("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},null,-1),i("line",{x1:"16",y1:"2",x2:"16",y2:"6"},null,-1),i("line",{x1:"8",y1:"2",x2:"8",y2:"6"},null,-1),i("line",{x1:"3",y1:"10",x2:"21",y2:"10"},null,-1)],xa={key:13,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},pa=[i("polyline",{points:"9 11 12 14 22 4"},null,-1),i("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},null,-1)],ga={key:14,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ha=[l('<line x1="12" y1="2" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="22"></line><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line><line x1="2" y1="12" x2="6" y2="12"></line><line x1="18" y1="12" x2="22" y2="12"></line><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line>',8)],ba={key:15,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},va=[i("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},null,-1),i("line",{x1:"12",y1:"9",x2:"12",y2:"13"},null,-1),i("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"},null,-1)];T.render=function(a,s,i,l,n,r){return o(),e("div",null,["arrow-up"===i.icono?(o(),e("svg",V,H)):t("",!0),"arrow-down"===i.icono?(o(),e("svg",L,_)):t("",!0),"arrow-left"===i.icono?(o(),e("svg",J,$)):t("",!0),"arrow-right"===i.icono?(o(),e("svg",X,K)):t("",!0),"arrow-up-left"===i.icono?(o(),e("svg",Z,W)):t("",!0),"arrow-up-right"===i.icono?(o(),e("svg",Y,Q)):t("",!0),"arrow-down-left"===i.icono?(o(),e("svg",aa,ea)):t("",!0),"menu"===i.icono?(o(),e("svg",sa,oa)):t("",!0),"x"===i.icono?(o(),e("svg",ta,ia)):t("",!0),"chevron-right"===i.icono?(o(),e("svg",la,na)):t("",!0),"grid"===i.icono?(o(),e("svg",ra,ca)):t("",!0),"plus"===i.icono?(o(),e("svg",da,ua)):t("",!0),"calendar"===i.icono?(o(),e("svg",fa,ma)):t("",!0),"check-square"===i.icono?(o(),e("svg",xa,pa)):t("",!0),"loader"===i.icono?(o(),e("svg",ga,ha)):t("",!0),"alert-triangle"===i.icono?(o(),e("svg",ba,va)):t("",!0)])};const ya={components:{Iconos:T},props:{visualizar:{type:Boolean,default:!1},creadas:{type:Number,required:!0,default:0},ranproceso:{type:Number,required:!0,default:0},ranfinalizado:{type:Number,required:!0,default:0},proceso:{type:Number,required:!0,default:0},finalizado:{type:Number,required:!0,default:0},acumulado:{type:Number,required:!0,default:0},ranacumulado:{type:Number,required:!0,default:0},mediaHoras:{type:[String,Number],required:!0,default:0},ratioCredas:{type:[String,Number],required:!0,default:0},ratioFinalizadas:{type:[String,Number],required:!0,default:0}},setup:()=>({})},wa={key:0,class:"animate-pulse py-4 flex flex-row flex-wrap items-center justify-evenly rounded-lg bg-white px-2 divide-x divide-gris-30 w-full md:w-7/12"},Ma=[l('<div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div>',7)],ka={key:1,class:"flex flex-row flex-wrap items-center justify-evenly rounded-lg bg-white px-2 divide-x divide-gris-30 w-full md:w-7/12"},Ca={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},Pa={class:"w-7 h-7 bg-blue-100 text-blue-400 rounded-full flex items-center justify-center"},Sa={class:"text-3xl font-semibold"},za=i("h2",{class:"text-sm text-gray-500"},"Creadas",-1),Da={class:"text-xxs leading-snug text-gray-500"},Ia=r(" Ratio "),Fa={class:"font-bold"},ja={class:"text-xxs leading-snug text-gray-500"},Aa=r(" Media t. "),Ga={class:"font-bold"},Ua={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},Ra={class:"w-7 h-7 bg-yellow-100 text-yellow-400 rounded-full flex items-center justify-center"},qa={class:"text-3xl font-semibold"},Ba=i("h2",{class:"text-sm text-gray-500"},"En proceso",-1),Ea={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},Oa={class:"w-7 h-7 bg-green-100 text-green-400 rounded-full flex items-center justify-center"},Na={class:"text-3xl font-semibold"},Ta=i("h2",{class:"text-sm text-gray-500"},"Solucionadas",-1),Va={class:"text-xxs leading-snug text-gray-500"},Ha=r(" Ratio "),La={class:"font-bold"},_a={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},Ja={class:"w-7 h-7 bg-purple-100 text-purple-400 rounded-full flex items-center justify-center"},$a={class:"text-3xl font-semibold"},Xa=i("h2",{class:"text-sm text-gray-500"},"Acumulado",-1),Ka=i("h2",{class:"text-xxs leading-none text-gray-500"},[r(" del "),i("span",{class:"font-bold"},"1 ENE 2021"),r(" a la fecha ")],-1),Za={class:"w-36 h-36 flex flex-col items-center justify-center px-2"},Wa={class:"w-16 h-16 rounded-full ring ring-yellow-100 bg-yellow-400 border-4 mb-2 border-yellow-200 flex flex-col items-center justify-center"},Ya={class:"text-2xl leading-none text-white font-semibold"},Qa=i("span",{class:"text-sm"},"/8",-1),ae=i("h2",{class:"text-xxs text-gray-500"},"Ranking America",-1),ee=i("h2",{class:"text-xxs leading-none uppercase text-gray-500 font-bold"}," Creando incidencias ",-1),se={class:"w-36 h-36 flex flex-col items-center justify-center px-2"},oe={class:"w-16 h-16 rounded-full ring ring-green-100 bg-green-400 border-4 mb-2 border-green-200 flex flex-col items-center justify-center"},te={class:"text-2xl leading-none text-white font-semibold"},ie=i("span",{class:"text-sm"},"/8",-1),le=i("h2",{class:"text-xxs text-gray-500"},"Ranking America",-1),ne=i("h2",{class:"text-xxs leading-none uppercase text-gray-500 font-bold"}," Incidencias Finalizadas ",-1),re={class:"w-36 h-36 flex flex-col items-center justify-center px-2"},ce={class:"w-16 h-16 rounded-full ring ring-purple-100 bg-purple-400 border-4 mb-2 border-purple-200 flex flex-col items-center justify-center"},de={class:"text-2xl leading-none text-white font-semibold"},ue=i("span",{class:"text-sm"},"/8",-1),fe=i("h2",{class:"text-xxs text-gray-500"},"Ranking America",-1),me=i("h2",{class:"text-xxs leading-none uppercase text-gray-500 font-bold text-center"}," incidencias acumuladas ",-1);ya.render=function(l,d,u,f,m,x){const p=a("iconos");return o(),e(c,null,[u.visualizar?(o(),e("div",wa,Ma)):t("",!0),u.visualizar?t("",!0):(o(),e("div",ka,[i("div",Ca,[i("div",Pa,[s(p,{icono:"plus",class:"w-4"})]),i("h1",Sa,n(u.creadas),1),za,i("h2",Da,[Ia,i("span",Fa,n(u.ratioCredas),1)]),i("h2",ja,[Aa,i("span",Ga,n(u.mediaHoras)+" H",1)])]),i("div",Ua,[i("div",Ra,[s(p,{icono:"loader",class:"w-4"})]),i("h1",qa,n(u.proceso),1),Ba]),i("div",Ea,[i("div",Oa,[s(p,{icono:"check-square",class:"w-4"})]),i("h1",Na,n(u.finalizado),1),Ta,i("h2",Va,[Ha,i("span",La,n(u.ratioFinalizadas),1)])]),i("div",_a,[i("div",Ja,[s(p,{icono:"alert-triangle",class:"w-4"})]),i("h1",$a,n(u.acumulado),1),Xa,Ka]),i("div",Za,[i("div",Wa,[i("h1",Ya,[r(n(u.ranproceso),1),Qa])]),ae,ee]),i("div",se,[i("div",oe,[i("h1",te,[r(n(u.ranfinalizado),1),ie])]),le,ne]),i("div",re,[i("div",ce,[i("h1",de,[r(n(u.ranacumulado),1),ue])]),fe,me])]))],64)};const xe={props:{visualizar:{type:Boolean,default:!1,require:!0},texto:{type:String,default:"NoText"},color:{type:String,default:"#000000"},color2:{type:String,default:"#edf2f7"},"tamaño":{type:String,default:"12em"},porcentaje:{type:Number,default:0}},setup:()=>({})},pe=()=>{f((a=>({"54300d4c":a.tamaño,"8caadf2c":a.color2,a9b2ee70:a.color})))},ge=xe.setup;xe.setup=ge?(a,e)=>(pe(),ge(a,e)):pe;const he=xe;d("data-v-13c5b652");const be={key:0,class:"flex flex-row items-center justify-center relative animate-pulse border-8 rounded-full w-44 h-44 flex-none"},ve=[i("div",{class:"absolute flex flex-col items-center justify-center"},[i("h1",{class:"percentage leading-none mt-1 font-bold text-xs bg-gray-200 text-transparent mb-1"}," TOTAL "),i("h1",{class:"percentage leading-none font-bold text-sm uppercase bg-gray-200 text-transparent"}," xxxxxxx "),i("h1",{class:"percentage leading-none mt-1 font-bold bg-gray-200 text-transparent"}," xxxxxxx ")],-1)],ye={key:1,class:"single-chart flex flex-row items-center justify-center relative"},we={viewBox:"0 0 36 36",class:"circular-chart orange"},Me=i("path",{class:"circle-bg",d:"M18 2.0845\r\n          a 15.9155 15.9155 0 0 1 0 31.831\r\n          a 15.9155 15.9155 0 0 1 0 -31.831"},null,-1),ke=["stroke-dasharray"],Ce={class:"absolute flex flex-col items-center justify-center"},Pe=i("h1",{class:"percentage leading-none mt-1 font-bold text-xs"},"TOTAL",-1),Se={class:"percentage leading-none font-bold text-sm uppercase"},ze={class:"percentage leading-none text-gray-500 mt-1 font-bold"};u(),he.render=function(a,s,l,r,d,u){return o(),e(c,null,[l.visualizar?(o(),e("div",be,ve)):t("",!0),l.visualizar?t("",!0):(o(),e("div",ye,[(o(),e("svg",we,[Me,i("path",{class:"circle","stroke-dasharray":[l.porcentaje,100],d:"M18 2.0845\r\n          a 15.9155 15.9155 0 0 1 0 31.831\r\n          a 15.9155 15.9155 0 0 1 0 -31.831"},null,8,ke)])),i("div",Ce,[Pe,i("h1",Se,n(l.texto),1),i("h1",ze,n(l.porcentaje)+"% ",1)])]))],64)},he.__scopeId="data-v-13c5b652";const De={name:"GraficoBarrasCss",props:{visualizar:{type:Boolean,default:!1},seccion:{type:String,required:!0,default:"###"},creadas:{type:Number,required:!0,default:0},finalizadas:{type:Number,required:!0,default:0},color1:{type:String,required:!0,default:"#edf2f7"},color2:{type:String,required:!0,default:"#89bcfb"},vs:{type:Boolean,required:!0,default:!1},rotarTexto:{type:Boolean,default:!1}},setup(a){const e=m(Math.round(100/a.creadas*a.finalizadas));e.value>100&&(e.value=100);const s=m(a.creadas);return a.creadas>0&&a.vs&&(s.value=a.creadas-a.finalizadas),{porcentaje:e,creadasX:s}}},Ie=()=>{f((a=>({48168232:a.color1,48168233:a.color2,"7e462aef":a.porcentaje+"%"})))},Fe=De.setup;De.setup=Fe?(a,e)=>(Ie(),Fe(a,e)):Ie;const je=De;d("data-v-380a80ff");const Ae={class:"h-44 flex justify-center items-end hover:shadow-lg principal"},Ge={class:"text-xs font-normal text-white mb-2"},Ue={class:"xx hidden absolute -left-16 -top-1.5 bg-black text-white rounded px-2 w-auto text-xs asbolute"};u(),je.render=function(a,s,l,r,c,d){return l.visualizar?t("",!0):(o(),e("div",{key:0,class:x({"flex flex-col items-center chart cursor-pointer w-10":!l.rotarTexto,"flex flex-col items-center chart cursor-pointer w-12 relative h-72":l.rotarTexto})},[i("div",Ae,[i("div",{class:x(["flex justify-center items-end relative",{secundario:l.creadas>0}])},[i("h1",Ge,n(r.porcentaje>0?r.porcentaje:0)+" % ",1),i("div",Ue,n(l.finalizadas)+" - "+n(r.creadasX),1)],2)]),i("div",{class:x({"font-bold text-gray-500 flex items-center justify-center text-sm uppercase":!l.rotarTexto,"transform rotate-90 flex items-center mb-4 font-bold text-gray-500 text-xxs md:text-xs uppercase bottom-2":l.rotarTexto})},[i("h1",{class:x({"absolute left-1":l.rotarTexto})},n(l.seccion),3)],2)],2))},je.__scopeId="data-v-380a80ff";p(g);const Re={name:"Graficotest",props:{arrayGrafica:{type:Object,default:[]}},mounted(){let a=h(this.$refs.chartdiv,M);a.paddingRight=30,a.paddingTop=10,a.paddingLeft=0,a.data=this.arrayGrafica;var e=a.xAxes.push(new b);function s(e,s,o,t){var i=a.series.push(new k);return i.dataFields.valueY=e,i.dataFields.dateX="date",i.name=s,i.tooltipText="{dateX}: [b]{valueY}[/]",i.stroke=C(o),i.strokeWidth=3,i.tensionX=.8,i.stacked=!1,i.fillOpacity=t,i.fill=C(o),i}e.renderer.grid.template.location=0,e.renderer.minGridDistance=30,e.startLocation=.5,e.endLocation=.5,e.fontSize=10,e.dateFormats.setKey("day","MMM dd"),a.yAxes.push(new v).fontSize=8,s("finalizado","Finalizado","#34d399","0"),s("creado","Creado","#00c4fa","0"),s("acumulado","Acumulado","#a78bfa","0"),a.legend=new y,a.cursor=new w,a.legend.fontSize=12,a.legend.fontWeight=500,this.chart=a},updated(){this.chart&&(this.chart.data=this.arrayGrafica)},beforeDestroy(){this.chart&&this.chart.dispose()}};d("data-v-90daa9b0");const qe={class:"hello",ref:"chartdiv"};u(),Re.render=function(a,s,t,i,l,n){return o(),e("div",qe,null,512)},Re.__scopeId="data-v-90daa9b0";const Be={name:"Rankings",props:{visualizar:{type:Boolean,default:!1},key:{type:Number},nombre:{type:String,required:!1},destinos:{type:Object,required:!1},menosAmas:{type:Boolean,required:!1},color:{type:String,required:!1,default:"#ffeab6"},simbolo:{type:String,required:!1,default:""},posicion:{type:Number,default:1}},setup:()=>({})},Ee=()=>{f((a=>({bfbcb9d8:a.color})))},Oe=Be.setup;Be.setup=Oe?(a,e)=>(Ee(),Oe(a,e)):Ee;const Ne=Be;d("data-v-2744c348");const Te={key:0,class:"flex flex-col items-start justify-center w-56"},Ve=i("div",{class:"text-center w-full mb-2 text-xs uppercase font-bold"},[i("h1",{class:"bg-gray-200 text-transparent rounded-sm"},"xxxxxxxxxxxxxxx")],-1),He=[l('<div class="w-12" data-v-2744c348><h1 class="bg-gray-200 text-transparent" data-v-2744c348>xxx</h1></div><div class="w-12" data-v-2744c348><h1 class="bg-gray-200 text-transparent" data-v-2744c348>xxx</h1></div><div class="w-12" data-v-2744c348><h1 class="bg-gray-200 text-transparent" data-v-2744c348>xxx</h1></div>',3)],Le={key:1,class:"flex flex-col items-start justify-center w-56"},_e={class:"text-center w-full mb-2 text-xs uppercase font-bold"},Je={class:"w-16"},$e={class:"w-16"},Xe={class:"w-16"};u(),Ne.render=function(a,s,l,r,d,u){return o(),e(c,null,[l.visualizar?(o(),e("div",Te,[Ve,(o(),e(c,null,P(8,(a=>i("div",{key:a,class:"flex flex-row items-center justify-between w-full text-center text-sm rounded p-1 mb-1 bg-gray-200 animate-pulse"},He))),64))])):t("",!0),l.visualizar?t("",!0):(o(),e("div",Le,[i("div",_e,[i("h1",null,n(l.nombre),1)]),(o(!0),e(c,null,P(l.destinos,((a,s)=>(o(),e("div",{key:s,class:x([[a.destinoActual?"destinoactual":"bg-base"],"flex flex-row items-center justify-between w-full text-center text-sm rounded p-1 mb-1"])},[i("div",Je,[i("h1",null,n(s+1),1)]),i("div",$e,[i("h1",null,n(a.destino),1)]),i("div",Xe,[i("h1",null,n(a.total)+" "+n(l.simbolo),1)])],2)))),128))]))],64)},Ne.__scopeId="data-v-2744c348";const Ke={name:"GraficoBarrasCssSkeleton",props:{visualizar:{type:Boolean,default:!1}}},Ze=()=>{f((a=>({"33b4ff62":a.color1,"33b4ff63":a.color2,dae427c2:a.porcentaje+"%"})))},We=Ke.setup;Ke.setup=We?(a,e)=>(Ze(),We(a,e)):Ze;const Ye=Ke;d("data-v-3b2652d2");const Qe={key:0,class:"flex flex-col items-center chart cursor-pointer animate-pulse"},as=[i("div",{class:"h-44 skeleton1 flex justify-center items-end hover:shadow-lg"},[i("div",{class:"skeleton2 flex justify-center items-end relative"})],-1),i("div",{class:"font-bold text-transparent bg-gray-200 flex items-center justify-center text-sm uppercase w-8 mt-1 h-4"},null,-1)];u(),Ye.render=function(a,s,i,l,n,r){return i.visualizar?(o(),e("div",Qe,as)):t("",!0)},Ye.__scopeId="data-v-3b2652d2";const es={name:"Trmpmc",components:{Marcadores:ya,GraficoCircularCss:he,GraficoBarrasCss:je,Graficotest:Re,Rankings:Ne,Iconos:T,GraficoBarrasCssSkeleton:Ye},props:{},setup(){const a=S().state,e=S().dispatch,s=z();D((()=>{u("","","cargar"),f(),x(),p(),g(),h()}));const o=I((()=>a.skeleton)),t=I((()=>a.arrayGrafica)),i=I((()=>a.arraySecciones.sort(((a,e)=>e.solucionados-a.solucionados)))),l=I((()=>a.datosMC)),n=m([]),r=m({fechaInicio:"",fechaFin:""}),c=m(""),d=m(""),u=(a,e,s)=>{const o=F(j(new Date,{days:5}),"yyyy-MM-dd"),t=F(new Date,"yyyy-MM-dd");if(!localStorage.getItem("fechas"))return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),r.value.fechaInicio=o,void(r.value.fechaFin=t);if(localStorage.getItem("fechas")){const i=JSON.parse(localStorage.getItem("fechas"));if("cargar"==s&&i.fechaInicio&&i.fechaFin)return r.value.fechaInicio=i.fechaInicio,void(r.value.fechaFin=i.fechaFin);if("actualizar"==s&&i.fechaInicio&&i.fechaFin)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:a,fechaFin:e})),r.value.fechaInicio=a,void(r.value.fechaFin=e);if("cargar"==s||"actualizar"==s)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),r.value.fechaInicio=o,void(r.value.fechaFin=t)}},f=async()=>{c.value=F(new Date(Math.round(r.value.fechaInicio.slice(0,4)),Math.round(r.value.fechaInicio.slice(5,7))-1,Math.round(r.value.fechaInicio.slice(8,10))),"dd MMMM"),d.value=F(new Date(Math.round(r.value.fechaFin.slice(0,4)),Math.round(r.value.fechaFin.slice(5,7))-1,Math.round(r.value.fechaFin.slice(8,10))),"dd MMMM"),a.skeleton.barrasCreadasVSSolucionadas=!0,a.skeleton.marcadores=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:r.value.fechaInicio,fechaFin:r.value.fechaFin,apartado:"ReporteRanking",accion:"incidenciasSecciones"},i=await e("peticion",t);if(i.response){const e=i.data.data;i.data.destino[0]?a.datosMC.destino=i.data.destino[0].destino:a.datosMC.destino="",a.datosMC.creadas=e.global.creadosGlobales,a.datosMC.enProceso=e.global.pendientesGlobales,a.datosMC.finalizado=e.global.solucionadosGlobales,a.datosMC.acumulado=e.global.acumuladoGlobales,a.datosMC.mediaHoras=e.global.mediaHoras.toFixed(2),a.datosMC.ratioCredas=e.global.ratioCredas.toFixed(2),a.datosMC.ratioFinalizadas=e.global.ratioFinalizadas.toFixed(2),a.datosMC.porcentajeSolucionado=e.global.creadosGlobales>0?Math.round(100/e.global.creadosGlobales*e.global.solucionadosGlobales):0,a.arraySecciones=i.data.data.secciones?i.data.data.secciones:[],a.skeleton.barrasCreadasVSSolucionadas=!1,a.skeleton.marcadores=!1}},x=async()=>{a.skeleton.grafica=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:r.value.fechaInicio,fechaFin:r.value.fechaFin,apartado:"ReporteRanking",accion:"graficaIncidencias"},i=await e("peticion",t);if(i.response){const e=i.data.data;a.arrayGrafica=e.data,a.skeleton.grafica=!1}},p=async()=>{a.skeleton.ranking=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:r.value.fechaInicio,fechaFin:r.value.fechaFin,apartado:"ReporteRanking",accion:"destinosIncidencias"},i=await e("peticion",t);if(i.response){const e=i.data.data.creados;e&&(e.sort(((a,e)=>e.total-a.total)),a.datosMC.rankingIncidenciasCreadas=e,e.forEach(((e,s)=>{e.idDestino==o&&(a.datosMC.rankingCreadas=s+1)})));const s=i.data.data.solucionados;s&&(s.sort(((a,e)=>e.total-a.total)),a.datosMC.rankingIncidenciasFinalizada=s,s.forEach(((e,s)=>{e.idDestino==o&&(a.datosMC.rankingFinalizado=s+1)})));const t=i.data.data.pendientes;t&&(t.sort(((a,e)=>a.total-e.total)),a.datosMC.rankingIncidenciasAcumulado=t,t.forEach(((e,s)=>{e.idDestino==o&&(a.datosMC.rankingAcumulado=s+1)})));const l=i.data.data.mcmpCreados;l&&(l.sort(((a,e)=>a.total-e.total)),a.datosMC.rankingmcmpCreados=l),a.skeleton.ranking=!1}},g=async()=>{a.skeleton.barrasCreados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:r.value.fechaInicio,fechaFin:r.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMC",status:"TODOS"},i=await e("peticion",t);if(i.response){const e=i.data.data;a.datosMC.mcCreados=e.global.mcGlobal,a.datosMC.mpCreados=e.global.mpGlobal,a.datosMC.mcmpCreados=e.secciones.sort(((a,e)=>e.mc-a.mc)),a.skeleton.barrasCreados=!1}},h=async()=>{a.skeleton.barrasSolucionados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:r.value.fechaInicio,fechaFin:r.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMC",status:"SOLUCIONADO"},i=await e("peticion",t);if(i.response){const e=i.data.data;a.datosMC.mcFinalizado=e.global.mcGlobal,a.datosMC.mpFinalizado=e.global.mpGlobal,a.datosMC.mcmpFinalizado=e.secciones.sort(((a,e)=>e.mc-a.mc)),a.skeleton.barrasSolucionados=!1}};return{fechas:r,fechaA:c,fechaB:d,datosMC:l,skeleton:o,aplicar:f,graficar:x,mcmpCreados:g,mcmpFinalizados:h,rankingGlobal:p,arrayGrafica:t,arraySecciones:i,arrayRankingCreadas:n,router:s,store:a,comprobarFechas:u}}};d("data-v-d7e2280a");const ss={class:"p-2 md:p-6"},os={class:"text-2xl font-semibold text-gray-700 pb-4 text-center uppercase"},ts=r(" TR Incidencias "),is={class:"font-bold"},ls={class:"w-full flex flex-row items-center justify-center"},ns={class:"bg-white flex items-center justify-start rounded-xl"},rs={class:"p-3"},cs=i("h1",{class:"text-xxs font-semibold"},"Día Inicial",-1),ds={class:"p-3"},us=i("h1",{class:"text-xxs font-semibold"},"Día Final",-1),fs={class:"p-3"},ms={class:"w-full my-4 flex flex-col items-center justify-start"},xs={class:"flex flex-col items-center justify-start w-full md:w-7/12 bg-white shadow-sm mt-4 flex-wrap rounded-lg pb-10"},ps=i("h1",{class:"mt-4 text-gray-700 font-semibold text-2xl uppercase leading-none"}," Incidencias ",-1),gs={class:"text-gray-500 text-xxs leading-none"},hs=r(" Del "),bs={class:"font-bold"},vs=r(" al "),ys={class:"font-bold"},ws={key:0,class:"w-full h-80 p-6"},Ms=[i("div",{class:"bg-gray-200 animate-pulse w-full h-full rounded-lg"},null,-1)],ks=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," Solucionadas VS Creadas ",-1),Cs={class:"text-gray-500 text-xxs leading-none mb-4"},Ps=r(" Del "),Ss={class:"font-bold"},zs=r(" al "),Ds={class:"font-bold"},Is={class:"w-full flex flex-row items-center justify-around flex-wrap"},Fs={class:"flex flex-col font-bold"},js=i("h2",{class:"text-sm text-left leading-none creadas mb-1"},"Creadas",-1),As={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Gs=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," Solucionadas ",-1),Us={class:"text-3xl text-left leading-none mb-3 text-gray-700"},Rs=i("h2",{class:"text-sm text-left leading-none acumulado mb-1"}," Acumulado ",-1),qs={class:"text-2xl text-left leading-none mb-3 text-gray-700"},Bs={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible"},Es=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," Incidencias creadas vs Preventivos creados ",-1),Os={class:"text-gray-500 text-xxs leading-none mb-4"},Ns=r(" Del "),Ts={class:"font-bold"},Vs=r(" al "),Hs={class:"font-bold"},Ls={class:"w-full flex flex-row items-center justify-around flex-wrap"},_s={class:"w-full md:w-auto p-3 flex flex-row items-start justify-around overflow-x-auto md:overflow-x-visible"},Js={class:"flex flex-col font-bold"},$s=i("h2",{class:"text-sm text-right leading-none creadas mb-1"}," MC Creados ",-1),Xs={class:"text-4xl text-right leading-none mb-3 text-gray-700"},Ks=i("h2",{class:"text-sm text-right leading-none mp2 mb-1"},"MP Creadas",-1),Zs={class:"text-4xl text-right leading-none mb-3 text-gray-700"},Ws=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," Incidencias solucionadas vs Preventivos solucionados ",-1),Ys={class:"text-gray-500 text-xxs leading-none mb-4"},Qs=r(" Del "),ao={class:"font-bold"},eo=r(" al "),so={class:"font-bold"},oo={class:"w-full flex flex-row items-center justify-around flex-wrap"},to={class:"flex flex-col font-bold"},io=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," MC Finalizados ",-1),lo={class:"text-4xl text-left leading-none mb-3 text-gray-700"},no=i("h2",{class:"text-sm text-left leading-none mp1 mb-1"}," MP Finalizados ",-1),ro={class:"text-4xl text-left leading-none mb-3 text-gray-700"},co={class:"w-full md:w-auto p-3 flex flex-row items-start justify-around overflow-x-auto md:overflow-x-visible"},uo=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," Rankings américa ",-1),fo={class:"text-gray-500 text-xxs leading-none mb-4"},mo=r(" Del "),xo={class:"font-bold"},po=r(" al "),go={class:"font-bold"},ho={class:"w-full flex flex-wrap flex-row items-center justify-around px-8 pt-6"};u(),es.render=function(l,r,d,u,f,m){const x=a("Iconos"),p=a("Marcadores"),g=a("Graficotest"),h=a("GraficoCircularCss"),b=a("GraficoBarrasCssSkeleton"),v=a("GraficoBarrasCss"),y=a("Rankings");return o(),e("div",ss,[i("h1",os,[ts,i("span",is,n(u.datosMC.destino),1)]),i("div",ls,[i("div",ns,[i("div",rs,[cs,A(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[0]||(r[0]=a=>u.fechas.fechaInicio=a),onChange:r[1]||(r[1]=a=>u.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[G,u.fechas.fechaInicio]])]),s(x,{icono:"arrow-right",class:"w-4"}),i("div",ds,[us,A(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[2]||(r[2]=a=>u.fechas.fechaFin=a),onChange:r[3]||(r[3]=a=>u.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[G,u.fechas.fechaFin]])]),i("div",fs,[i("button",{class:"bg-purple-50 text-purple-500 py-1 px-2 rounded-lg text-sm border border-purple-400",onClick:r[4]||(r[4]=a=>{u.aplicar(),u.graficar(),u.rankingGlobal(),u.mcmpCreados(),u.mcmpFinalizados()})}," Aplicar ")])])]),i("div",ms,[s(p,{creadas:u.datosMC.creadas,proceso:u.datosMC.enProceso,finalizado:u.datosMC.finalizado,acumulado:u.datosMC.acumulado,ranproceso:u.datosMC.rankingCreadas,ranacumulado:u.datosMC.rankingAcumulado,ranfinalizado:u.datosMC.rankingFinalizado,ratioCredas:u.datosMC.ratioCredas,ratioFinalizadas:u.datosMC.ratioFinalizadas,mediaHoras:u.datosMC.mediaHoras,visualizar:u.skeleton.marcadores},null,8,["creadas","proceso","finalizado","acumulado","ranproceso","ranacumulado","ranfinalizado","ratioCredas","ratioFinalizadas","mediaHoras","visualizar"]),i("div",xs,[ps,i("h1",gs,[hs,i("span",bs,n(u.fechaA),1),vs,i("span",ys,n(u.fechaB),1)]),u.skeleton.grafica?(o(),e("div",ws,Ms)):t("",!0),u.skeleton.grafica?t("",!0):(o(),U(g,{key:1,class:"mt-4 rounded-lg shadow-sm",arrayGrafica:u.arrayGrafica},null,8,["arrayGrafica"])),ks,i("h1",Cs,[Ps,i("span",Ss,n(u.fechaA),1),zs,i("span",Ds,n(u.fechaB),1)]),i("div",Is,[i("div",Fs,[js,i("h1",As,n(u.datosMC.creadas),1),Gs,i("h1",Us,n(u.datosMC.finalizado),1),Rs,i("h1",qs,n(u.datosMC.enProceso),1)]),s(h,{texto:"Finalizado",color:"#34d399",porcentaje:u.datosMC.porcentajeSolucionado,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["porcentaje","visualizar"]),i("div",Bs,[(o(),e(c,null,P(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["visualizar"]))),64)),(o(!0),e(c,null,P(u.arraySecciones,(a=>(o(),U(v,{key:a,seccion:a.seccion,creadas:a.creados,finalizadas:a.solucionados,color1:"#edf2f7",color2:"#34d399",vs:!1,visualizar:u.skeleton.barrasCreadasVSSolucionadas,onDblclick:e=>l.$router.push("/mc/"+u.router.params.idDestino+"/seccion/"+a.idSeccion)},null,8,["seccion","creadas","finalizadas","visualizar","onDblclick"])))),128))])]),Es,i("h1",Os,[Ns,i("span",Ts,n(u.fechaA),1),Vs,i("span",Hs,n(u.fechaB),1)]),i("div",Ls,[i("div",_s,[(o(),e(c,null,P(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,P(u.datosMC.mcmpCreados,(a=>(o(),U(v,{key:a,seccion:a.seccion,creadas:a.mp+a.mc,finalizadas:a.mc,color1:"#86e5ff",color2:"#00c4fa",vs:!0,visualizar:u.skeleton.barrasCreados,onDblclick:e=>l.$router.push("/mc/"+u.router.params.idDestino+"/seccion/"+a.idSeccion)},null,8,["seccion","creadas","finalizadas","visualizar","onDblclick"])))),128))]),s(h,{texto:"MC CREADOS",color:"#00c4fa",color2:"#86e5ff",porcentaje:u.datosMC.mcCreados>0?Math.round(100/(u.datosMC.mcCreados+u.datosMC.mpCreados)*u.datosMC.mcCreados):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreados},null,8,["porcentaje","visualizar"]),i("div",Js,[$s,i("h1",Xs,n(u.datosMC.mcCreados),1),Ks,i("h1",Zs,n(u.datosMC.mpCreados),1)])]),Ws,i("h1",Ys,[Qs,i("span",ao,n(u.fechaA),1),eo,i("span",so,n(u.fechaB),1)]),i("div",oo,[i("div",to,[io,i("h1",lo,n(u.datosMC.mcFinalizado),1),no,i("h1",ro,n(u.datosMC.mpFinalizado),1)]),s(h,{texto:"MC Finalizados",color:"#34d399",color2:"#96ffd9",porcentaje:u.datosMC.mcFinalizado>0?Math.round(100/(u.datosMC.mcFinalizado+u.datosMC.mpFinalizado)*u.datosMC.mcFinalizado):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasSolucionados},null,8,["porcentaje","visualizar"]),i("div",co,[(o(),e(c,null,P(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasSolucionados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,P(u.datosMC.mcmpFinalizado,(a=>(o(),U(v,{key:a,seccion:a.seccion,creadas:a.mc+a.mp,finalizadas:a.mc,color1:"#96ffd9",color2:"#34d399",vs:!0,visualizar:u.skeleton.barrasSolucionados,onDblclick:e=>l.$router.push("/mc/"+u.router.params.idDestino+"/seccion/"+a.idSeccion)},null,8,["seccion","creadas","finalizadas","visualizar","onDblclick"])))),128))])]),uo,i("h1",fo,[mo,i("span",xo,n(u.fechaA),1),po,i("span",go,n(u.fechaB),1)]),i("div",ho,[s(y,{nombre:"Más Incidencias Creadas",color:"#00c4fa",menosAmas:!1,destinos:u.datosMC.rankingIncidenciasCreadas,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Más Incidencias Solucionadas",color:"#34d399",menosAmas:!1,destinos:u.datosMC.rankingIncidenciasFinalizada,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Menos Incidencias Acumuladas",color:"#563bff",menosAmas:!0,destinos:u.datosMC.rankingIncidenciasAcumulado,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Menos MC Creados vs MP Creados",color:"#fbbf24",simbolo:"%",menosAmas:!0,destinos:u.datosMC.rankingmcmpCreados,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"])])])])])},es.__scopeId="data-v-d7e2280a";const bo={name:"RankingsUsuarios",props:{visualizar:{type:Boolean,default:!1},key:{type:Number},nombre:{type:String,required:!1},usuarios:{type:Object,required:!1},menosAmas:{type:Boolean,required:!1},color:{type:String,required:!1,default:"#ffeab6"},simbolo:{type:String,required:!1,default:""},posicion:{type:Number,default:1}},setup:()=>({})},vo=()=>{f((a=>({c9d6c396:a.color})))},yo=bo.setup;bo.setup=yo?(a,e)=>(vo(),yo(a,e)):vo;const wo=bo;d("data-v-245934e6");const Mo={key:0,class:"flex flex-col items-start justify-center w-56"},ko=i("div",{class:"text-center w-full mb-2 text-xs uppercase font-bold"},[i("h1",{class:"bg-gray-200 text-transparent rounded-sm"},"xxxxxxxxxxxxxxx")],-1),Co=[l('<div class="w-12" data-v-245934e6><h1 class="bg-gray-200 text-transparent" data-v-245934e6>xxx</h1></div><div class="w-12" data-v-245934e6><h1 class="bg-gray-200 text-transparent" data-v-245934e6>xxx</h1></div><div class="w-12" data-v-245934e6><h1 class="bg-gray-200 text-transparent" data-v-245934e6>xxx</h1></div>',3)],Po={key:1,class:"w-auto flex flex-col items-start justify-center pb-4 md:mb-0"},So={class:"text-center w-full mb-2 text-xs uppercase font-bold"},zo={class:"w-16"},Do={class:"w-44 text-xs md:text-sm uppercase truncate"},Io={class:"w-16"};u(),wo.render=function(a,s,l,r,d,u){return o(),e(c,null,[l.visualizar?(o(),e("div",Mo,[ko,(o(),e(c,null,P(5,(a=>i("div",{key:a,class:"flex flex-row items-center justify-between w-full text-center text-sm rounded p-1 mb-1 bg-gray-200 animate-pulse"},Co))),64))])):t("",!0),!l.visualizar&&l.usuarios.length?(o(),e("div",Po,[i("div",So,[i("h1",null,n(l.nombre),1)]),(o(!0),e(c,null,P(l.usuarios,((a,s)=>(o(),e("div",{key:s,class:x([[a.usuarioActual?"usuarioActual":"bg-base"],"flex flex-row items-center justify-between w-full text-center text-sm rounded p-1 mb-1"])},[i("div",zo,[i("h1",null,n(s+1),1)]),i("div",Do,[i("h1",null,n(a.nombre),1)]),i("div",Io,[i("h1",null,n(a.total)+" "+n(l.simbolo),1)])],2)))),128))])):t("",!0)],64)},wo.__scopeId="data-v-245934e6";const Fo={name:"Trmpmc",components:{Marcadores:ya,GraficoCircularCss:he,GraficoBarrasCss:je,Graficotest:Re,Rankings:Ne,RankingsUsuarios:wo,Iconos:T,GraficoBarrasCssSkeleton:Ye},props:{},setup(){const a=S().state,e=S().dispatch,s=z();D((()=>{f("","","cargar"),x(),p(),g(),h(),b(),v(),y()}));const o=I((()=>a.skeleton)),t=I((()=>a.arrayGrafica)),i=I((()=>a.arraySecciones.sort(((a,e)=>e.solucionados-a.solucionados)))),l=I((()=>a.datosMC)),n=I((()=>a.seccion)),r=m([]),c=m({fechaInicio:"",fechaFin:""}),d=m(""),u=m(""),f=(a,e,s)=>{const o=F(j(new Date,{days:5}),"yyyy-MM-dd"),t=F(new Date,"yyyy-MM-dd");if(!localStorage.getItem("fechas"))return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),c.value.fechaInicio=o,void(c.value.fechaFin=t);if(localStorage.getItem("fechas")){const i=JSON.parse(localStorage.getItem("fechas"));if("cargar"==s&&i.fechaInicio&&i.fechaFin)return c.value.fechaInicio=i.fechaInicio,void(c.value.fechaFin=i.fechaFin);if("actualizar"==s&&i.fechaInicio&&i.fechaFin)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:a,fechaFin:e})),c.value.fechaInicio=a,void(c.value.fechaFin=e);if("cargar"==s||"actualizar"==s)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),c.value.fechaInicio=o,void(c.value.fechaFin=t)}},x=async()=>{d.value=F(new Date(Math.round(c.value.fechaInicio.slice(0,4)),Math.round(c.value.fechaInicio.slice(5,7))-1,Math.round(c.value.fechaInicio.slice(8,10))),"dd MMMM"),u.value=F(new Date(Math.round(c.value.fechaFin.slice(0,4)),Math.round(c.value.fechaFin.slice(5,7))-1,Math.round(c.value.fechaFin.slice(8,10))),"dd MMMM"),a.skeleton.barrasCreadasVSSolucionadas=!0,a.skeleton.marcadores=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:c.value.fechaInicio,fechaFin:c.value.fechaFin,apartado:"ReporteRanking",idSeccion:s.params.idSeccion,accion:"incidenciasSubsecciones"},i=await e("peticion",t);if(i.response){const e=i.data.data;i.data.destino[0]?a.datosMC.destino=i.data.destino[0].destino:a.datosMC.destino="",a.datosMC.creadas=e.global.creadosGlobales,a.datosMC.enProceso=e.global.pendientesGlobales,a.datosMC.finalizado=e.global.solucionadosGlobales,a.datosMC.acumulado=e.global.acumuladoGlobales,a.datosMC.mediaHoras=e.global.mediaHoras.toFixed(2),a.datosMC.ratioCredas=e.global.ratioCredas.toFixed(2),a.datosMC.ratioFinalizadas=e.global.ratioFinalizadas.toFixed(2),a.datosMC.porcentajeSolucionado=e.global.creadosGlobales>0?Math.round(100/e.global.creadosGlobales*e.global.solucionadosGlobales):0,a.arraySecciones=i.data.data.secciones?i.data.data.secciones:[],a.skeleton.barrasCreadasVSSolucionadas=!1,a.skeleton.marcadores=!1}},p=async()=>{a.skeleton.grafica=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:c.value.fechaInicio,fechaFin:c.value.fechaFin,apartado:"ReporteRanking",accion:"graficaIncidenciasSubsecciones",idSeccion:s.params.idSeccion},i=await e("peticion",t);if(i.response){const e=i.data.data;a.arrayGrafica=e.data,a.skeleton.grafica=!1}},g=async()=>{a.skeleton.ranking=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:c.value.fechaInicio,fechaFin:c.value.fechaFin,apartado:"ReporteRanking",accion:"destinosIncidenciasSubsecciones",idSeccion:s.params.idSeccion},i=await e("peticion",t);if(i.response){const e=i.data.data.creados;e&&(e.sort(((a,e)=>e.total-a.total)),a.datosMC.rankingIncidenciasCreadas=e,e.forEach(((e,s)=>{e.idDestino==o&&(a.datosMC.rankingCreadas=s+1)})));const s=i.data.data.solucionados;s&&(s.sort(((a,e)=>e.total-a.total)),a.datosMC.rankingIncidenciasFinalizada=s,s.forEach(((e,s)=>{e.idDestino==o&&(a.datosMC.rankingFinalizado=s+1)})));const t=i.data.data.pendientes;t&&(t.sort(((a,e)=>a.total-e.total)),a.datosMC.rankingIncidenciasAcumulado=t,t.forEach(((e,s)=>{e.idDestino==o&&(a.datosMC.rankingAcumulado=s+1)})));const l=i.data.data.mcmpCreados;l&&(l.sort(((a,e)=>a.total-e.total)),a.datosMC.rankingmcmpCreados=l),a.skeleton.ranking=!1}},h=async()=>{a.skeleton.barrasCreados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:c.value.fechaInicio,fechaFin:c.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMCSubsecciones",status:"TODOS",idSeccion:s.params.idSeccion},i=await e("peticion",t);if(i.response){const e=i.data.data;a.datosMC.mcCreados=e.global.mcGlobal,a.datosMC.mpCreados=e.global.mpGlobal,a.datosMC.mcmpCreados=e.secciones.sort(((a,e)=>e.mc-a.mc)),a.skeleton.barrasCreados=!1}},b=async()=>{a.skeleton.barrasSolucionados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:c.value.fechaInicio,fechaFin:c.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMCSubsecciones",status:"SOLUCIONADO",idSeccion:s.params.idSeccion},i=await e("peticion",t);if(i.response){const e=i.data.data;a.datosMC.mcFinalizado=e.global.mcGlobal,a.datosMC.mpFinalizado=e.global.mpGlobal,a.datosMC.mcmpFinalizado=e.secciones.sort(((a,e)=>e.mc-a.mc)),a.skeleton.barrasSolucionados=!1}},v=async()=>{a.skeleton.rankingUsuarios=!0;let o=0;a.datosMC.creadosUsuarios=[],a.datosMC.solucionadosUsuarios=[],a.datosMC.acumuladosUsuarios=[],0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:c.value.fechaInicio,fechaFin:c.value.fechaFin,apartado:"ReporteRanking",accion:"incidenciasUsuarios",idSeccion:s.params.idSeccion},i=await e("peticion",t);if(i.response){i.data.data.forEach((e=>{e.incidenciasCreadas>0&&a.datosMC.creadosUsuarios.push({idUsuario:e.idUsuario,nombre:e.nombre+" "+e.apellido,total:e.incidenciasCreadas,usuarioActual:!(!localStorage.getItem("usuario")||localStorage.getItem("usuario")!=e.idUsuario)}),e.incidenciasSolucionadas>0&&a.datosMC.solucionadosUsuarios.push({idUsuario:e.idUsuario,nombre:e.nombre+" "+e.apellido,total:e.incidenciasSolucionadas,usuarioActual:!(!localStorage.getItem("usuario")||localStorage.getItem("usuario")!=e.idUsuario)}),e.incidenciasPendientes>0&&a.datosMC.acumuladosUsuarios.push({idUsuario:e.idUsuario,nombre:e.nombre+" "+e.apellido,total:e.incidenciasPendientes,usuarioActual:!(!localStorage.getItem("usuario")||localStorage.getItem("usuario")!=e.idUsuario)})})),a.datosMC.acumuladosUsuarios.sort(((a,e)=>e.total-a.total)),a.datosMC.creadosUsuarios.sort(((a,e)=>e.total-a.total)),a.datosMC.solucionadosUsuarios.sort(((a,e)=>e.total-a.total)),a.skeleton.rankingUsuarios=!1}i.response||(a.skeleton.rankingUsuarios=!1)},y=async()=>{let o=0;a.datosMC.creadosUsuarios=[],a.datosMC.solucionadosUsuarios=[],a.datosMC.acumuladosUsuarios=[],0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,apartado:"ReporteRanking",accion:"detalleSeccion",idSeccion:s.params.idSeccion},i=await e("peticion",t);if(i.response){const e=i.data.data[0];a.seccion=e.seccion}};return{fechas:c,fechaA:d,fechaB:u,datosMC:l,skeleton:o,aplicar:x,graficar:p,mcmpCreados:h,mcmpFinalizados:b,rankingGlobal:g,incidenciasUsuarios:v,arrayGrafica:t,arraySecciones:i,arrayRankingCreadas:r,seccion:n,comprobarFechas:f}}};d("data-v-d3052a36");const jo={class:"p-2 md:p-6"},Ao={class:"text-2xl font-semibold text-gray-700 pb-4 text-center uppercase"},Go=r(" TR Incidencias "),Uo={class:"font-bold"},Ro={class:"w-full flex flex-row items-center justify-center"},qo={class:"bg-white flex items-center justify-start rounded-xl"},Bo={class:"p-3"},Eo=i("h1",{class:"text-xxs font-semibold"},"Día Inicial",-1),Oo={class:"p-3"},No=i("h1",{class:"text-xxs font-semibold"},"Día Final",-1),To={class:"p-3"},Vo={class:"w-full my-4 flex flex-col items-center justify-start"},Ho={class:"flex flex-col items-center justify-start w-full md:w-7/12 bg-white shadow-sm mt-4 flex-wrap rounded-lg pb-10"},Lo={class:"mt-4 text-gray-700 font-semibold text-2xl uppercase leading-none"},_o={class:"text-gray-500 text-xxs leading-none"},Jo=r(" Del "),$o={class:"font-bold"},Xo=r(" al "),Ko={class:"font-bold"},Zo={key:0,class:"w-full h-80 p-6"},Wo=[i("div",{class:"bg-gray-200 animate-pulse w-full h-full rounded-lg"},null,-1)],Yo={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},Qo={class:"text-gray-500 text-xxs leading-none mb-4"},at=r(" Del "),et={class:"font-bold"},st=r(" al "),ot={class:"font-bold"},tt={class:"w-full flex flex-row items-center justify-around flex-wrap"},it={class:"flex flex-col font-bold"},lt=i("h2",{class:"text-sm text-left leading-none creadas mb-1"},"Creadas",-1),nt={class:"text-4xl text-left leading-none mb-3 text-gray-700"},rt=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," Solucionadas ",-1),ct={class:"text-3xl text-left leading-none mb-3 text-gray-700"},dt=i("h2",{class:"text-sm text-left leading-none acumulado mb-1"}," Acumulado ",-1),ut={class:"text-2xl text-left leading-none mb-3 text-gray-700"},ft={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible px-16"},mt={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},xt={class:"text-gray-500 text-xxs leading-none mb-4"},pt=r(" Del "),gt={class:"font-bold"},ht=r(" al "),bt={class:"font-bold"},vt={class:"w-full flex flex-row items-center justify-around flex-wrap"},yt={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible px-16"},wt={class:"flex flex-col font-bold"},Mt=i("h2",{class:"text-sm text-right leading-none creadas mb-1"}," MC Creados ",-1),kt={class:"text-4xl text-right leading-none mb-3 text-gray-700"},Ct=i("h2",{class:"text-sm text-right leading-none mp2 mb-1"},"MP Creadas",-1),Pt={class:"text-4xl text-right leading-none mb-3 text-gray-700"},St={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},zt={class:"text-gray-500 text-xxs leading-none mb-4"},Dt=r(" Del "),It={class:"font-bold"},Ft=r(" al "),jt={class:"font-bold"},At={class:"w-full flex flex-row items-center justify-around flex-wrap"},Gt={class:"flex flex-col font-bold"},Ut=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," MC Finalizados ",-1),Rt={class:"text-4xl text-left leading-none mb-3 text-gray-700"},qt=i("h2",{class:"text-sm text-left leading-none mp1 mb-1"}," MP Finalizados ",-1),Bt={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Et={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible px-16"},Ot={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},Nt={class:"text-gray-500 text-xxs leading-none mb-4"},Tt=r(" Del "),Vt={class:"font-bold"},Ht=r(" al "),Lt={class:"font-bold"},_t={class:"w-full flex flex-wrap flex-row items-center justify-around px-8 pt-6"},Jt={class:"mt-8 text-gray-700 font-semibold text-xl uppercase"},$t={class:"text-gray-500 text-xxs leading-none mb-4"},Xt=r(" Del "),Kt={class:"font-bold"},Zt=r(" al "),Wt={class:"font-bold"},Yt={class:"w-full flex flex-wrap flex-row items-start justify-around px-8 pt-6"};u(),Fo.render=function(l,r,d,u,f,m){const x=a("Iconos"),p=a("Marcadores"),g=a("Graficotest"),h=a("GraficoCircularCss"),b=a("GraficoBarrasCssSkeleton"),v=a("GraficoBarrasCss"),y=a("Rankings"),w=a("RankingsUsuarios");return o(),e("div",jo,[i("h1",Ao,[Go,i("span",Uo,n(u.datosMC.destino)+" "+n(u.seccion),1)]),i("div",Ro,[i("div",qo,[i("div",Bo,[Eo,A(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[0]||(r[0]=a=>u.fechas.fechaInicio=a),onChange:r[1]||(r[1]=a=>u.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[G,u.fechas.fechaInicio]])]),s(x,{icono:"arrow-right",class:"w-4"}),i("div",Oo,[No,A(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[2]||(r[2]=a=>u.fechas.fechaFin=a),onChange:r[3]||(r[3]=a=>u.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[G,u.fechas.fechaFin]])]),i("div",To,[i("button",{class:"bg-purple-50 text-purple-500 py-1 px-2 rounded-lg text-sm border border-purple-400",onClick:r[4]||(r[4]=a=>{u.aplicar(),u.graficar(),u.rankingGlobal(),u.mcmpCreados(),u.mcmpFinalizados(),u.incidenciasUsuarios()})}," Aplicar ")])])]),i("div",Vo,[s(p,{creadas:u.datosMC.creadas,proceso:u.datosMC.enProceso,finalizado:u.datosMC.finalizado,acumulado:u.datosMC.acumulado,ranproceso:u.datosMC.rankingCreadas,ranacumulado:u.datosMC.rankingAcumulado,ranfinalizado:u.datosMC.rankingFinalizado,ratioCredas:u.datosMC.ratioCredas,ratioFinalizadas:u.datosMC.ratioFinalizadas,mediaHoras:u.datosMC.mediaHoras,visualizar:u.skeleton.marcadores},null,8,["creadas","proceso","finalizado","acumulado","ranproceso","ranacumulado","ranfinalizado","ratioCredas","ratioFinalizadas","mediaHoras","visualizar"]),i("div",Ho,[i("h1",Lo," Incidencias "+n(u.seccion),1),i("h1",_o,[Jo,i("span",$o,n(u.fechaA),1),Xo,i("span",Ko,n(u.fechaB),1)]),u.skeleton.grafica?(o(),e("div",Zo,Wo)):t("",!0),u.skeleton.grafica?t("",!0):(o(),U(g,{key:1,class:"mt-4 rounded-lg shadow-sm",arrayGrafica:u.arrayGrafica},null,8,["arrayGrafica"])),i("h1",Yo," Solucionadas VS Creadas "+n(u.seccion),1),i("h1",Qo,[at,i("span",et,n(u.fechaA),1),st,i("span",ot,n(u.fechaB),1)]),i("div",tt,[i("div",it,[lt,i("h1",nt,n(u.datosMC.creadas),1),rt,i("h1",ct,n(u.datosMC.finalizado),1),dt,i("h1",ut,n(u.datosMC.enProceso),1)]),s(h,{texto:"Finalizado",color:"#34d399",porcentaje:u.datosMC.porcentajeSolucionado,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["porcentaje","visualizar"]),i("div",ft,[(o(),e(c,null,P(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["visualizar"]))),64)),(o(!0),e(c,null,P(u.arraySecciones,(a=>(o(),U(v,{key:a,seccion:a.subseccion,creadas:a.creados,finalizadas:a.solucionados,color1:"#edf2f7",color2:"#34d399",vs:!1,visualizar:u.skeleton.barrasCreadasVSSolucionadas,rotarTexto:!0},null,8,["seccion","creadas","finalizadas","visualizar"])))),128))])]),i("h1",mt," Incidencias creadas vs Preventivos creados "+n(u.seccion),1),i("h1",xt,[pt,i("span",gt,n(u.fechaA),1),ht,i("span",bt,n(u.fechaB),1)]),i("div",vt,[i("div",yt,[(o(),e(c,null,P(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,P(u.datosMC.mcmpCreados,(a=>(o(),U(v,{key:a,seccion:a.subseccion,creadas:a.mp+a.mc,finalizadas:a.mc,color1:"#86e5ff",color2:"#00c4fa",vs:!0,visualizar:u.skeleton.barrasCreados,rotarTexto:!0},null,8,["seccion","creadas","finalizadas","visualizar"])))),128))]),s(h,{texto:"MC CREADOS",color:"#00c4fa",color2:"#86e5ff",porcentaje:u.datosMC.mcCreados>0?Math.round(100/(u.datosMC.mcCreados+u.datosMC.mpCreados)*u.datosMC.mcCreados):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreados},null,8,["porcentaje","visualizar"]),i("div",wt,[Mt,i("h1",kt,n(u.datosMC.mcCreados),1),Ct,i("h1",Pt,n(u.datosMC.mpCreados),1)])]),i("h1",St," Incidencias solucionadas vs Preventivos solucionados "+n(u.seccion),1),i("h1",zt,[Dt,i("span",It,n(u.fechaA),1),Ft,i("span",jt,n(u.fechaB),1)]),i("div",At,[i("div",Gt,[Ut,i("h1",Rt,n(u.datosMC.mcFinalizado),1),qt,i("h1",Bt,n(u.datosMC.mpFinalizado),1)]),s(h,{texto:"MC Finalizados",color:"#34d399",color2:"#96ffd9",porcentaje:u.datosMC.mcFinalizado>0?Math.round(100/(u.datosMC.mcFinalizado+u.datosMC.mpFinalizado)*u.datosMC.mcFinalizado):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasSolucionados},null,8,["porcentaje","visualizar"]),i("div",Et,[(o(),e(c,null,P(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasSolucionados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,P(u.datosMC.mcmpFinalizado,(a=>(o(),U(v,{key:a,seccion:a.subseccion,creadas:a.mc+a.mp,finalizadas:a.mc,color1:"#96ffd9",color2:"#34d399",vs:!0,visualizar:u.skeleton.barrasSolucionados,rotarTexto:!0},null,8,["seccion","creadas","finalizadas","visualizar"])))),128))])]),i("h1",Ot," Rankings américa "+n(u.seccion),1),i("h1",Nt,[Tt,i("span",Vt,n(u.fechaA),1),Ht,i("span",Lt,n(u.fechaB),1)]),i("div",_t,[s(y,{nombre:"Más Incidencias Creadas",color:"#00c4fa",menosAmas:!1,destinos:u.datosMC.rankingIncidenciasCreadas,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Más Incidencias Solucionadas",color:"#34d399",menosAmas:!1,destinos:u.datosMC.rankingIncidenciasFinalizada,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Menos Incidencias Acumuladas",color:"#563bff",menosAmas:!0,destinos:u.datosMC.rankingIncidenciasAcumulado,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Menos MC Creados vs MP Creados",color:"#fbbf24",simbolo:"%",menosAmas:!0,destinos:u.datosMC.rankingmcmpCreados,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"])]),i("h1",Jt," Rankings Usuarios "+n(u.seccion),1),i("h1",$t,[Xt,i("span",Kt,n(u.fechaA),1),Zt,i("span",Wt,n(u.fechaB),1)]),i("div",Yt,[s(w,{nombre:"Creados por Usuarios",color:"#00c4fa",simbolo:"",menosAmas:!0,usuarios:u.datosMC.creadosUsuarios,visualizar:u.skeleton.rankingUsuarios},null,8,["usuarios","visualizar"]),s(w,{nombre:"Solucionados por Usuarios",color:"#34d399",simbolo:"",menosAmas:!0,usuarios:u.datosMC.solucionadosUsuarios,visualizar:u.skeleton.rankingUsuarios},null,8,["usuarios","visualizar"]),s(w,{nombre:"Acumulados por Usuarios",color:"#34d399",simbolo:"",menosAmas:!0,usuarios:u.datosMC.acumuladosUsuarios,visualizar:u.skeleton.rankingUsuarios},null,8,["usuarios","visualizar"])])])])])},Fo.__scopeId="data-v-d3052a36";const Qt={components:{Iconos:T},props:{creadas:{type:Number,required:!0,default:0},ranproceso:{type:Number,required:!0,default:0},ranfinalizado:{type:Number,required:!0,default:0},proceso:{type:Number,required:!0,default:0},finalizado:{type:Number,required:!0,default:0},acumulado:{type:Number,required:!0,default:0},ranacumulado:{type:Number,required:!0,default:0},mediaHoras:{type:[String,Number],required:!0,default:0},ratioCredas:{type:[String,Number],required:!0,default:0},ratioFinalizadas:{type:[String,Number],required:!0,default:0},visible:{type:Boolean,required:!0}},setup:()=>({})},ai={key:0,class:"animate-pulse py-4 flex flex-row flex-wrap items-center justify-evenly rounded-lg bg-white px-2 divide-x divide-gris-30 w-full md:w-7/12"},ei=[l('<div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div>',7)],si={key:1,class:"flex flex-row flex-wrap items-center justify-evenly rounded-lg bg-white px-2 divide-x divide-gris-30 w-full md:w-7/12"},oi={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},ti={class:"w-7 h-7 bg-blue-100 text-blue-400 rounded-full flex items-center justify-center"},ii={class:"text-3xl font-semibold"},li=i("h2",{class:"text-sm text-gray-500"},"OT Creadas",-1),ni={class:"text-xxs leading-snug text-gray-500"},ri=r(" Ratio "),ci={class:"font-bold"},di={class:"text-xxs leading-snug text-gray-500"},ui=r(" Media t. "),fi={class:"font-bold"},mi={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},xi={class:"w-7 h-7 bg-yellow-100 text-yellow-400 rounded-full flex items-center justify-center"},pi={class:"text-3xl font-semibold"},gi=i("h2",{class:"text-sm text-gray-500"},"OT En proceso",-1),hi={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},bi={class:"w-7 h-7 bg-green-100 text-green-400 rounded-full flex items-center justify-center"},vi={class:"text-3xl font-semibold"},yi=i("h2",{class:"text-sm text-gray-500"},"OT Finalizadas",-1),wi={class:"text-xxs leading-snug text-gray-500"},Mi=r(" Ratio "),ki={class:"font-bold"},Ci={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},Pi={class:"w-7 h-7 bg-purple-100 text-purple-400 rounded-full flex items-center justify-center"},Si={class:"text-3xl font-semibold"},zi=i("h2",{class:"text-sm text-gray-500"},"OT Acumuladas",-1),Di=i("h2",{class:"text-xxs leading-none text-gray-500"},[r(" del "),i("span",{class:"font-bold"},"1 ENE 2021"),r(" a la fecha ")],-1),Ii={class:"w-36 h-36 flex flex-col items-center justify-center px-2"},Fi={class:"w-16 h-16 rounded-full ring ring-yellow-100 bg-yellow-400 border-4 mb-2 border-yellow-200 flex flex-col items-center justify-center"},ji={class:"text-2xl leading-none text-white font-semibold"},Ai=i("span",{class:"text-sm"},"/8",-1),Gi=i("h2",{class:"text-xxs text-gray-500"},"Ranking America",-1),Ui=i("h2",{class:"text-xxs leading-none uppercase text-gray-500 font-bold"}," OT MP Creadas ",-1),Ri={class:"w-36 h-36 flex flex-col items-center justify-center px-2"},qi={class:"w-16 h-16 rounded-full ring ring-green-100 bg-green-400 border-4 mb-2 border-green-200 flex flex-col items-center justify-center"},Bi={class:"text-2xl leading-none text-white font-semibold"},Ei=i("span",{class:"text-sm"},"/8",-1),Oi=i("h2",{class:"text-xxs text-gray-500"},"Ranking America",-1),Ni=i("h2",{class:"text-xxs leading-none uppercase text-gray-500 font-bold"}," OT MP Finalizadas ",-1),Ti={class:"w-36 h-36 flex flex-col items-center justify-center px-2"},Vi={class:"w-16 h-16 rounded-full ring ring-purple-100 bg-purple-400 border-4 mb-2 border-purple-200 flex flex-col items-center justify-center"},Hi={class:"text-2xl leading-none text-white font-semibold"},Li=i("span",{class:"text-sm"},"/8",-1),_i=i("h2",{class:"text-xxs text-gray-500"},"Ranking America",-1),Ji=i("h2",{class:"text-xxs leading-none uppercase text-gray-500 font-bold text-center"}," OT MP acumuladas ",-1);Qt.render=function(l,d,u,f,m,x){const p=a("iconos");return o(),e(c,null,[u.visible?(o(),e("div",ai,ei)):t("",!0),u.visible?t("",!0):(o(),e("div",si,[i("div",oi,[i("div",ti,[s(p,{icono:"plus",class:"w-4"})]),i("h1",ii,n(u.creadas),1),li,i("h2",ni,[ri,i("span",ci,n(u.ratioCredas),1)]),i("h2",di,[ui,i("span",fi,n(u.mediaHoras)+" H",1)])]),i("div",mi,[i("div",xi,[s(p,{icono:"loader",class:"w-4"})]),i("h1",pi,n(u.proceso),1),gi]),i("div",hi,[i("div",bi,[s(p,{icono:"check-square",class:"w-4"})]),i("h1",vi,n(u.finalizado),1),yi,i("h2",wi,[Mi,i("span",ki,n(u.ratioFinalizadas),1)])]),i("div",Ci,[i("div",Pi,[s(p,{icono:"alert-triangle",class:"w-4"})]),i("h1",Si,n(u.acumulado),1),zi,Di]),i("div",Ii,[i("div",Fi,[i("h1",ji,[r(n(u.ranproceso),1),Ai])]),Gi,Ui]),i("div",Ri,[i("div",qi,[i("h1",Bi,[r(n(u.ranfinalizado),1),Ei])]),Oi,Ni]),i("div",Ti,[i("div",Vi,[i("h1",Hi,[r(n(u.ranacumulado),1),Li])]),_i,Ji])]))],64)};const $i={props:{},setup:()=>({})},Xi={class:"flex flex-col w-full flex-wrap items-center justify-start"},Ki=[l('<div class="w-60 h-8 bg-gray-200 animate-pulse mb-4 mt-6"></div><div class="w-100 h-16 rounded-lg bg-white animate-pulse mb-4 flex flex-row items-center justify-around"><div class="w-1/4 bg-gray-200 animate-pulse h-6"></div><div class="w-1/4 bg-gray-200 animate-pulse h-6"></div><div class="w-1/4 bg-gray-200 animate-pulse h-6"></div></div><div class="flex flex-row items-center justify-around w-full md:w-7/12 bg-white flex-wrap rounded-lg h-32 animate-pulse mb-4"><div class="w-16 h-16 rounded-full bg-gray-200 animate-pulse"></div><div class="w-16 h-16 rounded-full bg-gray-200 animate-pulse"></div><div class="w-16 h-16 rounded-full bg-gray-200 animate-pulse"></div><div class="w-16 h-16 rounded-full bg-gray-200 animate-pulse"></div><div class="w-16 h-16 rounded-full bg-gray-200 animate-pulse"></div><div class="w-16 h-16 rounded-full bg-gray-200 animate-pulse"></div><div class="w-16 h-16 rounded-full bg-gray-200 animate-pulse"></div></div><div class="flex flex-row p-6 items-center justify-around w-full md:w-7/12 bg-white flex-wrap rounded-lg animate-pulse"><div class="w-60 h-8 bg-gray-200 animate-pulse mb-4"></div><div class="w-full h-44 bg-gray-200 animate-pulse"></div></div>',4)];$i.render=function(a,s,t,i,l,n){return o(),e("div",Xi,Ki)};const Zi={name:"Trmp",components:{MarcadoresMp:Qt,GraficoCircularCss:he,GraficoBarrasCss:je,GraficoBarrasCssSkeleton:Ye,Graficotest:Re,Rankings:Ne,SkeletonTr:$i,Iconos:T},props:{},setup(){const a=S().dispatch,e=S().state,s=z();D((()=>{c("","","cargar"),d(),u(),f(),x(),p(),g(),h()}));const o=I((()=>e.skeleton)),t=I((()=>e.datosMP)),i=I((()=>e.arrayGrafica)),l=m({fechaInicio:"",fechaFin:""}),n=m(""),r=m(""),c=(a,e,s)=>{const o=F(j(new Date,{days:5}),"yyyy-MM-dd"),t=F(new Date,"yyyy-MM-dd");if(!localStorage.getItem("fechas"))return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),l.value.fechaInicio=o,void(l.value.fechaFin=t);if(localStorage.getItem("fechas")){const i=JSON.parse(localStorage.getItem("fechas"));if("cargar"==s&&i.fechaInicio&&i.fechaFin)return l.value.fechaInicio=i.fechaInicio,void(l.value.fechaFin=i.fechaFin);if("actualizar"==s&&i.fechaInicio&&i.fechaFin)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:a,fechaFin:e})),l.value.fechaInicio=a,void(l.value.fechaFin=e);if("cargar"==s||"actualizar"==s)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),l.value.fechaInicio=o,void(l.value.fechaFin=t)}},d=async()=>{n.value=F(new Date(Math.round(l.value.fechaInicio.slice(0,4)),Math.round(l.value.fechaInicio.slice(5,7))-1,Math.round(l.value.fechaInicio.slice(8,10))),"dd MMMM"),r.value=F(new Date(Math.round(l.value.fechaFin.slice(0,4)),Math.round(l.value.fechaFin.slice(5,7))-1,Math.round(l.value.fechaFin.slice(8,10))),"dd MMMM"),e.skeleton.marcadores=!0,e.skeleton.barrasCreadasVSSolucionadas=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:l.value.fechaInicio,fechaFin:l.value.fechaFin,apartado:"ReporteRanking",accion:"mpSecciones"},i=await a("peticion",t);if(i.response){const a=i.data.data;i.data.destino[0]?e.datosMP.destino=i.data.destino[0].destino:e.datosMP.destino="",e.datosMP.totalSemanasPlanificadasGlobal=a.global.totalSemanasPlanificadasGlobal,e.datosMP.creadas=a.global.creadasGlobal,e.datosMP.pendientes=a.global.pendientesGlobal,e.datosMP.finalizados=a.global.solucionadosGlobal,e.datosMP.acumulado=a.global.acumuladoGlobal,e.datosMP.planificados=a.global.planificadoGlobal,e.datosMP.mediaHoras=a.global.mediaHoras.toFixed(2),e.datosMP.ratioCredas=a.global.ratioCredas.toFixed(2),e.datosMP.ratioFinalizadas=a.global.ratioFinalizadas.toFixed(2),e.datosMP.planificadoVSfinalizado=a.secciones.sort(((a,e)=>e.planificado-a.planificado)),e.datosMP.finalizadosPrevio=0,a.secciones.forEach((a=>{const s=a.solucionados-a.planificado;s>0&&(e.datosMP.finalizadosPrevio=s+e.datosMP.finalizadosPrevio)})),e.skeleton.marcadores=!1,e.skeleton.barrasCreadasVSSolucionadas=!1}},u=async()=>{e.skeleton.grafica=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:l.value.fechaInicio,fechaFin:l.value.fechaFin,apartado:"ReporteRanking",accion:"mpGrafica"},i=await a("peticion",t);if(i.response){const a=i.data.data;e.arrayGrafica=a,e.skeleton.grafica=!1}},f=async()=>{e.skeleton.barrasPlanificacionAnual=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:`${R(new Date)}-01-01`,fechaFin:`${R(new Date)}-12-31`,apartado:"ReporteRanking",accion:"mpPlaneaciones"},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.totalPlanificaciones=a.totalPlanificacionesGlobal,e.datosMP.totalConPlanificacionCompleta=a.totalPlanificadosCompletosGlobal,e.datosMP.totalConPlanificacionIncompleta=a.totalPlanificadosIncompletosGlobal,e.datosMP.totalSinPlanificacion=a.totalSinPlanificacionesGlobal,e.datosMP.totalPlanifiaciones=a.totalPlanificacionesGlobal,e.datosMP.planeacionesSecciones=a.planeacionesSecciones.sort(((a,e)=>e.totalPlanificaciones-a.totalPlanificaciones)),e.skeleton.barrasPlanificacionAnual=!1}},x=async()=>{let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:`${R(new Date)}-01-01`,fechaFin:`${R(new Date)}-12-31`,apartado:"ReporteRanking",accion:"mpPlanificacionesEquipos"},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.totalEquipos=a.totalEquipos,e.datosMP.totalEquiposConPlanificacion=a.totalEquiposConPlanificacion,e.datosMP.totalEquiposSinPlanificacion=a.totalEquiposSinPlanificacion,a.totalEquipos>0&&(e.datosMP.totalEquiposPlanCompleto=(100/a.totalEquipos*a.totalEquiposPlanCompleto).toFixed(1))}},p=async()=>{e.skeleton.barrasCreados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:l.value.fechaInicio,fechaFin:l.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMC",status:"TODOS"},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.mcCreados=a.global.mcGlobal,e.datosMP.mpCreados=a.global.mpGlobal,e.datosMP.mcmpCreados=a.secciones.sort(((a,e)=>e.mp-a.mp)),e.skeleton.barrasCreados=!1}},g=async()=>{e.skeleton.barrasSolucionados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:l.value.fechaInicio,fechaFin:l.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMC",status:"SOLUCIONADO"},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.mcFinalizado=a.global.mcGlobal,e.datosMP.mpFinalizado=a.global.mpGlobal,e.datosMP.mcmpFinalizados=a.secciones.sort(((a,e)=>e.mp-a.mp)),e.skeleton.barrasSolucionados=!1}},h=async()=>{e.skeleton.ranking=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:l.value.fechaInicio,fechaFin:l.value.fechaFin,apartado:"ReporteRanking",accion:"rankingMP"},i=await a("peticion",t);if(i.response){const a=i.data.data.creados;a&&(a.sort(((a,e)=>e.total-a.total)),e.datosMP.rankingMPCreadas=a,a.forEach(((a,s)=>{a.idDestino==o&&(e.datosMP.rankingCreadas=s+1)})));const s=i.data.data.solucionados;s&&(s.sort(((a,e)=>e.total-a.total)),e.datosMP.rankingMPFinalizada=s,s.forEach(((a,s)=>{a.idDestino==o&&(e.datosMP.rankingFinalizado=s+1)})));const t=i.data.data.pendientes;t&&(t.sort(((a,e)=>a.total-e.total)),e.datosMP.rankingMPAcumulado=t,t.forEach(((a,s)=>{a.idDestino==o&&(e.datosMP.rankingAcumulado=s+1)})));const l=i.data.data.mpmcCreados;l&&(l.sort(((a,e)=>a.total-e.total)),e.datosMP.rankingmcmpCreados=l),e.skeleton.ranking=!1}};return{aplicar:d,graficar:u,arrayGrafica:i,planificacionAnual:f,planificacionAnualEquipos:x,skeleton:o,datosMP:t,fechas:l,fechaA:n,fechaB:r,mcmpCreados:p,mcmpFinalizados:g,rankingGlobal:h,router:s,comprobarFechas:c}}};d("data-v-481ca02d");const Wi={class:"p-2 md:p-6"},Yi={class:"text-2xl font-semibold text-gray-700 pb-4 text-center uppercase"},Qi=r(" TR Preventivo "),al={class:"font-bold"},el={class:"w-full flex flex-row items-center justify-center"},sl={class:"bg-white flex items-center justify-start rounded-xl"},ol={class:"p-3"},tl=i("h1",{class:"text-xxs font-semibold"},"Día Inicial",-1),il={class:"p-3"},ll=i("h1",{class:"text-xxs font-semibold"},"Día Final",-1),nl={class:"p-3"},rl={class:"w-full my-4 flex flex-col items-center justify-start"},cl={class:"flex flex-col items-center justify-start w-full md:w-7/12 bg-white shadow-sm mt-4 flex-wrap rounded-lg pb-10"},dl=i("h1",{class:"mt-4 text-gray-700 font-semibold text-2xl uppercase leading-none"}," Preventivos ",-1),ul={class:"text-gray-500 text-xxs leading-none"},fl=r(" Del "),ml={class:"font-bold"},xl=r(" al "),pl={class:"font-bold"},gl={key:0,class:"w-full h-80 p-6"},hl=[i("div",{class:"bg-gray-200 animate-pulse w-full h-full rounded-lg"},null,-1)],bl=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," PLANIFICADO VS FINALIZADO ",-1),vl={class:"text-gray-500 text-xxs leading-none mb-4"},yl=r(" Del "),wl={class:"font-bold"},Ml=r(" al "),kl={class:"font-bold"},Cl={class:"w-full flex flex-row flex-wrap items-center justify-around"},Pl={class:"flex flex-col font-bold"},Sl=i("h2",{class:"text-sm text-left leading-none creadas mb-1"}," Planificado ",-1),zl={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Dl=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," Finalizado ",-1),Il={class:"text-3xl text-left leading-none mb-3 text-gray-700"},Fl=i("h2",{class:"text-sm text-left leading-none acumulado mb-1"}," Acumulado ",-1),jl={class:"text-2xl text-left leading-none mb-3 text-gray-700"},Al=i("h2",{class:"text-sm text-left leading-none finalizado"}," Finalizado sin plan previo ",-1),Gl={class:"text-2xl text-left leading-none mb-3 text-gray-700"},Ul={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible"},Rl=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," PLANIFICACION MP ",-1),ql={class:"w-full flex flex-row flex-wrap items-center justify-around pt-8"},Bl={class:"flex flex-col font-bold md:w-1/4 w-1/2 md:mb-0 mb-4 items-center justify-center"},El={class:"text-4xl text-center leading-none text-gray-700"},Ol=i("h2",{class:"text-sm text-center leading-none text-gray-500"}," Total Planificaciones ",-1),Nl={class:"flex flex-col font-bold md:w-1/4 w-1/2 md:mb-0 mb-4 items-center justify-center"},Tl={class:"text-4xl text-center leading-none text-gray-700"},Vl=i("h2",{class:"text-xs text-center leading-none text-gray-500 w-56"}," Con planificacion anual completa ",-1),Hl={class:"text-2xl text-center leading-none text-gray-700 mt-1 flex items-center justify-center"},Ll={class:"flex flex-col font-bold md:w-1/4 w-1/2 md:mb-0 mb-4 items-center justify-center"},_l={class:"text-4xl text-center leading-none text-gray-700"},Jl=i("h2",{class:"text-xs text-center leading-none text-gray-500 w-56"}," Con planificacion anual incompleta ",-1),$l={class:"text-2xl text-center leading-none text-gray-700 mt-1"},Xl={class:"flex flex-col font-bold md:w-1/4 w-1/2 mb-4 md:mb-0 items-center justify-center"},Kl={class:"text-4xl text-center leading-none text-gray-700"},Zl=i("h2",{class:"text-xs text-center leading-none text-gray-500 w-56"}," Sin planificacion ",-1),Wl={class:"text-2xl text-center leading-none text-gray-700 mt-1"},Yl={class:"w-full md:w-auto p-3 flex flex-row items-center justify-around overflow-x-auto md:overflow-x-visible"},Ql=i("div",{class:"hidden lg:flex flex-row items-center mr-4 text-xs font-semibold text-gray-500"},[i("div",{class:"bg-creadas w-4 h-4 rounded mr-2"}),i("h1",{class:"w-32"},"% de Planificacion anual completa.")],-1),an={class:"flex flex-col font-bold"},en=i("h2",{class:"text-sm text-left leading-none text-gray-500 mt-3 mb-1"}," Total Activos ",-1),sn={class:"text-4xl text-left leading-none mb-3 text-gray-700"},on=i("h2",{class:"text-sm text-left leading-none text-red-500 mb-1"}," Activos Sin Planificación ",-1),tn={class:"text-3xl text-left leading-none mb-3 text-gray-700"},ln=i("h2",{class:"text-sm text-left leading-none creadas mb-1"}," Equipos Con Planificación ",-1),nn={class:"text-2xl text-left leading-none mb-3 text-gray-700"},rn=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," Equipos Con Plan al 100% ",-1),cn={class:"text-2xl text-left leading-none mb-3 text-gray-700"},dn=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," Preventivo creado vs Incidencias creadas ",-1),un={class:"text-gray-500 text-xxs leading-none mb-4"},fn=r(" Del "),mn={class:"font-bold"},xn=r(" al "),pn={class:"font-bold"},gn={class:"w-full flex flex-row flex-wrap items-center justify-around"},hn={class:"w-full md:w-auto p-3 flex flex-row items-start justify-around overflow-x-auto md:overflow-x-visible"},bn={class:"flex flex-col font-bold"},vn=i("h2",{class:"text-sm text-right leading-none proceso mb-1"}," MP Creados ",-1),yn={class:"text-4xl text-right leading-none mb-3 text-gray-700"},wn=i("h2",{class:"text-sm text-right leading-none proceso2 mb-1"}," MC Creadas ",-1),Mn={class:"text-4xl text-right leading-none mb-3 text-gray-700"},kn=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," Preventivo solucionado vs Incidencias solucionadas ",-1),Cn={class:"text-gray-500 text-xxs leading-none mb-4"},Pn=r(" Del "),Sn={class:"font-bold"},zn=r(" al "),Dn={class:"font-bold"},In={class:"w-full flex flex-row flex-wrap items-center justify-around"},Fn={class:"flex flex-col font-bold"},jn=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," MP Finalizados ",-1),An={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Gn=i("h2",{class:"text-sm text-left leading-none mp1 mb-1"}," MC Finalizados ",-1),Un={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Rn={class:"w-full md:w-auto p-3 flex flex-row items-start justify-around overflow-x-auto md:overflow-x-visible"},qn=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," Rankings américa ",-1),Bn={class:"text-gray-500 text-xxs leading-none mb-4"},En=r(" Del "),On={class:"font-bold"},Nn=r(" al "),Tn={class:"font-bold"},Vn={class:"w-full flex flex-row flex-wrap items-center justify-around px-8 pt-6"};u(),Zi.render=function(l,r,d,u,f,m){const x=a("Iconos"),p=a("MarcadoresMp"),g=a("Graficotest"),h=a("GraficoCircularCss"),b=a("GraficoBarrasCssSkeleton"),v=a("GraficoBarrasCss"),y=a("Rankings");return o(),e("div",Wi,[i("h1",Yi,[Qi,i("span",al,n(u.datosMP.destino),1)]),i("div",el,[i("div",sl,[i("div",ol,[tl,A(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[0]||(r[0]=a=>u.fechas.fechaInicio=a),onChange:r[1]||(r[1]=a=>u.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[G,u.fechas.fechaInicio]])]),s(x,{icono:"arrow-right",class:"w-4"}),i("div",il,[ll,A(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[2]||(r[2]=a=>u.fechas.fechaFin=a),onChange:r[3]||(r[3]=a=>u.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[G,u.fechas.fechaFin]])]),i("div",nl,[i("button",{class:"bg-purple-50 text-purple-500 py-1 px-2 rounded-lg text-sm border border-purple-400",onClick:r[4]||(r[4]=a=>{u.aplicar(),u.graficar(),u.mcmpCreados(),u.mcmpFinalizados(),u.rankingGlobal()})}," Aplicar ")])])]),i("div",rl,[s(p,{creadas:u.datosMP.creadas,proceso:u.datosMP.pendientes,finalizado:u.datosMP.finalizados,acumulado:u.datosMP.acumulado,ranfinalizado:u.datosMP.rankingFinalizado,ranproceso:u.datosMP.rankingCreadas,ranacumulado:u.datosMP.rankingAcumulado,ratioCredas:u.datosMP.ratioCredas,ratioFinalizadas:u.datosMP.ratioFinalizadas,mediaHoras:u.datosMP.mediaHoras,visible:u.skeleton.marcadores},null,8,["creadas","proceso","finalizado","acumulado","ranfinalizado","ranproceso","ranacumulado","ratioCredas","ratioFinalizadas","mediaHoras","visible"]),i("div",cl,[dl,i("h1",ul,[fl,i("span",ml,n(u.fechaA),1),xl,i("span",pl,n(u.fechaB),1)]),u.skeleton.grafica?(o(),e("div",gl,hl)):t("",!0),u.skeleton.grafica?t("",!0):(o(),U(g,{key:1,class:"mt-4 rounded-lg shadow-sm",arrayGrafica:u.arrayGrafica},null,8,["arrayGrafica"])),bl,i("h1",vl,[yl,i("span",wl,n(u.fechaA),1),Ml,i("span",kl,n(u.fechaB),1)]),i("div",Cl,[i("div",Pl,[Sl,i("h1",zl,n(u.datosMP.totalSemanasPlanificadasGlobal),1),Dl,i("h1",Il,n(u.datosMP.finalizados),1),Fl,i("h1",jl,n(u.datosMP.pendientes),1),Al,i("h1",Gl,n(u.datosMP.finalizadosPrevio),1)]),s(h,{texto:"Cumplimiento",color:"#00c4fa",color2:"#acedff",porcentaje:u.datosMP.totalSemanasPlanificadasGlobal>0?Math.round(100/u.datosMP.totalSemanasPlanificadasGlobal*u.datosMP.finalizados):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["porcentaje","visualizar"]),i("div",Ul,[(o(),e(c,null,P(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["visualizar"]))),64)),(o(!0),e(c,null,P(u.datosMP.planificadoVSfinalizado,(a=>(o(),U(v,{key:a,seccion:a.seccion,creadas:a.planificado,finalizadas:a.solucionados,color1:"#acedff",color2:"#34d399",vs:!1,visualizar:u.skeleton.barrasCreadasVSSolucionadas,onDblclick:e=>l.$router.push("/mp/"+u.router.params.idDestino+"/seccion/"+a.idSeccion)},null,8,["seccion","creadas","finalizadas","visualizar","onDblclick"])))),128))])]),Rl,i("div",ql,[i("div",Bl,[i("h1",El,n(u.datosMP.totalPlanificaciones),1),Ol]),i("div",Nl,[i("h1",Tl,n(u.datosMP.totalConPlanificacionCompleta),1),Vl,i("h1",Hl,n(u.datosMP.totalPlanifiaciones>0?(100/u.datosMP.totalPlanifiaciones*u.datosMP.totalConPlanificacionCompleta).toFixed(1):0)+"% ",1)]),i("div",Ll,[i("h1",_l,n(u.datosMP.totalConPlanificacionIncompleta),1),Jl,i("h1",$l,n(u.datosMP.totalPlanifiaciones>0?(100/u.datosMP.totalPlanifiaciones*u.datosMP.totalConPlanificacionIncompleta).toFixed(1):0)+"% ",1)]),i("div",Xl,[i("h1",Kl,n(u.datosMP.totalSinPlanificacion),1),Zl,i("h1",Wl,n(u.datosMP.totalPlanifiaciones>0?(100/u.datosMP.totalPlanifiaciones*u.datosMP.totalSinPlanificacion).toFixed(1):0)+"% ",1)]),i("div",Yl,[Ql,(o(),e(c,null,P(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasPlanificacionAnual},null,8,["visualizar"]))),64)),(o(!0),e(c,null,P(u.datosMP.planeacionesSecciones,(a=>(o(),U(v,{key:a,seccion:a.seccion,creadas:a.totalPlanificaciones,finalizadas:a.totalPlanificadosCompletos,color1:"#edf2f7",color2:"#00c4fa",vs:!1,visualizar:u.skeleton.barrasPlanificacionAnual,onDblclick:e=>l.$router.push("/mp/"+u.router.params.idDestino+"/seccion/"+a.idSeccion)},null,8,["seccion","creadas","finalizadas","visualizar","onDblclick"])))),128))]),i("div",an,[en,i("h1",sn,n(u.datosMP.totalEquipos),1),on,i("h1",tn,n(u.datosMP.totalEquiposSinPlanificacion),1),ln,i("h1",nn,n(u.datosMP.totalEquiposConPlanificacion),1),rn,i("h1",cn,n(u.datosMP.totalEquiposPlanCompleto)+"% ",1)])]),dn,i("h1",un,[fn,i("span",mn,n(u.fechaA),1),xn,i("span",pn,n(u.fechaB),1)]),i("div",gn,[i("div",hn,[(o(),e(c,null,P(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,P(u.datosMP.mcmpCreados,(a=>(o(),U(v,{key:a,seccion:a.seccion,creadas:a.mp+a.mc,finalizadas:a.mp,color1:"#ffe39c",color2:"#fbbf24",vs:!0,visualizar:u.skeleton.barrasCreados,onDblclick:e=>l.$router.push("/mp/"+u.router.params.idDestino+"/seccion/"+a.idSeccion)},null,8,["seccion","creadas","finalizadas","visualizar","onDblclick"])))),128))]),s(h,{texto:"MP CREADOS",color:"#fbbf24",color2:"#ffe39c",porcentaje:u.datosMP.mpCreados>0?Math.round(100/(u.datosMP.mpCreados+u.datosMP.mcCreados)*u.datosMP.mpCreados):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreados},null,8,["porcentaje","visualizar"]),i("div",bn,[vn,i("h1",yn,n(u.datosMP.mpCreados),1),wn,i("h1",Mn,n(u.datosMP.mcCreados),1)])]),kn,i("h1",Cn,[Pn,i("span",Sn,n(u.fechaA),1),zn,i("span",Dn,n(u.fechaB),1)]),i("div",In,[i("div",Fn,[jn,i("h1",An,n(u.datosMP.mpFinalizado),1),Gn,i("h1",Un,n(u.datosMP.mcFinalizado),1)]),s(h,{texto:"MP Finalizados",color:"#34d399",color2:"#96ffd9",porcentaje:u.datosMP.mpFinalizado>0?Math.round(100/(u.datosMP.mpFinalizado+u.datosMP.mcFinalizado)*u.datosMP.mpFinalizado):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasSolucionados},null,8,["porcentaje","visualizar"]),i("div",Rn,[(o(),e(c,null,P(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasSolucionados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,P(u.datosMP.mcmpFinalizados,(a=>(o(),U(v,{key:a,seccion:a.seccion,creadas:a.mc+a.mp,finalizadas:a.mp,color1:"#96ffd9",color2:"#34d399",vs:!0,visualizar:u.skeleton.barrasSolucionados,onDblclick:e=>l.$router.push("/mp/"+u.router.params.idDestino+"/seccion/"+a.idSeccion)},null,8,["seccion","creadas","finalizadas","visualizar","onDblclick"])))),128))])]),qn,i("h1",Bn,[En,i("span",On,n(u.fechaA),1),Nn,i("span",Tn,n(u.fechaB),1)]),i("div",Vn,[s(y,{nombre:"Más OT MP Creadas",color:"#00c4fa",menosAmas:!1,destinos:u.datosMP.rankingMPCreadas,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Más OT MP Solucionadas",color:"#34d399",menosAmas:!1,destinos:u.datosMP.rankingMPFinalizada,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Menos OT MP Acumuladas",color:"#563bff",menosAmas:!0,destinos:u.datosMP.rankingMPAcumulado,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Mas MP vs MC",color:"#fbbf24",simbolo:"%",menosAmas:!1,destinos:u.datosMP.rankingmcmpCreados,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"])])])])])},Zi.__scopeId="data-v-481ca02d";const Hn={name:"TrmpSubsecciones",components:{MarcadoresMp:Qt,GraficoCircularCss:he,GraficoBarrasCss:je,GraficoBarrasCssSkeleton:Ye,Graficotest:Re,Rankings:Ne,RankingsUsuarios:wo,SkeletonTr:$i,Iconos:T},props:{},setup(){const a=S().dispatch,e=S().state,s=z();D((()=>{y("","","cargar"),d(),u(),f(),x(),p(),g(),h(),b(),v()}));const o=I((()=>e.skeleton)),t=I((()=>e.datosMP)),i=I((()=>e.arrayGrafica)),l=I((()=>e.seccion)),n=m({fechaInicio:"",fechaFin:""}),r=m(""),c=m(""),d=async()=>{r.value=F(new Date(Math.round(n.value.fechaInicio.slice(0,4)),Math.round(n.value.fechaInicio.slice(5,7))-1,Math.round(n.value.fechaInicio.slice(8,10))),"dd MMMM"),c.value=F(new Date(Math.round(n.value.fechaFin.slice(0,4)),Math.round(n.value.fechaFin.slice(5,7))-1,Math.round(n.value.fechaFin.slice(8,10))),"dd MMMM"),e.skeleton.marcadores=!0,e.skeleton.barrasCreadasVSSolucionadas=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:n.value.fechaInicio,fechaFin:n.value.fechaFin,apartado:"ReporteRanking",accion:"mpSubsecciones",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data;i.data.destino[0]?e.datosMP.destino=i.data.destino[0].destino:e.datosMP.destino="",e.datosMP.totalSemanasPlanificadasGlobal=a.global.totalSemanasPlanificadasGlobal,e.datosMP.creadas=a.global.creadasGlobal,e.datosMP.pendientes=a.global.pendientesGlobal,e.datosMP.finalizados=a.global.solucionadosGlobal,e.datosMP.acumulado=a.global.acumuladoGlobal,e.datosMP.planificados=a.global.planificadoGlobal,e.datosMP.mediaHoras=a.global.mediaHoras.toFixed(2),e.datosMP.ratioCredas=a.global.ratioCredas.toFixed(2),e.datosMP.ratioFinalizadas=a.global.ratioFinalizadas.toFixed(2),e.datosMP.planificadoVSfinalizado=a.subsecciones.sort(((a,e)=>e.planificado-a.planificado)),e.datosMP.finalizadosPrevio=0,a.subsecciones.forEach((a=>{const s=a.solucionados-a.planificado;s>0&&(e.datosMP.finalizadosPrevio=s+e.datosMP.finalizadosPrevio)})),e.skeleton.marcadores=!1,e.skeleton.barrasCreadasVSSolucionadas=!1}},u=async()=>{e.skeleton.grafica=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:n.value.fechaInicio,fechaFin:n.value.fechaFin,apartado:"ReporteRanking",accion:"mpGraficaSubsecciones",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data;e.arrayGrafica=a,e.skeleton.grafica=!1}},f=async()=>{e.skeleton.barrasPlanificacionAnual=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:`${R(new Date)}-01-01`,fechaFin:`${R(new Date)}-12-31`,apartado:"ReporteRanking",accion:"mpPlaneacionesSubsecciones",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.totalPlanificaciones=a.totalPlanificacionesGlobal,e.datosMP.totalConPlanificacionCompleta=a.totalPlanificadosCompletosGlobal,e.datosMP.totalConPlanificacionIncompleta=a.totalPlanificadosIncompletosGlobal,e.datosMP.totalSinPlanificacion=a.totalSinPlanificacionesGlobal,e.datosMP.totalPlanifiaciones=a.totalPlanificacionesGlobal,e.datosMP.planeacionesSecciones=a.planeacionesSecciones.sort(((a,e)=>e.totalPlanificaciones-a.totalPlanificaciones)),e.skeleton.barrasPlanificacionAnual=!1}},x=async()=>{let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:`${R(new Date)}-01-01`,fechaFin:`${R(new Date)}-12-31`,apartado:"ReporteRanking",accion:"mpPlanificacionesEquiposSubsecciones",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.totalEquipos=a.totalEquipos,e.datosMP.totalEquiposConPlanificacion=a.totalEquiposConPlanificacion,e.datosMP.totalEquiposSinPlanificacion=a.totalEquiposSinPlanificacion,a.totalEquipos>0&&(e.datosMP.totalEquiposPlanCompleto=(100/a.totalEquipos*a.totalEquiposPlanCompleto).toFixed(1))}},p=async()=>{e.skeleton.barrasCreados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:n.value.fechaInicio,fechaFin:n.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMCSubsecciones",status:"TODOS",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.mcCreados=a.global.mcGlobal,e.datosMP.mpCreados=a.global.mpGlobal,e.datosMP.mcmpCreados=a.secciones.sort(((a,e)=>e.mp-a.mp)),e.skeleton.barrasCreados=!1}},g=async()=>{e.skeleton.barrasSolucionados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:n.value.fechaInicio,fechaFin:n.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMCSubsecciones",status:"SOLUCIONADO",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.mcFinalizado=a.global.mcGlobal,e.datosMP.mpFinalizado=a.global.mpGlobal,e.datosMP.mcmpFinalizados=a.secciones.sort(((a,e)=>e.mp-a.mp)),e.skeleton.barrasSolucionados=!1}},h=async()=>{e.skeleton.ranking=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:n.value.fechaInicio,fechaFin:n.value.fechaFin,apartado:"ReporteRanking",accion:"rankingMPSubsecciones",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data.creados;a&&(a.sort(((a,e)=>e.total-a.total)),e.datosMP.rankingMPCreadas=a,a.forEach(((a,s)=>{a.idDestino==o&&(e.datosMP.rankingCreadas=s+1)})));const s=i.data.data.solucionados;s&&(s.sort(((a,e)=>e.total-a.total)),e.datosMP.rankingMPFinalizada=s,s.forEach(((a,s)=>{a.idDestino==o&&(e.datosMP.rankingFinalizado=s+1)})));const t=i.data.data.pendientes;t&&(t.sort(((a,e)=>a.total-e.total)),e.datosMP.rankingMPAcumulado=t,t.forEach(((a,s)=>{a.idDestino==o&&(e.datosMP.rankingAcumulado=s+1)})));const l=i.data.data.mpmcCreados;l&&(l.sort(((a,e)=>a.total-e.total)),e.datosMP.rankingmcmpCreados=l),e.skeleton.ranking=!1}},b=async()=>{e.skeleton.rankingUsuarios=!0;let o=0;e.datosMP.creadosUsuarios=[],e.datosMP.solucionadosUsuarios=[],e.datosMP.acumuladosUsuarios=[],0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:n.value.fechaInicio,fechaFin:n.value.fechaFin,apartado:"ReporteRanking",accion:"preventivosUsuarios",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){i.data.data.forEach((a=>{a.preventivosCreados>0&&e.datosMP.creadosUsuarios.push({idUsuario:a.idUsuario,nombre:a.nombre+" "+a.apellido,total:a.preventivosCreados,usuarioActual:!(!localStorage.getItem("usuario")||localStorage.getItem("usuario")!=a.idUsuario)}),a.preventivosSolucionados>0&&e.datosMP.solucionadosUsuarios.push({idUsuario:a.idUsuario,nombre:a.nombre+" "+a.apellido,total:a.preventivosSolucionados,usuarioActual:!(!localStorage.getItem("usuario")||localStorage.getItem("usuario")!=a.idUsuario)}),a.preventivosPendientes>0&&e.datosMP.acumuladosUsuarios.push({idUsuario:a.idUsuario,nombre:a.nombre+" "+a.apellido,total:a.preventivosPendientes,usuarioActual:!(!localStorage.getItem("usuario")||localStorage.getItem("usuario")!=a.idUsuario)})})),e.datosMP.acumuladosUsuarios.sort(((a,e)=>e.total-a.total)),e.datosMP.creadosUsuarios.sort(((a,e)=>e.total-a.total)),e.datosMP.solucionadosUsuarios.sort(((a,e)=>e.total-a.total)),e.skeleton.rankingUsuarios=!1}i.response||(e.skeleton.rankingUsuarios=!1)},v=async()=>{let o=0;e.datosMC.creadosUsuarios=[],e.datosMC.solucionadosUsuarios=[],e.datosMC.acumuladosUsuarios=[],0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,apartado:"ReporteRanking",accion:"detalleSeccion",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data[0];e.seccion=a.seccion}},y=(a,e,s)=>{const o=F(j(new Date,{days:5}),"yyyy-MM-dd"),t=F(new Date,"yyyy-MM-dd");if(!localStorage.getItem("fechas"))return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),n.value.fechaInicio=o,void(n.value.fechaFin=t);if(localStorage.getItem("fechas")){const i=JSON.parse(localStorage.getItem("fechas"));if("cargar"==s&&i.fechaInicio&&i.fechaFin)return n.value.fechaInicio=i.fechaInicio,void(n.value.fechaFin=i.fechaFin);if("actualizar"==s&&i.fechaInicio&&i.fechaFin)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:a,fechaFin:e})),n.value.fechaInicio=a,void(n.value.fechaFin=e);if("cargar"==s||"actualizar"==s)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),n.value.fechaInicio=o,void(n.value.fechaFin=t)}};return{aplicar:d,graficar:u,arrayGrafica:i,planificacionAnual:f,planificacionAnualEquipos:x,skeleton:o,datosMP:t,fechas:n,fechaA:r,fechaB:c,mcmpCreados:p,mcmpFinalizados:g,rankingGlobal:h,preventivosUsuarios:b,router:s,seccion:l}}};d("data-v-22a958ee");const Ln={class:"p-2 md:p-6"},_n={class:"text-2xl font-semibold text-gray-700 pb-4 text-center uppercase"},Jn=r(" TR Preventivo "),$n={class:"font-bold"},Xn={class:"w-full flex flex-row items-center justify-center"},Kn={class:"bg-white flex items-center justify-start rounded-xl"},Zn={class:"p-3"},Wn=i("h1",{class:"text-xxs font-semibold"},"Día Inicial",-1),Yn={class:"p-3"},Qn=i("h1",{class:"text-xxs font-semibold"},"Día Final",-1),ar={class:"p-3"},er={class:"w-full my-4 flex flex-col items-center justify-start"},sr={class:"flex flex-col items-center justify-start w-full md:w-7/12 bg-white shadow-sm mt-4 flex-wrap rounded-lg pb-10"},or={class:"mt-4 text-gray-700 font-semibold text-2xl uppercase leading-none"},tr={class:"text-gray-500 text-xxs leading-none"},ir=r(" Del "),lr={class:"font-bold"},nr=r(" al "),rr={class:"font-bold"},cr={key:0,class:"w-full h-80 p-6"},dr=[i("div",{class:"bg-gray-200 animate-pulse w-full h-full rounded-lg"},null,-1)],ur={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},fr={class:"text-gray-500 text-xxs leading-none mb-4"},mr=r(" Del "),xr={class:"font-bold"},pr=r(" al "),gr={class:"font-bold"},hr={class:"w-full flex flex-row flex-wrap items-center justify-around"},br={class:"flex flex-col font-bold"},vr=i("h2",{class:"text-sm text-left leading-none creadas mb-1"}," Planificado ",-1),yr={class:"text-4xl text-left leading-none mb-3 text-gray-700"},wr=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," Finalizado ",-1),Mr={class:"text-3xl text-left leading-none mb-3 text-gray-700"},kr=i("h2",{class:"text-sm text-left leading-none acumulado mb-1"}," Acumulado ",-1),Cr={class:"text-2xl text-left leading-none mb-3 text-gray-700"},Pr=i("h2",{class:"text-sm text-left leading-none finalizado"}," Finalizado sin plan previo ",-1),Sr={class:"text-2xl text-left leading-none mb-3 text-gray-700"},zr={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible px-16"},Dr={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},Ir={class:"w-full flex flex-row flex-wrap items-center justify-around pt-8"},Fr={class:"flex flex-col font-bold md:w-1/4 w-1/2 md:mb-0 mb-4 items-center justify-center"},jr={class:"text-4xl text-center leading-none text-gray-700"},Ar=i("h2",{class:"text-sm text-center leading-none text-gray-500"}," Total Planificaciones ",-1),Gr={class:"flex flex-col font-bold md:w-1/4 w-1/2 md:mb-0 mb-4 items-center justify-center"},Ur={class:"text-4xl text-center leading-none text-gray-700"},Rr=i("h2",{class:"text-xs text-center leading-none text-gray-500 w-56"}," Con planificacion anual completa ",-1),qr={class:"text-2xl text-center leading-none text-gray-700 mt-1 flex items-center justify-center"},Br={class:"flex flex-col font-bold md:w-1/4 w-1/2 md:mb-0 mb-4 items-center justify-center"},Er={class:"text-4xl text-center leading-none text-gray-700"},Or=i("h2",{class:"text-xs text-center leading-none text-gray-500 w-56"}," Con planificacion anual incompleta ",-1),Nr={class:"text-2xl text-center leading-none text-gray-700 mt-1"},Tr={class:"flex flex-col font-bold md:w-1/4 w-1/2 mb-4 md:mb-0 items-center justify-center"},Vr={class:"text-4xl text-center leading-none text-gray-700"},Hr=i("h2",{class:"text-xs text-center leading-none text-gray-500 w-56"}," Sin planificacion ",-1),Lr={class:"text-2xl text-center leading-none text-gray-700 mt-1"},_r={class:"w-full md:w-auto p-3 flex flex-row items-center justify-around overflow-x-auto md:overflow-x-visible"},Jr=i("div",{class:"hidden lg:flex flex-row items-center mr-4 text-xs font-semibold text-gray-500"},[i("div",{class:"bg-creadas w-4 h-4 rounded mr-2"}),i("h1",{class:"w-32"},"% de Planificacion anual completa.")],-1),$r={class:"flex flex-col font-bold"},Xr=i("h2",{class:"text-sm text-left leading-none text-gray-500 mt-3 mb-1"}," Total Activos ",-1),Kr={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Zr=i("h2",{class:"text-sm text-left leading-none text-red-500 mb-1"}," Activos Sin Planificación ",-1),Wr={class:"text-3xl text-left leading-none mb-3 text-gray-700"},Yr=i("h2",{class:"text-sm text-left leading-none creadas mb-1"}," Equipos Con Planificación ",-1),Qr={class:"text-2xl text-left leading-none mb-3 text-gray-700"},ac=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," Equipos Con Plan al 100% ",-1),ec={class:"text-2xl text-left leading-none mb-3 text-gray-700"},sc={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},oc={class:"text-gray-500 text-xxs leading-none mb-4"},tc=r(" Del "),ic={class:"font-bold"},lc=r(" al "),nc={class:"font-bold"},rc={class:"w-full flex flex-row flex-wrap items-center justify-around"},cc={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible px-16"},dc={class:"flex flex-col font-bold"},uc=i("h2",{class:"text-sm text-right leading-none proceso mb-1"}," MP Creados ",-1),fc={class:"text-4xl text-right leading-none mb-3 text-gray-700"},mc=i("h2",{class:"text-sm text-right leading-none proceso2 mb-1"}," MC Creadas ",-1),xc={class:"text-4xl text-right leading-none mb-3 text-gray-700"},pc={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},gc={class:"text-gray-500 text-xxs leading-none mb-4"},hc=r(" Del "),bc={class:"font-bold"},vc=r(" al "),yc={class:"font-bold"},wc={class:"w-full flex flex-row flex-wrap items-center justify-around"},Mc={class:"flex flex-col font-bold"},kc=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," MP Finalizados ",-1),Cc={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Pc=i("h2",{class:"text-sm text-left leading-none mp1 mb-1"}," MC Finalizados ",-1),Sc={class:"text-4xl text-left leading-none mb-3 text-gray-700"},zc={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible px-16"},Dc={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},Ic={class:"text-gray-500 text-xxs leading-none mb-4"},Fc=r(" Del "),jc={class:"font-bold"},Ac=r(" al "),Gc={class:"font-bold"},Uc={class:"w-full flex flex-row flex-wrap items-center justify-around px-8 pt-6"},Rc={class:"mt-8 text-gray-700 font-semibold text-xl uppercase"},qc={class:"text-gray-500 text-xxs leading-none mb-4"},Bc=r(" Del "),Ec={class:"font-bold"},Oc=r(" al "),Nc={class:"font-bold"},Tc={class:"w-full flex flex-wrap flex-row items-start justify-around px-8 pt-6"};u(),Hn.render=function(l,r,d,u,f,m){const x=a("Iconos"),p=a("MarcadoresMp"),g=a("Graficotest"),h=a("GraficoCircularCss"),b=a("GraficoBarrasCssSkeleton"),v=a("GraficoBarrasCss"),y=a("Rankings"),w=a("RankingsUsuarios");return o(),e("div",Ln,[i("h1",_n,[Jn,i("span",$n,n(u.datosMP.destino)+" "+n(u.seccion),1)]),i("div",Xn,[i("div",Kn,[i("div",Zn,[Wn,A(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[0]||(r[0]=a=>u.fechas.fechaInicio=a),onChange:r[1]||(r[1]=a=>l.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[G,u.fechas.fechaInicio]])]),s(x,{icono:"arrow-right",class:"w-4"}),i("div",Yn,[Qn,A(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[2]||(r[2]=a=>u.fechas.fechaFin=a),onChange:r[3]||(r[3]=a=>l.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[G,u.fechas.fechaFin]])]),i("div",ar,[i("button",{class:"bg-purple-50 text-purple-500 py-1 px-2 rounded-lg text-sm border border-purple-400",onClick:r[4]||(r[4]=a=>{u.aplicar(),u.graficar(),u.mcmpCreados(),u.mcmpFinalizados(),u.rankingGlobal(),u.preventivosUsuarios()})}," Aplicar ")])])]),i("div",er,[s(p,{creadas:u.datosMP.creadas,proceso:u.datosMP.pendientes,finalizado:u.datosMP.finalizados,acumulado:u.datosMP.acumulado,ranfinalizado:u.datosMP.rankingFinalizado,ranproceso:u.datosMP.rankingCreadas,ranacumulado:u.datosMP.rankingAcumulado,ratioCredas:u.datosMP.ratioCredas,ratioFinalizadas:u.datosMP.ratioFinalizadas,mediaHoras:u.datosMP.mediaHoras,visible:u.skeleton.marcadores},null,8,["creadas","proceso","finalizado","acumulado","ranfinalizado","ranproceso","ranacumulado","ratioCredas","ratioFinalizadas","mediaHoras","visible"]),i("div",sr,[i("h1",or," Preventivos "+n(u.seccion),1),i("h1",tr,[ir,i("span",lr,n(u.fechaA),1),nr,i("span",rr,n(u.fechaB),1)]),u.skeleton.grafica?(o(),e("div",cr,dr)):t("",!0),u.skeleton.grafica?t("",!0):(o(),U(g,{key:1,class:"mt-4 rounded-lg shadow-sm",arrayGrafica:u.arrayGrafica},null,8,["arrayGrafica"])),i("h1",ur," PLANIFICADO VS FINALIZADO "+n(u.seccion),1),i("h1",fr,[mr,i("span",xr,n(u.fechaA),1),pr,i("span",gr,n(u.fechaB),1)]),i("div",hr,[i("div",br,[vr,i("h1",yr,n(u.datosMP.totalSemanasPlanificadasGlobal),1),wr,i("h1",Mr,n(u.datosMP.finalizados),1),kr,i("h1",Cr,n(u.datosMP.pendientes),1),Pr,i("h1",Sr,n(u.datosMP.finalizadosPrevio),1)]),s(h,{texto:"Cumplimiento",color:"#00c4fa",color2:"#acedff",porcentaje:u.datosMP.totalSemanasPlanificadasGlobal>0?Math.round(100/u.datosMP.totalSemanasPlanificadasGlobal*u.datosMP.finalizados):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["porcentaje","visualizar"]),i("div",zr,[(o(),e(c,null,P(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["visualizar"]))),64)),(o(!0),e(c,null,P(u.datosMP.planificadoVSfinalizado,(a=>(o(),U(v,{key:a,seccion:a.subseccion,creadas:a.planificado,finalizadas:a.solucionados,color1:"#acedff",color2:"#34d399",vs:!1,visualizar:u.skeleton.barrasCreadasVSSolucionadas,rotarTexto:!0},null,8,["seccion","creadas","finalizadas","visualizar"])))),128))])]),i("h1",Dr," PLANIFICACION MP "+n(u.seccion),1),i("div",Ir,[i("div",Fr,[i("h1",jr,n(u.datosMP.totalPlanificaciones),1),Ar]),i("div",Gr,[i("h1",Ur,n(u.datosMP.totalConPlanificacionCompleta),1),Rr,i("h1",qr,n(u.datosMP.totalPlanifiaciones>0?(100/u.datosMP.totalPlanifiaciones*u.datosMP.totalConPlanificacionCompleta).toFixed(1):0)+"% ",1)]),i("div",Br,[i("h1",Er,n(u.datosMP.totalConPlanificacionIncompleta),1),Or,i("h1",Nr,n(u.datosMP.totalPlanifiaciones>0?(100/u.datosMP.totalPlanifiaciones*u.datosMP.totalConPlanificacionIncompleta).toFixed(1):0)+"% ",1)]),i("div",Tr,[i("h1",Vr,n(u.datosMP.totalSinPlanificacion),1),Hr,i("h1",Lr,n(u.datosMP.totalPlanifiaciones>0?(100/u.datosMP.totalPlanifiaciones*u.datosMP.totalSinPlanificacion).toFixed(1):0)+"% ",1)]),i("div",_r,[Jr,(o(),e(c,null,P(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasPlanificacionAnual},null,8,["visualizar"]))),64)),(o(!0),e(c,null,P(u.datosMP.planeacionesSecciones,(a=>(o(),U(v,{key:a,seccion:a.subseccion,creadas:a.totalPlanificaciones,finalizadas:a.totalPlanificadosCompletos,color1:"#edf2f7",color2:"#00c4fa",vs:!1,visualizar:u.skeleton.barrasPlanificacionAnual,rotarTexto:!0},null,8,["seccion","creadas","finalizadas","visualizar"])))),128))]),i("div",$r,[Xr,i("h1",Kr,n(u.datosMP.totalEquipos),1),Zr,i("h1",Wr,n(u.datosMP.totalEquiposSinPlanificacion),1),Yr,i("h1",Qr,n(u.datosMP.totalEquiposConPlanificacion),1),ac,i("h1",ec,n(u.datosMP.totalEquiposPlanCompleto)+"% ",1)])]),i("h1",sc," Preventivo creado vs Incidencias creadas "+n(u.seccion),1),i("h1",oc,[tc,i("span",ic,n(u.fechaA),1),lc,i("span",nc,n(u.fechaB),1)]),i("div",rc,[i("div",cc,[(o(),e(c,null,P(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,P(u.datosMP.mcmpCreados,(a=>(o(),U(v,{key:a,seccion:a.subseccion,creadas:a.mp+a.mc,finalizadas:a.mp,color1:"#ffe39c",color2:"#fbbf24",vs:!0,visualizar:u.skeleton.barrasCreados,rotarTexto:!0},null,8,["seccion","creadas","finalizadas","visualizar"])))),128))]),s(h,{texto:"MP CREADOS",color:"#fbbf24",color2:"#ffe39c",porcentaje:u.datosMP.mpCreados>0?Math.round(100/(u.datosMP.mpCreados+u.datosMP.mcCreados)*u.datosMP.mpCreados):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreados},null,8,["porcentaje","visualizar"]),i("div",dc,[uc,i("h1",fc,n(u.datosMP.mpCreados),1),mc,i("h1",xc,n(u.datosMP.mcCreados),1)])]),i("h1",pc," Preventivo solucionado vs Incidencias solucionadas "+n(u.seccion),1),i("h1",gc,[hc,i("span",bc,n(u.fechaA),1),vc,i("span",yc,n(u.fechaB),1)]),i("div",wc,[i("div",Mc,[kc,i("h1",Cc,n(u.datosMP.mpFinalizado),1),Pc,i("h1",Sc,n(u.datosMP.mcFinalizado),1)]),s(h,{texto:"MP Finalizados",color:"#34d399",color2:"#96ffd9",porcentaje:u.datosMP.mpFinalizado>0?Math.round(100/(u.datosMP.mpFinalizado+u.datosMP.mcFinalizado)*u.datosMP.mpFinalizado):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasSolucionados},null,8,["porcentaje","visualizar"]),i("div",zc,[(o(),e(c,null,P(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasSolucionados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,P(u.datosMP.mcmpFinalizados,(a=>(o(),U(v,{key:a,seccion:a.subseccion,creadas:a.mc+a.mp,finalizadas:a.mp,color1:"#96ffd9",color2:"#34d399",vs:!0,visualizar:u.skeleton.barrasSolucionados,rotarTexto:!0},null,8,["seccion","creadas","finalizadas","visualizar"])))),128))])]),i("h1",Dc," Rankings américa "+n(u.seccion),1),i("h1",Ic,[Fc,i("span",jc,n(u.fechaA),1),Ac,i("span",Gc,n(u.fechaB),1)]),i("div",Uc,[s(y,{nombre:"Más OT MP Creadas",color:"#00c4fa",menosAmas:!1,destinos:u.datosMP.rankingMPCreadas,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Más OT MP Solucionadas",color:"#34d399",menosAmas:!1,destinos:u.datosMP.rankingMPFinalizada,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Menos OT MP Acumuladas",color:"#563bff",menosAmas:!0,destinos:u.datosMP.rankingMPAcumulado,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Mas MP vs MC",color:"#fbbf24",simbolo:"%",menosAmas:!1,destinos:u.datosMP.rankingmcmpCreados,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"])]),i("h1",Rc," Rankings Usuarios "+n(u.seccion),1),i("h1",qc,[Bc,i("span",Ec,n(u.fechaA),1),Oc,i("span",Nc,n(u.fechaB),1)]),i("div",Tc,[s(w,{nombre:"Creados por Usuarios",color:"#00c4fa",simbolo:"",menosAmas:!0,usuarios:u.datosMP.creadosUsuarios,visualizar:u.skeleton.rankingUsuarios},null,8,["usuarios","visualizar"]),s(w,{nombre:"Solucionados por Usuarios",color:"#34d399",simbolo:"",menosAmas:!0,usuarios:u.datosMP.solucionadosUsuarios,visualizar:u.skeleton.rankingUsuarios},null,8,["usuarios","visualizar"]),s(w,{nombre:"Acumulados por Usuarios",color:"#34d399",simbolo:"",menosAmas:!0,usuarios:u.datosMP.acumuladosUsuarios,visualizar:u.skeleton.rankingUsuarios},null,8,["usuarios","visualizar"])])])])])},Hn.__scopeId="data-v-22a958ee";const Vc=[{path:"/mc/:idDestino",name:"Trmpmc",component:es},{path:"/mc/:idDestino/seccion/:idSeccion",name:"TrmcSubsecciones",component:Fo},{path:"/mp/:idDestino",name:"Trmp",component:Zi},{path:"/mp/:idDestino/seccion/:idSeccion",name:"TrmpSubsecciones",component:Hn}],Hc=q({history:B(),routes:Vc});var Lc=E({state:{datosMC:{destino:"",creadas:0,enProceso:0,finalizado:0,acumulado:0,ratioCredas:0,ratioFinalizadas:0,mediaHoras:0,porcentajeSolucionado:0,rankingCreadas:0,rankingFinalizado:0,rankingAcumulado:0,mcFinalizado:0,mpFinalizado:0,mcmpFinalizado:[],mcCreados:0,mpCreados:0,mcmpCreados:[],rankingIncidenciasCreadas:[],rankingIncidenciasFinalizada:[],rankingIncidenciasAcumulado:[],rankingmcmpCreados:[],creadosUsuarios:[],solucionadosUsuarios:[],acumuladosUsuarios:[]},datosMP:{destino:"",totalSemanasPlanificadasGlobal:0,creadas:0,planificados:0,pendientes:0,finalizados:0,finalizadosPrevio:0,acumulado:0,ratioCredas:0,ratioFinalizadas:0,mediaHoras:0,planificadoVSfinalizado:[],mcFinalizado:0,mpFinalizado:0,mcmpFinalizados:[],mcCreados:0,mpCreados:0,mcmpCreados:[],planeacionesSecciones:[],totalPlanifiaciones:0,totalConPlanifiacion:0,totalConPlanificacionCompleta:0,totalConPlanificacionIncompleta:0,totalSinPlanificacion:0,rankingmcmpCreados:[],rankingMPCreadas:[],rankingMPFinalizada:[],rankingMPAcumulado:[],rankingCreadas:0,rankingFinalizado:0,rankingAcumulado:0,totalPlanificaciones:0,totalEquipos:0,totalEquiposConPlanificacion:0,totalEquiposPlanCompleto:0,totalEquiposSinPlanificacion:0,creadosUsuarios:[],solucionadosUsuarios:[],acumuladosUsuarios:[]},skeleton:{barrasCreadasVSSolucionadas:!0,barrasPlanificacionAnual:!0,barrasCreados:!0,barrasSolucionados:!0,ranking:!0,grafica:!0,marcadores:!0,rankingUsuarios:!1},array:[],arrayGrafica:[],arraySecciones:[],arrayRankingCreadas:[],seccion:"ZIA"},mutations:{},actions:{async peticion({commit:a},e){try{const a=await fetch("../api_v3/",{method:"POST",body:JSON.stringify(e)}),s=await a.json();return"SUCCESS"==s.response?{response:!0,data:s}:{response:!1,data:[]}}catch(s){return console.log(s),{response:!1,data:[]}}}},modules:{}});O(N).use(Lc).use(Hc).mount("#app");
