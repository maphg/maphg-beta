import{r as a,c as e,a as s,o,b as t,d as i,e as n,t as l,f as r,F as c,p as d,g as u,u as f,h as m,n as x,i as p,j as g,k as h,D as b,V as v,L as y,X as w,l as M,m as C,q as k,s as S,v as P,w as z,x as I,y as D,z as F,A,B as U,C as j,E as O,G as R,H as E,I as G,J as N,K as q,M as T,N as B,O as L,P as V,Q as H}from"./vendor.d1f76b3f.js";!function(){const a=document.createElement("link").relList;if(!(a&&a.supports&&a.supports("modulepreload"))){for(const a of document.querySelectorAll('link[rel="modulepreload"]'))e(a);new MutationObserver((a=>{for(const s of a)if("childList"===s.type)for(const a of s.addedNodes)"LINK"===a.tagName&&"modulepreload"===a.rel&&e(a)})).observe(document,{childList:!0,subtree:!0})}function e(a){if(a.ep)return;a.ep=!0;const e=function(a){const e={};return a.integrity&&(e.integrity=a.integrity),a.referrerpolicy&&(e.referrerPolicy=a.referrerpolicy),"use-credentials"===a.crossorigin?e.credentials="include":"anonymous"===a.crossorigin?e.credentials="omit":e.credentials="same-origin",e}(a);fetch(a.href,e)}}();const _={};_.render=function(t,i){const n=a("router-view");return o(),e("div",null,[s(n)])};const J={name:"Iconos",props:{icono:{type:String,default:""}}},$={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},X=[i("path",{d:"M12 19V6M5 12l7-7 7 7"},null,-1)],K={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Z=[i("path",{d:"M12 5v13M5 12l7 7 7-7"},null,-1)],W={key:2,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Y=[i("path",{d:"M19 12H6M12 5l-7 7 7 7"},null,-1)],Q={key:3,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},aa=[i("path",{d:"M5 12h13M12 5l7 7-7 7"},null,-1)],ea={key:4,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},sa=[i("path",{d:"M17 17L7.8 7.7M7 17V7h10"},null,-1)],oa={key:5,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ta=[i("path",{d:"M7 17l9.2-9.2M17 17V7H7"},null,-1)],ia={key:6,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},na=[i("path",{d:"M17 7l-9.2 9.2M7 7v10h10"},null,-1)],la={key:7,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ra=[i("line",{x1:"3",y1:"12",x2:"21",y2:"12"},null,-1),i("line",{x1:"3",y1:"6",x2:"21",y2:"6"},null,-1),i("line",{x1:"3",y1:"18",x2:"21",y2:"18"},null,-1)],ca={key:8,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},da=[i("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),i("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1)],ua={key:9,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},fa=[i("path",{d:"M9 18l6-6-6-6"},null,-1)],ma={key:10,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},xa=[i("rect",{x:"3",y:"3",width:"7",height:"7"},null,-1),i("rect",{x:"14",y:"3",width:"7",height:"7"},null,-1),i("rect",{x:"14",y:"14",width:"7",height:"7"},null,-1),i("rect",{x:"3",y:"14",width:"7",height:"7"},null,-1)],pa={key:11,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ga=[i("line",{x1:"12",y1:"5",x2:"12",y2:"19"},null,-1),i("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1)],ha={key:12,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ba=[i("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},null,-1),i("line",{x1:"16",y1:"2",x2:"16",y2:"6"},null,-1),i("line",{x1:"8",y1:"2",x2:"8",y2:"6"},null,-1),i("line",{x1:"3",y1:"10",x2:"21",y2:"10"},null,-1)],va={key:13,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ya=[i("polyline",{points:"9 11 12 14 22 4"},null,-1),i("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},null,-1)],wa={key:14,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Ma=[n('<line x1="12" y1="2" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="22"></line><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line><line x1="2" y1="12" x2="6" y2="12"></line><line x1="18" y1="12" x2="22" y2="12"></line><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line>',8)],Ca={key:15,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ka=[i("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},null,-1),i("line",{x1:"12",y1:"9",x2:"12",y2:"13"},null,-1),i("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"},null,-1)];J.render=function(a,s,i,n,l,r){return o(),e("div",null,["arrow-up"===i.icono?(o(),e("svg",$,X)):t("",!0),"arrow-down"===i.icono?(o(),e("svg",K,Z)):t("",!0),"arrow-left"===i.icono?(o(),e("svg",W,Y)):t("",!0),"arrow-right"===i.icono?(o(),e("svg",Q,aa)):t("",!0),"arrow-up-left"===i.icono?(o(),e("svg",ea,sa)):t("",!0),"arrow-up-right"===i.icono?(o(),e("svg",oa,ta)):t("",!0),"arrow-down-left"===i.icono?(o(),e("svg",ia,na)):t("",!0),"menu"===i.icono?(o(),e("svg",la,ra)):t("",!0),"x"===i.icono?(o(),e("svg",ca,da)):t("",!0),"chevron-right"===i.icono?(o(),e("svg",ua,fa)):t("",!0),"grid"===i.icono?(o(),e("svg",ma,xa)):t("",!0),"plus"===i.icono?(o(),e("svg",pa,ga)):t("",!0),"calendar"===i.icono?(o(),e("svg",ha,ba)):t("",!0),"check-square"===i.icono?(o(),e("svg",va,ya)):t("",!0),"loader"===i.icono?(o(),e("svg",wa,Ma)):t("",!0),"alert-triangle"===i.icono?(o(),e("svg",Ca,ka)):t("",!0)])};const Sa={components:{Iconos:J},props:{visualizar:{type:Boolean,default:!1},creadas:{type:Number,required:!0,default:0},ranproceso:{type:Number,required:!0,default:0},ranfinalizado:{type:Number,required:!0,default:0},proceso:{type:Number,required:!0,default:0},finalizado:{type:Number,required:!0,default:0},acumulado:{type:Number,required:!0,default:0},ranacumulado:{type:Number,required:!0,default:0},mediaHoras:{type:[String,Number],required:!0,default:0},ratioCredas:{type:[String,Number],required:!0,default:0},ratioFinalizadas:{type:[String,Number],required:!0,default:0}},setup:()=>({})},Pa={key:0,class:"animate-pulse py-4 flex flex-row flex-wrap items-center justify-evenly rounded-lg bg-white px-2 divide-x divide-gris-30 w-full md:w-7/12"},za=[n('<div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div>',7)],Ia={key:1,class:"flex flex-row flex-wrap items-center justify-evenly rounded-lg bg-white px-2 divide-x divide-gris-30 w-full md:w-7/12"},Da={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},Fa={class:"w-7 h-7 bg-blue-100 text-blue-400 rounded-full flex items-center justify-center"},Aa={class:"text-3xl font-semibold"},Ua=i("h2",{class:"text-sm text-gray-500"},"Creadas",-1),ja={class:"text-xxs leading-snug text-gray-500"},Oa=r(" Ratio "),Ra={class:"font-bold"},Ea={class:"text-xxs leading-snug text-gray-500"},Ga=r(" Media t. "),Na={class:"font-bold"},qa={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},Ta={class:"w-7 h-7 bg-yellow-100 text-yellow-400 rounded-full flex items-center justify-center"},Ba={class:"text-3xl font-semibold"},La=i("h2",{class:"text-sm text-gray-500"},"En proceso",-1),Va={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},Ha={class:"w-7 h-7 bg-green-100 text-green-400 rounded-full flex items-center justify-center"},_a={class:"text-3xl font-semibold"},Ja=i("h2",{class:"text-sm text-gray-500"},"Solucionadas",-1),$a={class:"text-xxs leading-snug text-gray-500"},Xa=r(" Ratio "),Ka={class:"font-bold"},Za={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},Wa={class:"w-7 h-7 bg-purple-100 text-purple-400 rounded-full flex items-center justify-center"},Ya={class:"text-3xl font-semibold"},Qa=i("h2",{class:"text-sm text-gray-500"},"Acumulado",-1),ae=i("h2",{class:"text-xxs leading-none text-gray-500"},[r(" del "),i("span",{class:"font-bold"},"1 ENE 2021"),r(" a la fecha ")],-1),ee={class:"w-36 h-36 flex flex-col items-center justify-center px-2"},se={class:"w-16 h-16 rounded-full ring ring-yellow-100 bg-yellow-400 border-4 mb-2 border-yellow-200 flex flex-col items-center justify-center"},oe={class:"text-2xl leading-none text-white font-semibold"},te=i("span",{class:"text-sm"},"/8",-1),ie=i("h2",{class:"text-xxs text-gray-500"},"Ranking America",-1),ne=i("h2",{class:"text-xxs leading-none uppercase text-gray-500 font-bold"}," incidencias Creadas ",-1),le={class:"w-36 h-36 flex flex-col items-center justify-center px-2"},re={class:"w-16 h-16 rounded-full ring ring-green-100 bg-green-400 border-4 mb-2 border-green-200 flex flex-col items-center justify-center"},ce={class:"text-2xl leading-none text-white font-semibold"},de=i("span",{class:"text-sm"},"/8",-1),ue=i("h2",{class:"text-xxs text-gray-500"},"Ranking America",-1),fe=i("h2",{class:"text-xxs leading-none uppercase text-gray-500 font-bold"}," Incidencias Finalizadas ",-1),me={class:"w-36 h-36 flex flex-col items-center justify-center px-2"},xe={class:"w-16 h-16 rounded-full ring ring-purple-100 bg-purple-400 border-4 mb-2 border-purple-200 flex flex-col items-center justify-center"},pe={class:"text-2xl leading-none text-white font-semibold"},ge=i("span",{class:"text-sm"},"/8",-1),he=i("h2",{class:"text-xxs text-gray-500"},"Ranking America",-1),be=i("h2",{class:"text-xxs leading-none uppercase text-gray-500 font-bold text-center"}," incidencias acumuladas ",-1);Sa.render=function(n,d,u,f,m,x){const p=a("iconos");return o(),e(c,null,[u.visualizar?(o(),e("div",Pa,za)):t("",!0),u.visualizar?t("",!0):(o(),e("div",Ia,[i("div",Da,[i("div",Fa,[s(p,{icono:"plus",class:"w-4"})]),i("h1",Aa,l(u.creadas),1),Ua,i("h2",ja,[Oa,i("span",Ra,l(u.ratioCredas),1)]),i("h2",Ea,[Ga,i("span",Na,l(u.mediaHoras)+" H",1)])]),i("div",qa,[i("div",Ta,[s(p,{icono:"loader",class:"w-4"})]),i("h1",Ba,l(u.proceso),1),La]),i("div",Va,[i("div",Ha,[s(p,{icono:"check-square",class:"w-4"})]),i("h1",_a,l(u.finalizado),1),Ja,i("h2",$a,[Xa,i("span",Ka,l(u.ratioFinalizadas),1)])]),i("div",Za,[i("div",Wa,[s(p,{icono:"alert-triangle",class:"w-4"})]),i("h1",Ya,l(u.acumulado),1),Qa,ae]),i("div",ee,[i("div",se,[i("h1",oe,[r(l(u.ranproceso),1),te])]),ie,ne]),i("div",le,[i("div",re,[i("h1",ce,[r(l(u.ranfinalizado),1),de])]),ue,fe]),i("div",me,[i("div",xe,[i("h1",pe,[r(l(u.ranacumulado),1),ge])]),he,be])]))],64)};const ve={props:{visualizar:{type:Boolean,default:!1,require:!0},texto:{type:String,default:"NoText"},color:{type:String,default:"#000000"},color2:{type:String,default:"#edf2f7"},"tamaño":{type:String,default:"12em"},porcentaje:{type:Number,default:0}},setup:()=>({})},ye=()=>{f((a=>({"54300d4c":a.tamaño,"8caadf2c":a.color2,a9b2ee70:a.color})))},we=ve.setup;ve.setup=we?(a,e)=>(ye(),we(a,e)):ye;const Me=ve;d("data-v-13c5b652");const Ce={key:0,class:"flex flex-row items-center justify-center relative animate-pulse border-8 rounded-full w-44 h-44 flex-none"},ke=[i("div",{class:"absolute flex flex-col items-center justify-center"},[i("h1",{class:"percentage leading-none mt-1 font-bold text-xs bg-gray-200 text-transparent mb-1"}," TOTAL "),i("h1",{class:"percentage leading-none font-bold text-sm uppercase bg-gray-200 text-transparent"}," xxxxxxx "),i("h1",{class:"percentage leading-none mt-1 font-bold bg-gray-200 text-transparent"}," xxxxxxx ")],-1)],Se={key:1,class:"single-chart flex flex-row items-center justify-center relative"},Pe={viewBox:"0 0 36 36",class:"circular-chart orange"},ze=i("path",{class:"circle-bg",d:"M18 2.0845\r\n          a 15.9155 15.9155 0 0 1 0 31.831\r\n          a 15.9155 15.9155 0 0 1 0 -31.831"},null,-1),Ie=["stroke-dasharray"],De={class:"absolute flex flex-col items-center justify-center"},Fe=i("h1",{class:"percentage leading-none mt-1 font-bold text-xs"},"TOTAL",-1),Ae={class:"percentage leading-none font-bold text-sm uppercase"},Ue={class:"percentage leading-none text-gray-500 mt-1 font-bold"};u(),Me.render=function(a,s,n,r,d,u){return o(),e(c,null,[n.visualizar?(o(),e("div",Ce,ke)):t("",!0),n.visualizar?t("",!0):(o(),e("div",Se,[(o(),e("svg",Pe,[ze,i("path",{class:"circle","stroke-dasharray":[n.porcentaje,100],d:"M18 2.0845\r\n          a 15.9155 15.9155 0 0 1 0 31.831\r\n          a 15.9155 15.9155 0 0 1 0 -31.831"},null,8,Ie)])),i("div",De,[Fe,i("h1",Ae,l(n.texto),1),i("h1",Ue,l(n.porcentaje)+"% ",1)])]))],64)},Me.__scopeId="data-v-13c5b652";const je={name:"GraficoBarrasCss",props:{visualizar:{type:Boolean,default:!1},seccion:{type:String,required:!0,default:"###"},creadas:{type:Number,required:!0,default:0},finalizadas:{type:Number,required:!0,default:0},color1:{type:String,required:!0,default:"#edf2f7"},color2:{type:String,required:!0,default:"#89bcfb"},vs:{type:Boolean,required:!0,default:!1},rotarTexto:{type:Boolean,default:!1}},setup(a){const e=m(Math.round(100/a.creadas*a.finalizadas));e.value>100&&(e.value=100);const s=m(a.creadas);return a.creadas>0&&a.vs&&(s.value=a.creadas-a.finalizadas),{porcentaje:e,creadasX:s}}},Oe=()=>{f((a=>({48168232:a.color1,48168233:a.color2,"7e462aef":a.porcentaje+"%"})))},Re=je.setup;je.setup=Re?(a,e)=>(Oe(),Re(a,e)):Oe;const Ee=je;d("data-v-380a80ff");const Ge={class:"h-44 flex justify-center items-end hover:shadow-lg principal"},Ne={class:"text-xs font-normal text-white mb-2"},qe={class:"xx hidden absolute -left-16 -top-1.5 bg-black text-white rounded px-2 w-auto text-xs asbolute"};u(),Ee.render=function(a,s,n,r,c,d){return n.visualizar?t("",!0):(o(),e("div",{key:0,class:x({"flex flex-col items-center chart cursor-pointer w-10":!n.rotarTexto,"flex flex-col items-center chart cursor-pointer w-12 relative h-72":n.rotarTexto})},[i("div",Ge,[i("div",{class:x(["flex justify-center items-end relative",{secundario:n.creadas>0}])},[i("h1",Ne,l(r.porcentaje>0?r.porcentaje:0)+" % ",1),i("div",qe,l(n.finalizadas)+" - "+l(r.creadasX),1)],2)]),i("div",{class:x({"font-bold text-gray-500 flex items-center justify-center text-sm uppercase":!n.rotarTexto,"transform rotate-90 flex items-center mb-4 font-bold text-gray-500 text-xxs md:text-xs uppercase bottom-2":n.rotarTexto})},[i("h1",{class:x({"absolute left-1":n.rotarTexto})},l(n.seccion),3)],2)],2))},Ee.__scopeId="data-v-380a80ff";p(g);const Te={name:"Graficotest",props:{arrayGrafica:{type:Object,default:[]}},mounted(){let a=h(this.$refs.chartdiv,M);a.paddingRight=30,a.paddingTop=10,a.paddingLeft=0,a.data=this.arrayGrafica;var e=a.xAxes.push(new b);function s(e,s,o,t){var i=a.series.push(new C);return i.dataFields.valueY=e,i.dataFields.dateX="date",i.name=s,i.tooltipText="{dateX}: [b]{valueY}[/]",i.stroke=k(o),i.strokeWidth=3,i.tensionX=.8,i.stacked=!1,i.fillOpacity=t,i.fill=k(o),i}e.renderer.grid.template.location=0,e.renderer.minGridDistance=30,e.startLocation=.5,e.endLocation=.5,e.fontSize=10,e.dateFormats.setKey("day","MMM dd"),a.yAxes.push(new v).fontSize=8,s("finalizado","Finalizado","#34d399","0"),s("creado","Creado","#00c4fa","0"),s("acumulado","Acumulado","#a78bfa","0"),a.legend=new y,a.cursor=new w,a.legend.fontSize=12,a.legend.fontWeight=500,this.chart=a},updated(){this.chart&&(this.chart.data=this.arrayGrafica)},beforeDestroy(){this.chart&&this.chart.dispose()}};d("data-v-90daa9b0");const Be={class:"hello",ref:"chartdiv"};u(),Te.render=function(a,s,t,i,n,l){return o(),e("div",Be,null,512)},Te.__scopeId="data-v-90daa9b0";const Le={name:"Rankings",props:{visualizar:{type:Boolean,default:!1},key:{type:Number},nombre:{type:String,required:!1},destinos:{type:Object,required:!1},menosAmas:{type:Boolean,required:!1},color:{type:String,required:!1,default:"#ffeab6"},simbolo:{type:String,required:!1,default:""},posicion:{type:Number,default:1}},setup:()=>({})},Ve=()=>{f((a=>({"4f84f5d3":a.color})))},He=Le.setup;Le.setup=He?(a,e)=>(Ve(),He(a,e)):Ve;const _e=Le;d("data-v-29d13ba8");const Je={key:0,class:"flex flex-col items-start justify-center w-56"},$e=i("div",{class:"text-center w-full mb-2 text-xs uppercase font-bold"},[i("h1",{class:"bg-gray-200 text-transparent rounded-sm"},"xxxxxxxxxxxxxxx")],-1),Xe=[n('<div class="w-12" data-v-29d13ba8><h1 class="bg-gray-200 text-transparent" data-v-29d13ba8>xxx</h1></div><div class="w-12" data-v-29d13ba8><h1 class="bg-gray-200 text-transparent" data-v-29d13ba8>xxx</h1></div><div class="w-12" data-v-29d13ba8><h1 class="bg-gray-200 text-transparent" data-v-29d13ba8>xxx</h1></div>',3)],Ke={key:1,class:"flex flex-col items-start justify-center w-56"},Ze={class:"text-center w-full mb-2 text-xs uppercase font-bold"},We={class:"w-16"},Ye={class:"w-16"},Qe={class:"w-16"};u(),_e.render=function(a,s,n,r,d,u){return o(),e(c,null,[n.visualizar?(o(),e("div",Je,[$e,(o(),e(c,null,S(8,(a=>i("div",{key:a,class:"flex flex-row items-center justify-between w-full text-center text-sm rounded p-1 mb-1 bg-gray-200 animate-pulse"},Xe))),64))])):t("",!0),n.visualizar?t("",!0):(o(),e("div",Ke,[i("div",Ze,[i("h1",null,l(n.nombre),1)]),(o(!0),e(c,null,S(n.destinos,((a,s)=>(o(),e("div",{key:s,class:x([[a.destinoActual?"destinoactual":"bg-base"],"flex flex-row items-center justify-between w-full text-center text-sm rounded p-1 mb-1"])},[i("div",We,[i("h1",null,l(s+1),1)]),i("div",Ye,[i("h1",null,l(a.destino),1)]),i("div",Qe,[i("h1",null,l(a.total)+" "+l(n.simbolo),1)])],2)))),128))]))],64)},_e.__scopeId="data-v-29d13ba8";const as={name:"GraficoBarrasCssSkeleton",props:{visualizar:{type:Boolean,default:!1}}},es=()=>{f((a=>({"02be6486":a.color1,"02be6484":a.color2,"2e48768c":a.porcentaje+"%"})))},ss=as.setup;as.setup=ss?(a,e)=>(es(),ss(a,e)):es;const os=as;d("data-v-17be3d98");const ts={key:0,class:"flex flex-col items-center chart cursor-pointer animate-pulse"},is=[i("div",{class:"h-44 skeleton1 flex justify-center items-end hover:shadow-lg"},[i("div",{class:"skeleton2 flex justify-center items-end relative"})],-1),i("div",{class:"font-bold text-transparent bg-gray-200 flex items-center justify-center text-sm uppercase w-8 mt-1 h-4"},null,-1)];u(),os.render=function(a,s,i,n,l,r){return i.visualizar?(o(),e("div",ts,is)):t("",!0)},os.__scopeId="data-v-17be3d98";const ns={components:{UserIcon:P,PlusCircleIcon:z,CheckCircleIcon:I,SunIcon:D,XCircleIcon:F},props:{array:{type:Object,default:[]},titulo:{type:String,default:"Titulo"},estado:{type:String,default:"CREADOS"}},setup(a){const e=m(!1),s=m([]),o=localStorage.getItem("usuario");return{verDetalles:a=>{s.value=a.incidencias,e.value=!0},visible:e,incidencias:s,idUsuario:o,ordenar:()=>{"CREADOS"===a.estado&&a.array.sort(((a,e)=>e.creados-a.creados)),"SOLUCIONADOS"===a.estado&&a.array.sort(((a,e)=>e.solucionados-a.solucionados)),"ACUMULADOS"===a.estado&&a.array.sort(((a,e)=>e.acumulados-a.acumulados))}}}},ls={class:"w-100 flex flex-row m-2 justify-center items-center"},rs={key:0,class:"w-full mx-auto flex flex-row justify-center items-center"},cs={class:"rounded"},ds={class:"flex flex-row items-center mb-1"},us=i("th",{class:"w-52 md:w-72 px-2 flex flex-col items-center justify-center text-xs text-center cursor-pointer"}," Nombre del Usuario ",-1),fs={class:"flex flex-col items-center"},ms=["onClick"],xs={class:"w-52 md:w-72 py-1.5 text-left text-xs md:text-sm uppercase rounded-l-lg flex flex-row items-center"},ps={class:"font-normal truncate"},gs={key:0,class:"w-24 py-1.5 text-sm"},hs={key:0,class:"h-auto min-w-max ventana redondes fc ic js overflow-y-scroll absolute mx-auto px-1.5 pt-9 pb-5 top-0",style:{"max-height":"100%","max-width":"35rem"}},bs={class:"w-100 px-16"},vs={class:"mr-1 text-xs uppercase font-semibold"},ys=i("h1",{class:"mr-1 text-xs uppercase font-semibold"},"/",-1),ws={class:"flex-none mr-1 text-xs uppercase font-semibold"},Ms=i("h1",{class:"mr-1 text-xs uppercase font-semibold"},"/",-1),Cs={class:"text-sm uppercase truncate max-w-xs"};ns.render=function(n,r,d,u,f,m){const p=a("UserIcon"),g=a("XCircleIcon");return o(),e(c,null,[i("div",ls,[d.array.length?(o(),e("div",rs,[i("table",cs,[i("thead",null,[i("tr",ds,[us,i("th",{class:"w-24 px-2 flex flex-col items-center justify-center text-xs text-center cursor-pointer",onClick:r[0]||(r[0]=a=>u.ordenar())},l(d.titulo),1)])]),i("tbody",fs,[(o(!0),e(c,null,S(d.array,((a,n)=>(o(),e("tr",{key:n,class:x(["flex flex-row rounded-lg bg-base",[n%2==1?"estilo-2":"estilo-1",a.idUsuario==u.idUsuario&&"CREADOS"==d.estado?"bg-creados":a.idUsuario==u.idUsuario&&"SOLUCIONADOS"==d.estado?"bg-solucionados":a.idUsuario==u.idUsuario&&"ACUMULADOS"==d.estado?"bg-acumulados":"bg-default"]]),onClick:e=>u.verDetalles(a)},[i("td",xs,[s(p,{class:"w-4 h-4 mx-2"}),i("p",ps,l(a.nombre),1)]),"CREADOS"===d.estado?(o(),e("td",gs,l(a.creados>0?a.creados:"*"),1)):t("",!0),"SOLUCIONADOS"===d.estado?(o(),e("td",{key:1,class:x(["w-24 py-1.5",a.solucionados>0?"text-green-500 text-sm":"text-red-500 text-sm"])},l(a.solucionados>0?a.solucionados:"*"),3)):t("",!0),"ACUMULADOS"===d.estado?(o(),e("td",{key:2,class:x(["w-24 py-1.5 text-sm rounded-r-lg",a.acumulados>0?"text-yellow-500 text-sm":"text-green-400 text-sm"])},l(a.acumulados>0?a.acumulados:"-"),3)):t("",!0)],10,ms)))),128))])])])):t("",!0)]),u.visible?(o(),e("div",hs,[i("div",bs,[s(g,{onClick:r[1]||(r[1]=a=>u.visible=!u.visible),class:"w-7 h-7 text-red-300 cursor-pointer z-50 absolute top-0 right-0"})]),(o(!0),e(c,null,S(u.incidencias,((a,s)=>(o(),e("div",{key:s,class:x([["CREADOS"===d.estado||"SOLUCIONADOS"===d.estado&&"SOLUCIONADO"===a.status||"ACUMULADOS"===d.estado&&"PENDIENTE"===a.status?"":"hidden"],"w-full p-1 item redondes fr ic js"])},[i("div",{class:x(["w-4 h-4 rounded-full flex-none mr-1",{"bg-red-500":"PENDIENTE"===a.status,"bg-green-500":"SOLUCIONADO"===a.status}])},null,2),i("h1",vs,l(a.seccion),1),ys,i("h1",ws,l(a.subseccion),1),Ms,i("h1",Cs,l(a.incidencia),1)],2)))),128))])):t("",!0)],64)};const ks={name:"Trmpmc",components:{Marcadores:Sa,GraficoCircularCss:Me,GraficoBarrasCss:Ee,Graficotest:Te,Rankings:_e,Iconos:J,GraficoBarrasCssSkeleton:os,RankingsUsuariosMc:ns},props:{},setup(){const a=A().state,e=A().dispatch,s=U();j((()=>{p("","","cargar"),g(),h(),b(),v(),y()}));const o=O((()=>a.skeleton)),t=O((()=>a.arrayGrafica)),i=O((()=>a.arraySecciones.sort(((a,e)=>e.solucionados-a.solucionados)))),n=O((()=>a.datosMC)),l=m([]),r=m({fechaInicio:"",fechaFin:""}),c=m(""),d=m(""),u=m([]),f=m([]),x=m([]),p=(a,e,s)=>{const o=R(E(new Date,{days:5}),"yyyy-MM-dd"),t=R(new Date,"yyyy-MM-dd");if(!localStorage.getItem("fechas"))return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),r.value.fechaInicio=o,void(r.value.fechaFin=t);if(localStorage.getItem("fechas")){const i=JSON.parse(localStorage.getItem("fechas"));if("cargar"==s&&i.fechaInicio&&i.fechaFin)return r.value.fechaInicio=i.fechaInicio,void(r.value.fechaFin=i.fechaFin);if("actualizar"==s&&i.fechaInicio&&i.fechaFin)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:a,fechaFin:e})),r.value.fechaInicio=a,void(r.value.fechaFin=e);if("cargar"==s||"actualizar"==s)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),r.value.fechaInicio=o,void(r.value.fechaFin=t)}},g=async()=>{c.value=R(new Date(Math.round(r.value.fechaInicio.slice(0,4)),Math.round(r.value.fechaInicio.slice(5,7))-1,Math.round(r.value.fechaInicio.slice(8,10))),"dd MMMM"),d.value=R(new Date(Math.round(r.value.fechaFin.slice(0,4)),Math.round(r.value.fechaFin.slice(5,7))-1,Math.round(r.value.fechaFin.slice(8,10))),"dd MMMM"),a.skeleton.barrasCreadasVSSolucionadas=!0,a.skeleton.marcadores=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:r.value.fechaInicio,fechaFin:r.value.fechaFin,apartado:"ReporteRanking",accion:"incidenciasSecciones"},i=await e("peticion",t);if(i.response){const e=i.data.data;i.data.destino[0]?a.datosMC.destino=i.data.destino[0].destino:a.datosMC.destino="",a.datosMC.creadas=e.global.creadosGlobales,a.datosMC.enProceso=e.global.pendientesGlobales,a.datosMC.finalizado=e.global.solucionadosGlobales,a.datosMC.acumulado=e.global.acumuladoGlobales,a.datosMC.mediaHoras=e.global.mediaHoras.toFixed(2),a.datosMC.ratioCredas=e.global.ratioCredas.toFixed(2),a.datosMC.ratioFinalizadas=e.global.ratioFinalizadas.toFixed(2),a.datosMC.porcentajeSolucionado=e.global.creadosGlobales>0?Math.round(100/e.global.creadosGlobales*e.global.solucionadosGlobales):0,a.arraySecciones=i.data.data.secciones?i.data.data.secciones:[],a.skeleton.barrasCreadasVSSolucionadas=!1,a.skeleton.marcadores=!1;const s=[];e.secciones.forEach((a=>{a.incidencias.length&&a.incidencias.forEach((a=>{if(s.length){const e=s.findIndex((e=>e.idUsuario==a.responsable));if(-1==e)return void s.push({idUsuario:a.responsable,nombre:a.arrayResponsable?a.arrayResponsable.nombre+" "+a.arrayResponsable.apellido:"SIN ASIGNAR",creados:1,solucionados:"SOLUCIONADO"===a.status?1:0,acumulados:"PENDIENTE"===a.status?1:0,incidencias:[a]});if(e>-1)return s[e].creados=s[e].creados+1,s[e].solucionados="SOLUCIONADO"==a.status?s[e].solucionados+1:s[e].solucionados,s[e].acumulados="PENDIENTE"==a.status?s[e].acumulados+1:s[e].acumulados,void s[e].incidencias.push(a)}s.length||s.push({idUsuario:a.responsable,nombre:a.arrayResponsable?a.arrayResponsable.nombre+" "+a.arrayResponsable.apellido:"SIN ASIGNAR",creados:1,solucionados:"SOLUCIONADO"===a.status?1:0,acumulados:"PENDIENTE"===a.status?1:0,incidencias:[a]})})),a.incidenciasGenerales.length&&a.incidenciasGenerales.forEach((a=>{if(s.length){const e=s.findIndex((e=>e.idUsuario==a.responsable));if(-1==e)return void s.push({idUsuario:a.responsable,nombre:a.arrayResponsable?a.arrayResponsable.nombre+" "+a.arrayResponsable.apellido:"SIN ASIGNAR",creados:1,solucionados:"SOLUCIONADO"===a.status?1:0,acumulados:"PENDIENTE"===a.status?1:0,incidencias:[a]});if(e>-1)return s[e].creados=s[e].creados+1,s[e].solucionados="SOLUCIONADO"==a.status?s[e].solucionados+1:s[e].solucionados,s[e].acumulados="PENDIENTE"==a.status?s[e].acumulados+1:s[e].acumulados,void s[e].incidencias.push(a)}s.length||s.push({idUsuario:a.responsable,nombre:a.arrayResponsable?a.arrayResponsable.nombre+" "+a.arrayResponsable.apellido:"SIN ASIGNAR",creados:1,solucionados:"SOLUCIONADO"==a.status?1:0,acumulados:"PENDIENTE"==a.status?1:0,incidencias:[a]})}))})),u.value=s,x.value=s,f.value=s}},h=async()=>{a.skeleton.grafica=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:r.value.fechaInicio,fechaFin:r.value.fechaFin,apartado:"ReporteRanking",accion:"graficaIncidencias"},i=await e("peticion",t);if(i.response){const e=i.data.data;a.arrayGrafica=e.data,a.skeleton.grafica=!1}},b=async()=>{a.skeleton.ranking=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:r.value.fechaInicio,fechaFin:r.value.fechaFin,apartado:"ReporteRanking",accion:"destinosIncidencias"},i=await e("peticion",t);if(i.response){const e=i.data.data.creados;e&&(e.sort(((a,e)=>e.total-a.total)),a.datosMC.rankingIncidenciasCreadas=e,e.forEach(((e,s)=>{e.idDestino==o&&(a.datosMC.rankingCreadas=s+1)})));const s=[];e&&(e.forEach((a=>{s.push({destino:a.destino,total:a.ratio.toFixed(3),destinoActual:a.destinoActual})})),s.sort(((a,e)=>e.total-a.total))),a.datosMC.rankingIncidenciasCreadasRatio=s;const t=i.data.data.solucionados;t&&(t.sort(((a,e)=>e.total-a.total)),a.datosMC.rankingIncidenciasFinalizada=t,t.forEach(((e,s)=>{e.idDestino==o&&(a.datosMC.rankingFinalizado=s+1)})));const n=[];if(t&&(t.forEach((a=>{n.push({destino:a.destino,total:a.ratio.toFixed(3),destinoActual:a.destinoActual})})),n.sort(((a,e)=>e.total-a.total))),a.datosMC.rankingIncidenciasFinalizadaRatio=n,i.data.data.creados&&i.data.data.solucionados){const e=[];i.data.data.creados.forEach(((a,s)=>{let t=0,n=a.total,l=0;i.data.data.solucionados.forEach(((e,s)=>{e.idDestino==a.idDestino&&(t=e.total)})),l=100/n*t>0?100/n*t:0,e.push({idDestino:a.idDestino,destino:a.destino,total:Math.trunc(l),destinoActual:a.idDestino==o})})),e.sort(((a,e)=>e.total-a.total)),a.datosMC.rankingEficiencia=e}const l=i.data.data.pendientes;l&&(l.sort(((a,e)=>a.total-e.total)),a.datosMC.rankingIncidenciasAcumulado=l,l.forEach(((e,s)=>{e.idDestino==o&&(a.datosMC.rankingAcumulado=s+1)})));const r=[];l&&(l.forEach((a=>{r.push({destino:a.destino,total:a.ratio.toFixed(3),destinoActual:a.destinoActual})})),r.sort(((a,e)=>e.total-a.total))),a.datosMC.rankingIncidenciasAcumuladoRatio=r;const c=i.data.data.mcmpCreados;c&&(c.sort(((a,e)=>a.total-e.total)),a.datosMC.rankingmcmpCreados=c),a.skeleton.ranking=!1}},v=async()=>{a.skeleton.barrasCreados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:r.value.fechaInicio,fechaFin:r.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMC",status:"TODOS"},i=await e("peticion",t);if(i.response){const e=i.data.data;a.datosMC.mcCreados=e.global.mcGlobal,a.datosMC.mpCreados=e.global.mpGlobal,a.datosMC.mcmpCreados=e.secciones.sort(((a,e)=>e.mc-a.mc)),a.skeleton.barrasCreados=!1}},y=async()=>{a.skeleton.barrasSolucionados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:r.value.fechaInicio,fechaFin:r.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMC",status:"SOLUCIONADO"},i=await e("peticion",t);if(i.response){const e=i.data.data;a.datosMC.mcFinalizado=e.global.mcGlobal,a.datosMC.mpFinalizado=e.global.mpGlobal,a.datosMC.mcmpFinalizado=e.secciones.sort(((a,e)=>e.mc-a.mc)),a.skeleton.barrasSolucionados=!1}};return{fechas:r,fechaA:c,fechaB:d,datosMC:n,skeleton:o,aplicar:g,graficar:h,mcmpCreados:v,mcmpFinalizados:y,rankingGlobal:b,arrayGrafica:t,arraySecciones:i,arrayRankingCreadas:l,router:s,store:a,comprobarFechas:p,arrayUsuariosCreados:u,arrayUsuariosSolucionados:f,arrayUsuariosAcumulados:x}}};d("data-v-67720871");const Ss={class:"p-2 md:p-6"},Ps={class:"text-2xl font-semibold text-gray-700 pb-4 text-center uppercase"},zs=r(" TR Incidencias "),Is={class:"font-bold"},Ds={class:"w-full flex flex-row items-center justify-center"},Fs={class:"bg-white flex items-center justify-start rounded-xl"},As={class:"p-3"},Us=i("h1",{class:"text-xxs font-semibold"},"Día Inicial",-1),js={class:"p-3"},Os=i("h1",{class:"text-xxs font-semibold"},"Día Final",-1),Rs={class:"p-3"},Es={class:"w-full my-4 flex flex-col items-center justify-start"},Gs={class:"flex flex-col items-center justify-start w-full md:w-7/12 bg-white shadow-sm mt-4 flex-wrap rounded-lg pb-10"},Ns=i("h1",{class:"mt-4 text-gray-700 font-semibold text-2xl uppercase leading-none"}," Incidencias ",-1),qs={class:"text-gray-500 text-xxs leading-none"},Ts=r(" Del "),Bs={class:"font-bold"},Ls=r(" al "),Vs={class:"font-bold"},Hs={key:0,class:"w-full h-80 p-6"},_s=[i("div",{class:"bg-gray-200 animate-pulse w-full h-full rounded-lg"},null,-1)],Js=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," Solucionadas VS Creadas ",-1),$s={class:"text-gray-500 text-xxs leading-none mb-4"},Xs=r(" Del "),Ks={class:"font-bold"},Zs=r(" al "),Ws={class:"font-bold"},Ys={class:"w-full flex flex-row items-center justify-around flex-wrap"},Qs={class:"flex flex-col font-bold"},ao=i("h2",{class:"text-sm text-left leading-none creadas mb-1"},"Creadas",-1),eo={class:"text-4xl text-left leading-none mb-3 text-gray-700"},so=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," Solucionadas ",-1),oo={class:"text-3xl text-left leading-none mb-3 text-gray-700"},to=i("h2",{class:"text-sm text-left leading-none acumulado mb-1"}," Acumulado ",-1),io={class:"text-2xl text-left leading-none mb-3 text-gray-700"},no={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible"},lo=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," Incidencias creadas vs Preventivos creados ",-1),ro={class:"text-gray-500 text-xxs leading-none mb-4"},co=r(" Del "),uo={class:"font-bold"},fo=r(" al "),mo={class:"font-bold"},xo={class:"w-full flex flex-row items-center justify-around flex-wrap"},po={class:"w-full md:w-auto p-3 flex flex-row items-start justify-around overflow-x-auto md:overflow-x-visible"},go={class:"flex flex-col font-bold"},ho=i("h2",{class:"text-sm text-right leading-none creadas mb-1"}," MC Creados ",-1),bo={class:"text-4xl text-right leading-none mb-3 text-gray-700"},vo=i("h2",{class:"text-sm text-right leading-none mp2 mb-1"},"MP Creadas",-1),yo={class:"text-4xl text-right leading-none mb-3 text-gray-700"},wo=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," Incidencias solucionadas vs Preventivos solucionados ",-1),Mo={class:"text-gray-500 text-xxs leading-none mb-4"},Co=r(" Del "),ko={class:"font-bold"},So=r(" al "),Po={class:"font-bold"},zo={class:"w-full flex flex-row items-center justify-around flex-wrap"},Io={class:"flex flex-col font-bold"},Do=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," MC Finalizados ",-1),Fo={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Ao=i("h2",{class:"text-sm text-left leading-none mp1 mb-1"}," MP Finalizados ",-1),Uo={class:"text-4xl text-left leading-none mb-3 text-gray-700"},jo={class:"w-full md:w-auto p-3 flex flex-row items-start justify-around overflow-x-auto md:overflow-x-visible"},Oo=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," Rankings américa ",-1),Ro={class:"text-gray-500 text-xxs leading-none mb-4"},Eo=r(" Del "),Go={class:"font-bold"},No=r(" al "),qo={class:"font-bold"},To={class:"w-full flex flex-wrap flex-row items-center justify-around px-8 pt-6"},Bo={class:"w-full flex flex-row flex-wrap items-center justify-start px-8 pt-6"},Lo=i("div",{class:"mx-2"},null,-1),Vo=i("div",{class:"mx-2"},null,-1),Ho={class:"max-w-max flex flex-col md:flex-row justify-center items-center relative mt-6"};u(),ks.render=function(n,r,d,u,f,m){const x=a("Iconos"),p=a("Marcadores"),g=a("Graficotest"),h=a("GraficoCircularCss"),b=a("GraficoBarrasCssSkeleton"),v=a("GraficoBarrasCss"),y=a("Rankings"),w=a("RankingsUsuariosMc");return o(),e("div",Ss,[i("h1",Ps,[zs,i("span",Is,l(u.datosMC.destino),1)]),i("div",Ds,[i("div",Fs,[i("div",As,[Us,G(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[0]||(r[0]=a=>u.fechas.fechaInicio=a),onChange:r[1]||(r[1]=a=>u.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[N,u.fechas.fechaInicio]])]),s(x,{icono:"arrow-right",class:"w-4"}),i("div",js,[Os,G(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[2]||(r[2]=a=>u.fechas.fechaFin=a),onChange:r[3]||(r[3]=a=>u.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[N,u.fechas.fechaFin]])]),i("div",Rs,[i("button",{class:"bg-purple-50 text-purple-500 py-1 px-2 rounded-lg text-sm border border-purple-400",onClick:r[4]||(r[4]=a=>{u.aplicar(),u.graficar(),u.rankingGlobal(),u.mcmpCreados(),u.mcmpFinalizados()})}," Aplicar ")])])]),i("div",Es,[s(p,{creadas:u.datosMC.creadas,proceso:u.datosMC.enProceso,finalizado:u.datosMC.finalizado,acumulado:u.datosMC.acumulado,ranproceso:u.datosMC.rankingCreadas,ranacumulado:u.datosMC.rankingAcumulado,ranfinalizado:u.datosMC.rankingFinalizado,ratioCredas:u.datosMC.ratioCredas,ratioFinalizadas:u.datosMC.ratioFinalizadas,mediaHoras:u.datosMC.mediaHoras,visualizar:u.skeleton.marcadores},null,8,["creadas","proceso","finalizado","acumulado","ranproceso","ranacumulado","ranfinalizado","ratioCredas","ratioFinalizadas","mediaHoras","visualizar"]),i("div",Gs,[Ns,i("h1",qs,[Ts,i("span",Bs,l(u.fechaA),1),Ls,i("span",Vs,l(u.fechaB),1)]),u.skeleton.grafica?(o(),e("div",Hs,_s)):t("",!0),u.skeleton.grafica?t("",!0):(o(),q(g,{key:1,class:"mt-4 rounded-lg shadow-sm",arrayGrafica:u.arrayGrafica},null,8,["arrayGrafica"])),Js,i("h1",$s,[Xs,i("span",Ks,l(u.fechaA),1),Zs,i("span",Ws,l(u.fechaB),1)]),i("div",Ys,[i("div",Qs,[ao,i("h1",eo,l(u.datosMC.creadas),1),so,i("h1",oo,l(u.datosMC.finalizado),1),to,i("h1",io,l(u.datosMC.enProceso),1)]),s(h,{texto:"Finalizado",color:"#34d399",porcentaje:u.datosMC.porcentajeSolucionado,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["porcentaje","visualizar"]),i("div",no,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.arraySecciones,(a=>(o(),q(v,{key:a,seccion:a.seccion,creadas:a.creados,finalizadas:a.solucionados,color1:"#edf2f7",color2:"#34d399",vs:!1,visualizar:u.skeleton.barrasCreadasVSSolucionadas,onDblclick:e=>n.$router.push("/mc/"+u.router.params.idDestino+"/seccion/"+a.idSeccion)},null,8,["seccion","creadas","finalizadas","visualizar","onDblclick"])))),128))])]),lo,i("h1",ro,[co,i("span",uo,l(u.fechaA),1),fo,i("span",mo,l(u.fechaB),1)]),i("div",xo,[i("div",po,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMC.mcmpCreados,(a=>(o(),q(v,{key:a,seccion:a.seccion,creadas:a.mp+a.mc,finalizadas:a.mc,color1:"#86e5ff",color2:"#00c4fa",vs:!0,visualizar:u.skeleton.barrasCreados,onDblclick:e=>n.$router.push("/mc/"+u.router.params.idDestino+"/seccion/"+a.idSeccion)},null,8,["seccion","creadas","finalizadas","visualizar","onDblclick"])))),128))]),s(h,{texto:"MC CREADOS",color:"#00c4fa",color2:"#86e5ff",porcentaje:u.datosMC.mcCreados>0?Math.round(100/(u.datosMC.mcCreados+u.datosMC.mpCreados)*u.datosMC.mcCreados):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreados},null,8,["porcentaje","visualizar"]),i("div",go,[ho,i("h1",bo,l(u.datosMC.mcCreados),1),vo,i("h1",yo,l(u.datosMC.mpCreados),1)])]),wo,i("h1",Mo,[Co,i("span",ko,l(u.fechaA),1),So,i("span",Po,l(u.fechaB),1)]),i("div",zo,[i("div",Io,[Do,i("h1",Fo,l(u.datosMC.mcFinalizado),1),Ao,i("h1",Uo,l(u.datosMC.mpFinalizado),1)]),s(h,{texto:"MC Finalizados",color:"#34d399",color2:"#96ffd9",porcentaje:u.datosMC.mcFinalizado>0?Math.round(100/(u.datosMC.mcFinalizado+u.datosMC.mpFinalizado)*u.datosMC.mcFinalizado):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasSolucionados},null,8,["porcentaje","visualizar"]),i("div",jo,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasSolucionados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMC.mcmpFinalizado,(a=>(o(),q(v,{key:a,seccion:a.seccion,creadas:a.mc+a.mp,finalizadas:a.mc,color1:"#96ffd9",color2:"#34d399",vs:!0,visualizar:u.skeleton.barrasSolucionados,onDblclick:e=>n.$router.push("/mc/"+u.router.params.idDestino+"/seccion/"+a.idSeccion)},null,8,["seccion","creadas","finalizadas","visualizar","onDblclick"])))),128))])]),Oo,i("h1",Ro,[Eo,i("span",Go,l(u.fechaA),1),No,i("span",qo,l(u.fechaB),1)]),i("div",To,[s(y,{nombre:"Más Incidencias Creadas",color:"#00c4fa",menosAmas:!1,destinos:u.datosMC.rankingIncidenciasCreadas,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Más Incidencias Solucionadas",color:"#34d399",menosAmas:!1,destinos:u.datosMC.rankingIncidenciasFinalizada,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Eficiencia de Atención",color:"#34d399",simbolo:"%",menosAmas:!1,destinos:u.datosMC.rankingEficiencia,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Menos Incidencias Acumuladas",color:"#563bff",menosAmas:!0,destinos:u.datosMC.rankingIncidenciasAcumulado,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Menos MC vs MP Creados",color:"#fbbf24",simbolo:"%",menosAmas:!0,destinos:u.datosMC.rankingmcmpCreados,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"])]),i("div",Bo,[s(y,{nombre:"Más Incidencias Creadas Ratio Hab.",color:"#00c4fa",menosAmas:!1,destinos:u.datosMC.rankingIncidenciasCreadasRatio,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),Lo,s(y,{nombre:"Más Incidencias Solucionadas Ratio Hab.",color:"#34d399",menosAmas:!1,destinos:u.datosMC.rankingIncidenciasFinalizadaRatio,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),Vo,s(y,{nombre:"Menos Incidencias Acumuladas Ratio Hab.",color:"#563bff",menosAmas:!0,destinos:u.datosMC.rankingIncidenciasAcumuladoRatio,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"])]),i("div",Ho,[s(w,{array:u.arrayUsuariosCreados,titulo:"Creados",estado:"CREADOS"},null,8,["array"]),s(w,{array:u.arrayUsuariosSolucionados,titulo:"Solucionados",estado:"SOLUCIONADOS"},null,8,["array"]),s(w,{array:u.arrayUsuariosAcumulados,titulo:"Acumulados",estado:"ACUMULADOS"},null,8,["array"])])])])])},ks.__scopeId="data-v-67720871";const _o={name:"Rankings",props:{visualizar:{type:Boolean,default:!1},key:{type:Number},nombre:{type:String,required:!1},menosAmas:{type:Boolean,required:!1},color:{type:String,required:!1,default:"#ffeab6"},simbolo:{type:String,required:!1,default:""},posicion:{type:Number,default:1},usuarios:{type:Object,default:[]}},setup:()=>({})},Jo=()=>{f((a=>({"31c19a9e":a.color})))},$o=_o.setup;_o.setup=$o?(a,e)=>(Jo(),$o(a,e)):Jo;const Xo=_o;d("data-v-e264609c");const Ko={key:0,class:"flex flex-col items-start justify-center w-56"},Zo=i("div",{class:"text-center w-full mb-2 text-xs uppercase font-bold"},[i("h1",{class:"bg-gray-200 text-transparent rounded-sm"},"xxxxxxxxxxxxxxx")],-1),Wo=[n('<div class="w-12" data-v-e264609c><h1 class="bg-gray-200 text-transparent" data-v-e264609c>xxx</h1></div><div class="w-12" data-v-e264609c><h1 class="bg-gray-200 text-transparent" data-v-e264609c>xxx</h1></div><div class="w-12" data-v-e264609c><h1 class="bg-gray-200 text-transparent" data-v-e264609c>xxx</h1></div>',3)],Yo={key:1,class:"flex flex-col items-start justify-center w-56"},Qo={class:"text-center w-full mb-2 text-xs uppercase font-bold"},at={class:"w-16"},et={class:"w-44"},st={class:"w-full flex-none"},ot={class:"w-16"};u(),Xo.render=function(a,s,n,r,d,u){return o(),e(c,null,[n.visualizar?(o(),e("div",Ko,[Zo,(o(),e(c,null,S(8,(a=>i("div",{key:a,class:"flex flex-row items-center justify-between w-full text-center text-sm rounded p-1 mb-1 bg-gray-200 animate-pulse"},Wo))),64))])):t("",!0),n.visualizar?t("",!0):(o(),e("div",Yo,[i("div",Qo,[i("h1",null,l(n.nombre),1)]),(o(!0),e(c,null,S(n.usuarios,((a,s)=>(o(),e("div",{key:s,class:x([[a.usuarioActual?"destinoactual":"bg-base"],"flex flex-row items-center justify-between w-full text-center text-sm rounded p-1 mb-1"])},[i("div",at,[i("h1",null,l(s+1),1)]),i("div",et,[i("h1",st,l(a.nombre),1)]),i("div",ot,[i("h1",null,l(a.total)+" "+l(n.simbolo),1)])],2)))),128))]))],64)},Xo.__scopeId="data-v-e264609c";const tt={name:"Trmpmc",components:{Marcadores:Sa,GraficoCircularCss:Me,GraficoBarrasCss:Ee,Graficotest:Te,Rankings:_e,RankingsUsuarios:Xo,Iconos:J,GraficoBarrasCssSkeleton:os},props:{},setup(){const a=A().state,e=A().dispatch,s=U();j((()=>{f("","","cargar"),x(),p(),g(),h(),b(),v(),y()}));const o=O((()=>a.skeleton)),t=O((()=>a.arrayGrafica)),i=O((()=>a.arraySecciones.sort(((a,e)=>e.solucionados-a.solucionados)))),n=O((()=>a.datosMC)),l=O((()=>a.seccion)),r=m([]),c=m({fechaInicio:"",fechaFin:""}),d=m(""),u=m(""),f=(a,e,s)=>{const o=R(E(new Date,{days:5}),"yyyy-MM-dd"),t=R(new Date,"yyyy-MM-dd");if(!localStorage.getItem("fechas"))return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),c.value.fechaInicio=o,void(c.value.fechaFin=t);if(localStorage.getItem("fechas")){const i=JSON.parse(localStorage.getItem("fechas"));if("cargar"==s&&i.fechaInicio&&i.fechaFin)return c.value.fechaInicio=i.fechaInicio,void(c.value.fechaFin=i.fechaFin);if("actualizar"==s&&i.fechaInicio&&i.fechaFin)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:a,fechaFin:e})),c.value.fechaInicio=a,void(c.value.fechaFin=e);if("cargar"==s||"actualizar"==s)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),c.value.fechaInicio=o,void(c.value.fechaFin=t)}},x=async()=>{d.value=R(new Date(Math.round(c.value.fechaInicio.slice(0,4)),Math.round(c.value.fechaInicio.slice(5,7))-1,Math.round(c.value.fechaInicio.slice(8,10))),"dd MMMM"),u.value=R(new Date(Math.round(c.value.fechaFin.slice(0,4)),Math.round(c.value.fechaFin.slice(5,7))-1,Math.round(c.value.fechaFin.slice(8,10))),"dd MMMM"),a.skeleton.barrasCreadasVSSolucionadas=!0,a.skeleton.marcadores=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:c.value.fechaInicio,fechaFin:c.value.fechaFin,apartado:"ReporteRanking",idSeccion:s.params.idSeccion,accion:"incidenciasSubsecciones"},i=await e("peticion",t);if(i.response){const e=i.data.data;i.data.destino[0]?a.datosMC.destino=i.data.destino[0].destino:a.datosMC.destino="",a.datosMC.creadas=e.global.creadosGlobales,a.datosMC.enProceso=e.global.pendientesGlobales,a.datosMC.finalizado=e.global.solucionadosGlobales,a.datosMC.acumulado=e.global.acumuladoGlobales,a.datosMC.mediaHoras=e.global.mediaHoras.toFixed(2),a.datosMC.ratioCredas=e.global.ratioCredas.toFixed(2),a.datosMC.ratioFinalizadas=e.global.ratioFinalizadas.toFixed(2),a.datosMC.porcentajeSolucionado=e.global.creadosGlobales>0?Math.round(100/e.global.creadosGlobales*e.global.solucionadosGlobales):0,a.arraySecciones=i.data.data.secciones?i.data.data.secciones:[],a.skeleton.barrasCreadasVSSolucionadas=!1,a.skeleton.marcadores=!1}},p=async()=>{a.skeleton.grafica=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:c.value.fechaInicio,fechaFin:c.value.fechaFin,apartado:"ReporteRanking",accion:"graficaIncidenciasSubsecciones",idSeccion:s.params.idSeccion},i=await e("peticion",t);if(i.response){const e=i.data.data;a.arrayGrafica=e.data,a.skeleton.grafica=!1}},g=async()=>{a.skeleton.ranking=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:c.value.fechaInicio,fechaFin:c.value.fechaFin,apartado:"ReporteRanking",accion:"destinosIncidenciasSubsecciones",idSeccion:s.params.idSeccion},i=await e("peticion",t);if(i.response){const e=i.data.data.creados;e&&(e.sort(((a,e)=>e.total-a.total)),a.datosMC.rankingIncidenciasCreadas=e,e.forEach(((e,s)=>{e.idDestino==o&&(a.datosMC.rankingCreadas=s+1)})));const s=i.data.data.solucionados;s&&(s.sort(((a,e)=>e.total-a.total)),a.datosMC.rankingIncidenciasFinalizada=s,s.forEach(((e,s)=>{e.idDestino==o&&(a.datosMC.rankingFinalizado=s+1)})));const t=i.data.data.pendientes;t&&(t.sort(((a,e)=>a.total-e.total)),a.datosMC.rankingIncidenciasAcumulado=t,t.forEach(((e,s)=>{e.idDestino==o&&(a.datosMC.rankingAcumulado=s+1)})));const n=i.data.data.mcmpCreados;n&&(n.sort(((a,e)=>a.total-e.total)),a.datosMC.rankingmcmpCreados=n),a.skeleton.ranking=!1}},h=async()=>{a.skeleton.barrasCreados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:c.value.fechaInicio,fechaFin:c.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMCSubsecciones",status:"TODOS",idSeccion:s.params.idSeccion},i=await e("peticion",t);if(i.response){const e=i.data.data;a.datosMC.mcCreados=e.global.mcGlobal,a.datosMC.mpCreados=e.global.mpGlobal,a.datosMC.mcmpCreados=e.secciones.sort(((a,e)=>e.mc-a.mc)),a.skeleton.barrasCreados=!1}},b=async()=>{a.skeleton.barrasSolucionados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:c.value.fechaInicio,fechaFin:c.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMCSubsecciones",status:"SOLUCIONADO",idSeccion:s.params.idSeccion},i=await e("peticion",t);if(i.response){const e=i.data.data;a.datosMC.mcFinalizado=e.global.mcGlobal,a.datosMC.mpFinalizado=e.global.mpGlobal,a.datosMC.mcmpFinalizado=e.secciones.sort(((a,e)=>e.mc-a.mc)),a.skeleton.barrasSolucionados=!1}},v=async()=>{a.skeleton.rankingUsuarios=!0;let o=0;a.datosMC.creadosUsuarios=[],a.datosMC.solucionadosUsuarios=[],a.datosMC.acumuladosUsuarios=[],0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:c.value.fechaInicio,fechaFin:c.value.fechaFin,apartado:"ReporteRanking",accion:"incidenciasUsuarios",idSeccion:s.params.idSeccion},i=await e("peticion",t);if(i.response){i.data.data.forEach((e=>{e.incidenciasCreadas>0&&a.datosMC.creadosUsuarios.push({idUsuario:e.idUsuario,nombre:e.nombre+" "+e.apellido,total:e.incidenciasCreadas,usuarioActual:!(!localStorage.getItem("usuario")||localStorage.getItem("usuario")!=e.idUsuario)}),e.incidenciasSolucionadas>0&&a.datosMC.solucionadosUsuarios.push({idUsuario:e.idUsuario,nombre:e.nombre+" "+e.apellido,total:e.incidenciasSolucionadas,usuarioActual:!(!localStorage.getItem("usuario")||localStorage.getItem("usuario")!=e.idUsuario)}),e.incidenciasPendientes>0&&a.datosMC.acumuladosUsuarios.push({idUsuario:e.idUsuario,nombre:e.nombre+" "+e.apellido,total:e.incidenciasPendientes,usuarioActual:!(!localStorage.getItem("usuario")||localStorage.getItem("usuario")!=e.idUsuario)})})),a.datosMC.acumuladosUsuarios.sort(((a,e)=>e.total-a.total)),a.datosMC.creadosUsuarios.sort(((a,e)=>e.total-a.total)),a.datosMC.solucionadosUsuarios.sort(((a,e)=>e.total-a.total)),a.skeleton.rankingUsuarios=!1}i.response||(a.skeleton.rankingUsuarios=!1)},y=async()=>{let o=0;a.datosMC.creadosUsuarios=[],a.datosMC.solucionadosUsuarios=[],a.datosMC.acumuladosUsuarios=[],0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,apartado:"ReporteRanking",accion:"detalleSeccion",idSeccion:s.params.idSeccion},i=await e("peticion",t);if(i.response){const e=i.data.data[0];a.seccion=e.seccion}};return{fechas:c,fechaA:d,fechaB:u,datosMC:n,skeleton:o,aplicar:x,graficar:p,mcmpCreados:h,mcmpFinalizados:b,rankingGlobal:g,incidenciasUsuarios:v,arrayGrafica:t,arraySecciones:i,arrayRankingCreadas:r,seccion:l,comprobarFechas:f}}};d("data-v-5e26dba2");const it={class:"p-2 md:p-6"},nt={class:"text-2xl font-semibold text-gray-700 pb-4 text-center uppercase"},lt=r(" TR Incidencias "),rt={class:"font-bold"},ct={class:"w-full flex flex-row items-center justify-center"},dt={class:"bg-white flex items-center justify-start rounded-xl"},ut={class:"p-3"},ft=i("h1",{class:"text-xxs font-semibold"},"Día Inicial",-1),mt={class:"p-3"},xt=i("h1",{class:"text-xxs font-semibold"},"Día Final",-1),pt={class:"p-3"},gt={class:"w-full my-4 flex flex-col items-center justify-start"},ht={class:"flex flex-col items-center justify-start w-full md:w-7/12 bg-white shadow-sm mt-4 flex-wrap rounded-lg pb-10"},bt={class:"mt-4 text-gray-700 font-semibold text-2xl uppercase leading-none"},vt={class:"text-gray-500 text-xxs leading-none"},yt=r(" Del "),wt={class:"font-bold"},Mt=r(" al "),Ct={class:"font-bold"},kt={key:0,class:"w-full h-80 p-6"},St=[i("div",{class:"bg-gray-200 animate-pulse w-full h-full rounded-lg"},null,-1)],Pt={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},zt={class:"text-gray-500 text-xxs leading-none mb-4"},It=r(" Del "),Dt={class:"font-bold"},Ft=r(" al "),At={class:"font-bold"},Ut={class:"w-full flex flex-row items-center justify-around flex-wrap"},jt={class:"flex flex-col font-bold"},Ot=i("h2",{class:"text-sm text-left leading-none creadas mb-1"},"Creadas",-1),Rt={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Et=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," Solucionadas ",-1),Gt={class:"text-3xl text-left leading-none mb-3 text-gray-700"},Nt=i("h2",{class:"text-sm text-left leading-none acumulado mb-1"}," Acumulado ",-1),qt={class:"text-2xl text-left leading-none mb-3 text-gray-700"},Tt={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible px-16"},Bt={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},Lt={class:"text-gray-500 text-xxs leading-none mb-4"},Vt=r(" Del "),Ht={class:"font-bold"},_t=r(" al "),Jt={class:"font-bold"},$t={class:"w-full flex flex-row items-center justify-around flex-wrap"},Xt={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible px-16"},Kt={class:"flex flex-col font-bold"},Zt=i("h2",{class:"text-sm text-right leading-none creadas mb-1"}," MC Creados ",-1),Wt={class:"text-4xl text-right leading-none mb-3 text-gray-700"},Yt=i("h2",{class:"text-sm text-right leading-none mp2 mb-1"},"MP Creadas",-1),Qt={class:"text-4xl text-right leading-none mb-3 text-gray-700"},ai={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},ei={class:"text-gray-500 text-xxs leading-none mb-4"},si=r(" Del "),oi={class:"font-bold"},ti=r(" al "),ii={class:"font-bold"},ni={class:"w-full flex flex-row items-center justify-around flex-wrap"},li={class:"flex flex-col font-bold"},ri=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," MC Finalizados ",-1),ci={class:"text-4xl text-left leading-none mb-3 text-gray-700"},di=i("h2",{class:"text-sm text-left leading-none mp1 mb-1"}," MP Finalizados ",-1),ui={class:"text-4xl text-left leading-none mb-3 text-gray-700"},fi={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible px-16"},mi={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},xi={class:"text-gray-500 text-xxs leading-none mb-4"},pi=r(" Del "),gi={class:"font-bold"},hi=r(" al "),bi={class:"font-bold"},vi={class:"w-full flex flex-wrap flex-row items-center justify-around px-8 pt-6"},yi={class:"mt-8 text-gray-700 font-semibold text-xl uppercase"},wi={class:"text-gray-500 text-xxs leading-none mb-4"},Mi=r(" Del "),Ci={class:"font-bold"},ki=r(" al "),Si={class:"font-bold"},Pi={class:"w-full flex flex-wrap flex-row items-start justify-around px-8 pt-6"};u(),tt.render=function(n,r,d,u,f,m){const x=a("Iconos"),p=a("Marcadores"),g=a("Graficotest"),h=a("GraficoCircularCss"),b=a("GraficoBarrasCssSkeleton"),v=a("GraficoBarrasCss"),y=a("Rankings"),w=a("RankingsUsuarios");return o(),e("div",it,[i("h1",nt,[lt,i("span",rt,l(u.datosMC.destino)+" "+l(u.seccion),1)]),i("div",ct,[i("div",dt,[i("div",ut,[ft,G(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[0]||(r[0]=a=>u.fechas.fechaInicio=a),onChange:r[1]||(r[1]=a=>u.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[N,u.fechas.fechaInicio]])]),s(x,{icono:"arrow-right",class:"w-4"}),i("div",mt,[xt,G(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[2]||(r[2]=a=>u.fechas.fechaFin=a),onChange:r[3]||(r[3]=a=>u.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[N,u.fechas.fechaFin]])]),i("div",pt,[i("button",{class:"bg-purple-50 text-purple-500 py-1 px-2 rounded-lg text-sm border border-purple-400",onClick:r[4]||(r[4]=a=>{u.aplicar(),u.graficar(),u.rankingGlobal(),u.mcmpCreados(),u.mcmpFinalizados(),u.incidenciasUsuarios()})}," Aplicar ")])])]),i("div",gt,[s(p,{creadas:u.datosMC.creadas,proceso:u.datosMC.enProceso,finalizado:u.datosMC.finalizado,acumulado:u.datosMC.acumulado,ranproceso:u.datosMC.rankingCreadas,ranacumulado:u.datosMC.rankingAcumulado,ranfinalizado:u.datosMC.rankingFinalizado,ratioCredas:u.datosMC.ratioCredas,ratioFinalizadas:u.datosMC.ratioFinalizadas,mediaHoras:u.datosMC.mediaHoras,visualizar:u.skeleton.marcadores},null,8,["creadas","proceso","finalizado","acumulado","ranproceso","ranacumulado","ranfinalizado","ratioCredas","ratioFinalizadas","mediaHoras","visualizar"]),i("div",ht,[i("h1",bt," Incidencias "+l(u.seccion),1),i("h1",vt,[yt,i("span",wt,l(u.fechaA),1),Mt,i("span",Ct,l(u.fechaB),1)]),u.skeleton.grafica?(o(),e("div",kt,St)):t("",!0),u.skeleton.grafica?t("",!0):(o(),q(g,{key:1,class:"mt-4 rounded-lg shadow-sm",arrayGrafica:u.arrayGrafica},null,8,["arrayGrafica"])),i("h1",Pt," Solucionadas VS Creadas "+l(u.seccion),1),i("h1",zt,[It,i("span",Dt,l(u.fechaA),1),Ft,i("span",At,l(u.fechaB),1)]),i("div",Ut,[i("div",jt,[Ot,i("h1",Rt,l(u.datosMC.creadas),1),Et,i("h1",Gt,l(u.datosMC.finalizado),1),Nt,i("h1",qt,l(u.datosMC.enProceso),1)]),s(h,{texto:"Finalizado",color:"#34d399",porcentaje:u.datosMC.porcentajeSolucionado,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["porcentaje","visualizar"]),i("div",Tt,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.arraySecciones,(a=>(o(),q(v,{key:a,seccion:a.subseccion,creadas:a.creados,finalizadas:a.solucionados,color1:"#edf2f7",color2:"#34d399",vs:!1,visualizar:u.skeleton.barrasCreadasVSSolucionadas,rotarTexto:!0},null,8,["seccion","creadas","finalizadas","visualizar"])))),128))])]),i("h1",Bt," Incidencias creadas vs Preventivos creados "+l(u.seccion),1),i("h1",Lt,[Vt,i("span",Ht,l(u.fechaA),1),_t,i("span",Jt,l(u.fechaB),1)]),i("div",$t,[i("div",Xt,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMC.mcmpCreados,(a=>(o(),q(v,{key:a,seccion:a.subseccion,creadas:a.mp+a.mc,finalizadas:a.mc,color1:"#86e5ff",color2:"#00c4fa",vs:!0,visualizar:u.skeleton.barrasCreados,rotarTexto:!0},null,8,["seccion","creadas","finalizadas","visualizar"])))),128))]),s(h,{texto:"MC CREADOS",color:"#00c4fa",color2:"#86e5ff",porcentaje:u.datosMC.mcCreados>0?Math.round(100/(u.datosMC.mcCreados+u.datosMC.mpCreados)*u.datosMC.mcCreados):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreados},null,8,["porcentaje","visualizar"]),i("div",Kt,[Zt,i("h1",Wt,l(u.datosMC.mcCreados),1),Yt,i("h1",Qt,l(u.datosMC.mpCreados),1)])]),i("h1",ai," Incidencias solucionadas vs Preventivos solucionados "+l(u.seccion),1),i("h1",ei,[si,i("span",oi,l(u.fechaA),1),ti,i("span",ii,l(u.fechaB),1)]),i("div",ni,[i("div",li,[ri,i("h1",ci,l(u.datosMC.mcFinalizado),1),di,i("h1",ui,l(u.datosMC.mpFinalizado),1)]),s(h,{texto:"MC Finalizados",color:"#34d399",color2:"#96ffd9",porcentaje:u.datosMC.mcFinalizado>0?Math.round(100/(u.datosMC.mcFinalizado+u.datosMC.mpFinalizado)*u.datosMC.mcFinalizado):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasSolucionados},null,8,["porcentaje","visualizar"]),i("div",fi,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasSolucionados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMC.mcmpFinalizado,(a=>(o(),q(v,{key:a,seccion:a.subseccion,creadas:a.mc+a.mp,finalizadas:a.mc,color1:"#96ffd9",color2:"#34d399",vs:!0,visualizar:u.skeleton.barrasSolucionados,rotarTexto:!0},null,8,["seccion","creadas","finalizadas","visualizar"])))),128))])]),i("h1",mi," Rankings américa "+l(u.seccion),1),i("h1",xi,[pi,i("span",gi,l(u.fechaA),1),hi,i("span",bi,l(u.fechaB),1)]),i("div",vi,[s(y,{nombre:"Más Incidencias Creadas",color:"#00c4fa",menosAmas:!1,destinos:u.datosMC.rankingIncidenciasCreadas,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Más Incidencias Solucionadas",color:"#34d399",menosAmas:!1,destinos:u.datosMC.rankingIncidenciasFinalizada,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Menos Incidencias Acumuladas",color:"#563bff",menosAmas:!0,destinos:u.datosMC.rankingIncidenciasAcumulado,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Menos MC vs MP Creados",color:"#fbbf24",simbolo:"%",menosAmas:!0,destinos:u.datosMC.rankingmcmpCreados,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"])]),i("h1",yi," Rankings Usuarios "+l(u.seccion),1),i("h1",wi,[Mi,i("span",Ci,l(u.fechaA),1),ki,i("span",Si,l(u.fechaB),1)]),i("div",Pi,[s(w,{nombre:"Creados por Usuarios",color:"#00c4fa",simbolo:"",menosAmas:!0,usuarios:u.datosMC.creadosUsuarios,visualizar:u.skeleton.rankingUsuarios},null,8,["usuarios","visualizar"]),s(w,{nombre:"Solucionados por Usuarios",color:"#34d399",simbolo:"",menosAmas:!0,usuarios:u.datosMC.solucionadosUsuarios,visualizar:u.skeleton.rankingUsuarios},null,8,["usuarios","visualizar"]),s(w,{nombre:"Acumulados por Usuarios",color:"#34d399",simbolo:"",menosAmas:!0,usuarios:u.datosMC.acumuladosUsuarios,visualizar:u.skeleton.rankingUsuarios},null,8,["usuarios","visualizar"])])])])])},tt.__scopeId="data-v-5e26dba2";const zi={components:{Iconos:J},props:{creadas:{type:Number,required:!0,default:0},ranproceso:{type:Number,required:!0,default:0},ranfinalizado:{type:Number,required:!0,default:0},proceso:{type:Number,required:!0,default:0},finalizado:{type:Number,required:!0,default:0},acumulado:{type:Number,required:!0,default:0},ranacumulado:{type:Number,required:!0,default:0},mediaHoras:{type:[String,Number],required:!0,default:0},ratioCredas:{type:[String,Number],required:!0,default:0},ratioFinalizadas:{type:[String,Number],required:!0,default:0},visible:{type:Boolean,required:!0}},setup:()=>({})},Ii={key:0,class:"animate-pulse py-4 flex flex-row flex-wrap items-center justify-evenly rounded-lg bg-white px-2 divide-x divide-gris-30 w-full md:w-7/12"},Di=[n('<div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div>',7)],Fi={key:1,class:"flex flex-row flex-wrap items-center justify-evenly rounded-lg bg-white px-2 divide-x divide-gris-30 w-full md:w-7/12"},Ai={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},Ui={class:"w-7 h-7 bg-blue-100 text-blue-400 rounded-full flex items-center justify-center"},ji={class:"text-3xl font-semibold"},Oi=i("h2",{class:"text-sm text-gray-500"},"OT Creadas",-1),Ri={class:"text-xxs leading-snug text-gray-500"},Ei=r(" Ratio "),Gi={class:"font-bold"},Ni={class:"text-xxs leading-snug text-gray-500"},qi=r(" Media t. "),Ti={class:"font-bold"},Bi={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},Li={class:"w-7 h-7 bg-yellow-100 text-yellow-400 rounded-full flex items-center justify-center"},Vi={class:"text-3xl font-semibold"},Hi=i("h2",{class:"text-sm text-gray-500"},"OT En proceso",-1),_i={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},Ji={class:"w-7 h-7 bg-green-100 text-green-400 rounded-full flex items-center justify-center"},$i={class:"text-3xl font-semibold"},Xi=i("h2",{class:"text-sm text-gray-500"},"OT Finalizadas",-1),Ki={class:"text-xxs leading-snug text-gray-500"},Zi=r(" Ratio "),Wi={class:"font-bold"},Yi={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},Qi={class:"w-7 h-7 bg-purple-100 text-purple-400 rounded-full flex items-center justify-center"},an={class:"text-3xl font-semibold"},en=i("h2",{class:"text-sm text-gray-500"},"OT Acumuladas",-1),sn=i("h2",{class:"text-xxs leading-none text-gray-500"},[r(" del "),i("span",{class:"font-bold"},"1 ENE 2021"),r(" a la fecha ")],-1),on={class:"w-36 h-36 flex flex-col items-center justify-center px-2"},tn={class:"w-16 h-16 rounded-full ring ring-yellow-100 bg-yellow-400 border-4 mb-2 border-yellow-200 flex flex-col items-center justify-center"},nn={class:"text-2xl leading-none text-white font-semibold"},ln=i("span",{class:"text-sm"},"/8",-1),rn=i("h2",{class:"text-xxs text-gray-500"},"Ranking America",-1),cn=i("h2",{class:"text-xxs leading-none uppercase text-gray-500 font-bold"}," OT MP Creadas ",-1),dn={class:"w-36 h-36 flex flex-col items-center justify-center px-2"},un={class:"w-16 h-16 rounded-full ring ring-green-100 bg-green-400 border-4 mb-2 border-green-200 flex flex-col items-center justify-center"},fn={class:"text-2xl leading-none text-white font-semibold"},mn=i("span",{class:"text-sm"},"/8",-1),xn=i("h2",{class:"text-xxs text-gray-500"},"Ranking America",-1),pn=i("h2",{class:"text-xxs leading-none uppercase text-gray-500 font-bold"}," OT MP Finalizadas ",-1),gn={class:"w-36 h-36 flex flex-col items-center justify-center px-2"},hn={class:"w-16 h-16 rounded-full ring ring-purple-100 bg-purple-400 border-4 mb-2 border-purple-200 flex flex-col items-center justify-center"},bn={class:"text-2xl leading-none text-white font-semibold"},vn=i("span",{class:"text-sm"},"/8",-1),yn=i("h2",{class:"text-xxs text-gray-500"},"Ranking America",-1),wn=i("h2",{class:"text-xxs leading-none uppercase text-gray-500 font-bold text-center"}," OT MP acumuladas ",-1);zi.render=function(n,d,u,f,m,x){const p=a("iconos");return o(),e(c,null,[u.visible?(o(),e("div",Ii,Di)):t("",!0),u.visible?t("",!0):(o(),e("div",Fi,[i("div",Ai,[i("div",Ui,[s(p,{icono:"plus",class:"w-4"})]),i("h1",ji,l(u.creadas),1),Oi,i("h2",Ri,[Ei,i("span",Gi,l(u.ratioCredas),1)]),i("h2",Ni,[qi,i("span",Ti,l(u.mediaHoras)+" H",1)])]),i("div",Bi,[i("div",Li,[s(p,{icono:"loader",class:"w-4"})]),i("h1",Vi,l(u.proceso),1),Hi]),i("div",_i,[i("div",Ji,[s(p,{icono:"check-square",class:"w-4"})]),i("h1",$i,l(u.finalizado),1),Xi,i("h2",Ki,[Zi,i("span",Wi,l(u.ratioFinalizadas),1)])]),i("div",Yi,[i("div",Qi,[s(p,{icono:"alert-triangle",class:"w-4"})]),i("h1",an,l(u.acumulado),1),en,sn]),i("div",on,[i("div",tn,[i("h1",nn,[r(l(u.ranproceso),1),ln])]),rn,cn]),i("div",dn,[i("div",un,[i("h1",fn,[r(l(u.ranfinalizado),1),mn])]),xn,pn]),i("div",gn,[i("div",hn,[i("h1",bn,[r(l(u.ranacumulado),1),vn])]),yn,wn])]))],64)};const Mn={props:{},setup:()=>({})},Cn={class:"flex flex-col w-full flex-wrap items-center justify-start"},kn=[n('<div class="w-60 h-8 bg-gray-200 animate-pulse mb-4 mt-6"></div><div class="w-100 h-16 rounded-lg bg-white animate-pulse mb-4 flex flex-row items-center justify-around"><div class="w-1/4 bg-gray-200 animate-pulse h-6"></div><div class="w-1/4 bg-gray-200 animate-pulse h-6"></div><div class="w-1/4 bg-gray-200 animate-pulse h-6"></div></div><div class="flex flex-row items-center justify-around w-full md:w-7/12 bg-white flex-wrap rounded-lg h-32 animate-pulse mb-4"><div class="w-16 h-16 rounded-full bg-gray-200 animate-pulse"></div><div class="w-16 h-16 rounded-full bg-gray-200 animate-pulse"></div><div class="w-16 h-16 rounded-full bg-gray-200 animate-pulse"></div><div class="w-16 h-16 rounded-full bg-gray-200 animate-pulse"></div><div class="w-16 h-16 rounded-full bg-gray-200 animate-pulse"></div><div class="w-16 h-16 rounded-full bg-gray-200 animate-pulse"></div><div class="w-16 h-16 rounded-full bg-gray-200 animate-pulse"></div></div><div class="flex flex-row p-6 items-center justify-around w-full md:w-7/12 bg-white flex-wrap rounded-lg animate-pulse"><div class="w-60 h-8 bg-gray-200 animate-pulse mb-4"></div><div class="w-full h-44 bg-gray-200 animate-pulse"></div></div>',4)];Mn.render=function(a,s,t,i,n,l){return o(),e("div",Cn,kn)};const Sn={components:{UserIcon:P,PlusCircleIcon:z,CheckCircleIcon:I,SunIcon:D,XCircleIcon:F},props:{array:{type:Object,default:[]},titulo:{type:String,default:"Titulo"},estado:{type:String,default:"CREADOS"}},setup(a){const e=m(!1),s=m([]),o=localStorage.getItem("usuario");return{verDetalles:a=>{s.value=a.preventivos,e.value=!0},visible:e,preventivos:s,idUsuario:o,ordenar:()=>{"CREADOS"===a.estado&&a.array.sort(((a,e)=>e.creados-a.creados)),"SOLUCIONADOS"===a.estado&&a.array.sort(((a,e)=>e.solucionados-a.solucionados)),"ACUMULADOS"===a.estado&&a.array.sort(((a,e)=>e.acumulados-a.acumulados))}}}},Pn={class:"w-100 flex flex-row m-2 justify-center items-center"},zn={key:0,class:"w-full mx-auto flex flex-row justify-center items-center"},In={class:"rounded"},Dn={class:"flex flex-row items-center mb-1"},Fn=i("th",{class:"w-52 md:w-72 px-2 flex flex-col items-center justify-center text-xs text-center cursor-pointer"}," Nombre del Usuario ",-1),An={class:"flex flex-col items-center"},Un=["onClick"],jn={class:"w-52 md:w-72 py-1.5 text-left text-xs md:text-sm uppercase rounded-l-lg flex flex-row items-center"},On={class:"font-normal truncate"},Rn={key:0,class:"w-24 py-1.5 text-sm"},En={key:0,class:"h-auto min-w-max ventana redondes fc ic js overflow-y-scroll absolute mx-auto px-1.5 pt-9 pb-5 top-0",style:{"max-height":"100%","max-width":"35rem"}},Gn={class:"w-100 px-16"},Nn={class:"mr-1 text-xs uppercase font-semibold"},qn=i("h1",{class:"mr-1 text-xs uppercase font-semibold"},"/",-1),Tn={class:"flex-none mr-1 text-xs uppercase font-semibold"},Bn=i("h1",{class:"mr-1 text-xs uppercase font-semibold"},"/",-1),Ln={class:"text-sm uppercase truncate max-w-xs"};Sn.render=function(n,r,d,u,f,m){const p=a("UserIcon"),g=a("XCircleIcon");return o(),e(c,null,[i("div",Pn,[d.array.length?(o(),e("div",zn,[i("table",In,[i("thead",null,[i("tr",Dn,[Fn,i("th",{class:"w-24 px-2 flex flex-col items-center justify-center text-xs text-center cursor-pointer",onClick:r[0]||(r[0]=a=>u.ordenar())},l(d.titulo),1)])]),i("tbody",An,[(o(!0),e(c,null,S(d.array,((a,n)=>(o(),e("tr",{key:n,class:x(["flex flex-row rounded-lg bg-base",[n%2==1?"estilo-2":"estilo-1",a.idUsuario==u.idUsuario&&"CREADOS"==d.estado?"bg-creados":a.idUsuario==u.idUsuario&&"SOLUCIONADOS"==d.estado?"bg-solucionados":a.idUsuario==u.idUsuario&&"ACUMULADOS"==d.estado?"bg-acumulados":"bg-default"]]),onClick:e=>u.verDetalles(a)},[i("td",jn,[s(p,{class:"w-4 h-4 mx-2"}),i("p",On,l(a.nombre),1)]),"CREADOS"===d.estado?(o(),e("td",Rn,l(a.creados>0?a.creados:"*"),1)):t("",!0),"SOLUCIONADOS"===d.estado?(o(),e("td",{key:1,class:x(["w-24 py-1.5",a.solucionados>0?"text-green-500 text-sm":"text-red-500 text-sm"])},l(a.solucionados>0?a.solucionados:"*"),3)):t("",!0),"ACUMULADOS"===d.estado?(o(),e("td",{key:2,class:x(["w-24 py-1.5 text-sm rounded-r-lg",a.acumulados>0?"text-yellow-500 text-sm":"text-green-400 text-sm"])},l(a.acumulados>0?a.acumulados:"-"),3)):t("",!0)],10,Un)))),128))])])])):t("",!0)]),u.visible?(o(),e("div",En,[i("div",Gn,[s(g,{onClick:r[1]||(r[1]=a=>u.visible=!u.visible),class:"w-7 h-7 text-red-300 cursor-pointer z-50 absolute top-0 right-0"})]),(o(!0),e(c,null,S(u.preventivos,((a,s)=>(o(),e("div",{key:s,class:x([["CREADOS"===d.estado||"SOLUCIONADOS"===d.estado&&"SOLUCIONADO"===a.status||"ACUMULADOS"===d.estado&&"PENDIENTE"===a.status?"":"hidden"],"w-full p-1 item redondes fr ic js"])},[i("div",{class:x(["w-4 h-4 rounded-full flex-none mr-1",{"bg-red-500":"PENDIENTE"===a.status,"bg-green-500":"SOLUCIONADO"===a.status}])},null,2),i("h1",Nn,l(a.seccion),1),qn,i("h1",Tn,l(a.subseccion),1),Bn,i("h1",Ln,l(a.equipo),1)],2)))),128))])):t("",!0)],64)};const Vn={name:"Trmp",components:{MarcadoresMp:zi,GraficoCircularCss:Me,GraficoBarrasCss:Ee,GraficoBarrasCssSkeleton:os,Graficotest:Te,Rankings:_e,SkeletonTr:Mn,Iconos:J,RankingsUsuariosPreventivos:Sn},props:{},setup(){const a=A().dispatch,e=A().state,s=U();j((()=>{d("","","cargar"),u(),f(),x(),p(),g(),h(),b()}));const o=O((()=>e.skeleton)),t=O((()=>e.datosMP)),i=O((()=>e.arrayGrafica)),n=m({fechaInicio:"",fechaFin:""}),l=m(""),r=m(""),c=m([]),d=(a,e,s)=>{const o=R(E(new Date,{days:5}),"yyyy-MM-dd"),t=R(new Date,"yyyy-MM-dd");if(!localStorage.getItem("fechas"))return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),n.value.fechaInicio=o,void(n.value.fechaFin=t);if(localStorage.getItem("fechas")){const i=JSON.parse(localStorage.getItem("fechas"));if("cargar"==s&&i.fechaInicio&&i.fechaFin)return n.value.fechaInicio=i.fechaInicio,void(n.value.fechaFin=i.fechaFin);if("actualizar"==s&&i.fechaInicio&&i.fechaFin)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:a,fechaFin:e})),n.value.fechaInicio=a,void(n.value.fechaFin=e);if("cargar"==s||"actualizar"==s)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),n.value.fechaInicio=o,void(n.value.fechaFin=t)}},u=async()=>{l.value=R(new Date(Math.round(n.value.fechaInicio.slice(0,4)),Math.round(n.value.fechaInicio.slice(5,7))-1,Math.round(n.value.fechaInicio.slice(8,10))),"dd MMMM"),r.value=R(new Date(Math.round(n.value.fechaFin.slice(0,4)),Math.round(n.value.fechaFin.slice(5,7))-1,Math.round(n.value.fechaFin.slice(8,10))),"dd MMMM"),e.skeleton.marcadores=!0,e.skeleton.barrasCreadasVSSolucionadas=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:n.value.fechaInicio,fechaFin:n.value.fechaFin,apartado:"ReporteRanking",accion:"mpSecciones"},i=await a("peticion",t);if(i.response){const a=i.data.data;i.data.destino[0]?e.datosMP.destino=i.data.destino[0].destino:e.datosMP.destino="",e.datosMP.totalSemanasPlanificadasGlobal=a.global.totalSemanasPlanificadasGlobal,e.datosMP.creadas=a.global.creadasGlobal,e.datosMP.pendientes=a.global.pendientesGlobal,e.datosMP.finalizados=a.global.solucionadosGlobal,e.datosMP.acumulado=a.global.acumuladoGlobal,e.datosMP.planificados=a.global.planificadoGlobal,e.datosMP.mediaHoras=a.global.mediaHoras.toFixed(2),e.datosMP.ratioCredas=a.global.ratioCredas.toFixed(2),e.datosMP.ratioFinalizadas=a.global.ratioFinalizadas.toFixed(2),e.datosMP.planificadoVSfinalizado=a.secciones.sort(((a,e)=>e.planificado-a.planificado)),e.datosMP.finalizadosPrevio=0,a.secciones.forEach((a=>{const s=a.solucionados-a.planificado;s>0&&(e.datosMP.finalizadosPrevio=s+e.datosMP.finalizadosPrevio)})),e.skeleton.marcadores=!1,e.skeleton.barrasCreadasVSSolucionadas=!1;const s=[];a.secciones.forEach((a=>{a.preventivos.forEach((a=>{if(s.length||s.push({idUsuario:a.arrayCreadoPor.idUsuario,nombre:a.arrayCreadoPor.nombre,apellido:a.arrayCreadoPor.apellido,preventivos:[a],creados:1,acumulados:"PENTIENTE"===a.status?1:0,solucionados:"SOLUCIONADO"===a.status?1:0,preventivos:[a]}),s.length){const e=s.findIndex((e=>e.idUsuario==a.arrayCreadoPor.idUsuario));if(-1==e)return void s.push({idUsuario:a.arrayCreadoPor.idUsuario,nombre:a.arrayCreadoPor.nombre,apellido:a.arrayCreadoPor.apellido,creados:1,acumulados:"PENTIENTE"===a.status?1:0,solucionados:"SOLUCIONADO"===a.status?1:0,preventivos:[a]});if(e>-1)return s[e].creados++,"PENDIENTE"===a.status&&s[e].acumulados++,"SOLUCIONADO"===a.status&&s[e].solucionados++,void s[e].preventivos.push(a)}}))})),c.value=s}},f=async()=>{e.skeleton.grafica=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:n.value.fechaInicio,fechaFin:n.value.fechaFin,apartado:"ReporteRanking",accion:"mpGrafica"},i=await a("peticion",t);if(i.response){const a=i.data.data;e.arrayGrafica=a,e.skeleton.grafica=!1}},x=async()=>{e.skeleton.barrasPlanificacionAnual=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:`${T(new Date)}-01-01`,fechaFin:`${T(new Date)}-12-31`,apartado:"ReporteRanking",accion:"mpPlaneaciones"},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.totalPlanificaciones=a.totalPlanificacionesGlobal,e.datosMP.totalConPlanificacionCompleta=a.totalPlanificadosCompletosGlobal,e.datosMP.totalConPlanificacionIncompleta=a.totalPlanificadosIncompletosGlobal,e.datosMP.totalSinPlanificacion=a.totalSinPlanificacionesGlobal,e.datosMP.totalPlanifiaciones=a.totalPlanificacionesGlobal,e.datosMP.planeacionesSecciones=a.planeacionesSecciones.sort(((a,e)=>e.totalPlanificaciones-a.totalPlanificaciones)),e.skeleton.barrasPlanificacionAnual=!1}},p=async()=>{let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:`${T(new Date)}-01-01`,fechaFin:`${T(new Date)}-12-31`,apartado:"ReporteRanking",accion:"mpPlanificacionesEquipos"},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.totalEquipos=a.totalEquipos,e.datosMP.totalEquiposConPlanificacion=a.totalEquiposConPlanificacion,e.datosMP.totalEquiposSinPlanificacion=a.totalEquiposSinPlanificacion,a.totalEquipos>0&&(e.datosMP.totalEquiposPlanCompleto=(100/a.totalEquipos*a.totalEquiposPlanCompleto).toFixed(1))}},g=async()=>{e.skeleton.barrasCreados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:n.value.fechaInicio,fechaFin:n.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMC",status:"TODOS"},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.mcCreados=a.global.mcGlobal,e.datosMP.mpCreados=a.global.mpGlobal,e.datosMP.mcmpCreados=a.secciones.sort(((a,e)=>e.mp-a.mp)),e.skeleton.barrasCreados=!1}},h=async()=>{e.skeleton.barrasSolucionados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:n.value.fechaInicio,fechaFin:n.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMC",status:"SOLUCIONADO"},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.mcFinalizado=a.global.mcGlobal,e.datosMP.mpFinalizado=a.global.mpGlobal,e.datosMP.mcmpFinalizados=a.secciones.sort(((a,e)=>e.mp-a.mp)),e.skeleton.barrasSolucionados=!1}},b=async()=>{e.skeleton.ranking=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:n.value.fechaInicio,fechaFin:n.value.fechaFin,apartado:"ReporteRanking",accion:"rankingMP"},i=await a("peticion",t);if(i.response){const a=i.data.data.creados;a&&(a.sort(((a,e)=>e.total-a.total)),e.datosMP.rankingMPCreadas=a,a.forEach(((a,s)=>{a.idDestino==o&&(e.datosMP.rankingCreadas=s+1)})));const s=[];a&&(a.forEach((a=>{s.push({destino:a.destino,total:a.ratio.toFixed(3),destinoActual:a.destinoActual})})),s.sort(((a,e)=>e.total-a.total))),e.datosMP.rankingMPCreadasRatio=s;const t=i.data.data.solucionados;t&&(t.sort(((a,e)=>e.total-a.total)),e.datosMP.rankingMPFinalizada=t,t.forEach(((a,s)=>{a.idDestino==o&&(e.datosMP.rankingFinalizado=s+1)})));const n=[];t&&(t.forEach((a=>{n.push({destino:a.destino,total:a.ratio.toFixed(3),destinoActual:a.destinoActual})})),n.sort(((a,e)=>e.total-a.total))),e.datosMP.rankingMPFinalizadaRatio=n;const l=i.data.data.pendientes;l&&(l.sort(((a,e)=>a.total-e.total)),e.datosMP.rankingMPAcumulado=l,l.forEach(((a,s)=>{a.idDestino==o&&(e.datosMP.rankingAcumulado=s+1)})));const r=[];l&&(l.forEach((a=>{r.push({destino:a.destino,total:a.ratio.toFixed(3),destinoActual:a.destinoActual})})),r.sort(((a,e)=>e.total-a.total))),e.datosMP.rankingMPAcumuladoRatio=r;const c=i.data.data.mpmcCreados;c&&(c.sort(((a,e)=>a.total-e.total)),e.datosMP.rankingmcmpCreados=c);const d=[];i.data.data.creados&&i.data.data.solucionados&&(i.data.data.creados.forEach((a=>{let e=0,s=a.total,t=0;i.data.data.solucionados.forEach((s=>{s.idDestino==a.idDestino&&(e=s.total)})),t=100/s*e>0?100/s*e:0,d.push({idDestino:a.idDestino,destino:a.destino,total:Math.trunc(t),destinoActual:a.idDestino==o})})),d.sort(((a,e)=>e.total-a.total)),e.datosMP.rankingEficiencia=d),e.skeleton.ranking=!1}};return{aplicar:u,graficar:f,arrayGrafica:i,planificacionAnual:x,planificacionAnualEquipos:p,skeleton:o,datosMP:t,fechas:n,fechaA:l,fechaB:r,arrayUsuarios:c,mcmpCreados:g,mcmpFinalizados:h,rankingGlobal:b,router:s,comprobarFechas:d}}};d("data-v-3409d256");const Hn={class:"p-2 md:p-6"},_n={class:"text-2xl font-semibold text-gray-700 pb-4 text-center uppercase"},Jn=r(" TR Preventivo "),$n={class:"font-bold"},Xn={class:"w-full flex flex-row items-center justify-center"},Kn={class:"bg-white flex items-center justify-start rounded-xl"},Zn={class:"p-3"},Wn=i("h1",{class:"text-xxs font-semibold"},"Día Inicial",-1),Yn={class:"p-3"},Qn=i("h1",{class:"text-xxs font-semibold"},"Día Final",-1),al={class:"p-3"},el={class:"w-full my-4 flex flex-col items-center justify-start"},sl={class:"flex flex-col items-center justify-start w-full md:w-7/12 bg-white shadow-sm mt-4 flex-wrap rounded-lg pb-10"},ol=i("h1",{class:"mt-4 text-gray-700 font-semibold text-2xl uppercase leading-none"}," Preventivos ",-1),tl={class:"text-gray-500 text-xxs leading-none"},il=r(" Del "),nl={class:"font-bold"},ll=r(" al "),rl={class:"font-bold"},cl={key:0,class:"w-full h-80 p-6"},dl=[i("div",{class:"bg-gray-200 animate-pulse w-full h-full rounded-lg"},null,-1)],ul=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," PLANIFICADO VS FINALIZADO ",-1),fl={class:"text-gray-500 text-xxs leading-none mb-4"},ml=r(" Del "),xl={class:"font-bold"},pl=r(" al "),gl={class:"font-bold"},hl={class:"w-full flex flex-row flex-wrap items-center justify-around"},bl={class:"flex flex-col font-bold"},vl=i("h2",{class:"text-sm text-left leading-none creadas mb-1"}," Planificado ",-1),yl={class:"text-4xl text-left leading-none mb-3 text-gray-700"},wl=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," Finalizado ",-1),Ml={class:"text-3xl text-left leading-none mb-3 text-gray-700"},Cl=i("h2",{class:"text-sm text-left leading-none acumulado mb-1"}," Acumulado ",-1),kl={class:"text-2xl text-left leading-none mb-3 text-gray-700"},Sl=i("h2",{class:"text-sm text-left leading-none finalizado"}," Finalizado sin plan previo ",-1),Pl={class:"text-2xl text-left leading-none mb-3 text-gray-700"},zl={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible"},Il=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," PLANIFICACION MP ",-1),Dl={class:"w-full flex flex-row flex-wrap items-center justify-around pt-8"},Fl={class:"flex flex-col font-bold md:w-1/4 w-1/2 md:mb-0 mb-4 items-center justify-center"},Al={class:"text-4xl text-center leading-none text-gray-700"},Ul=i("h2",{class:"text-sm text-center leading-none text-gray-500"}," Total Planificaciones ",-1),jl={class:"flex flex-col font-bold md:w-1/4 w-1/2 md:mb-0 mb-4 items-center justify-center"},Ol={class:"text-4xl text-center leading-none text-gray-700"},Rl=i("h2",{class:"text-xs text-center leading-none text-gray-500 w-56"}," Con planificacion anual completa ",-1),El={class:"text-2xl text-center leading-none text-gray-700 mt-1 flex items-center justify-center"},Gl={class:"flex flex-col font-bold md:w-1/4 w-1/2 md:mb-0 mb-4 items-center justify-center"},Nl={class:"text-4xl text-center leading-none text-gray-700"},ql=i("h2",{class:"text-xs text-center leading-none text-gray-500 w-56"}," Con planificacion anual incompleta ",-1),Tl={class:"text-2xl text-center leading-none text-gray-700 mt-1"},Bl={class:"flex flex-col font-bold md:w-1/4 w-1/2 mb-4 md:mb-0 items-center justify-center"},Ll={class:"text-4xl text-center leading-none text-gray-700"},Vl=i("h2",{class:"text-xs text-center leading-none text-gray-500 w-56"}," Sin planificacion ",-1),Hl={class:"text-2xl text-center leading-none text-gray-700 mt-1"},_l={class:"w-full md:w-auto p-3 flex flex-row items-center justify-around overflow-x-auto md:overflow-x-visible"},Jl=i("div",{class:"hidden lg:flex flex-row items-center mr-4 text-xs font-semibold text-gray-500"},[i("div",{class:"bg-creadas w-4 h-4 rounded mr-2"}),i("h1",{class:"w-32"},"% de Planificacion anual completa.")],-1),$l={class:"flex flex-col font-bold"},Xl=i("h2",{class:"text-sm text-left leading-none text-gray-500 mt-3 mb-1"}," Total Activos ",-1),Kl={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Zl=i("h2",{class:"text-sm text-left leading-none text-red-500 mb-1"}," Activos Sin Planificación ",-1),Wl={class:"text-3xl text-left leading-none mb-3 text-gray-700"},Yl=i("h2",{class:"text-sm text-left leading-none creadas mb-1"}," Equipos Con Planificación ",-1),Ql={class:"text-2xl text-left leading-none mb-3 text-gray-700"},ar=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," Equipos Con Plan al 100% ",-1),er={class:"text-2xl text-left leading-none mb-3 text-gray-700"},sr=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," Preventivo creado vs Incidencias creadas ",-1),or={class:"text-gray-500 text-xxs leading-none mb-4"},tr=r(" Del "),ir={class:"font-bold"},nr=r(" al "),lr={class:"font-bold"},rr={class:"w-full flex flex-row flex-wrap items-center justify-around"},cr={class:"w-full md:w-auto p-3 flex flex-row items-start justify-around overflow-x-auto md:overflow-x-visible"},dr={class:"flex flex-col font-bold"},ur=i("h2",{class:"text-sm text-right leading-none proceso mb-1"}," MP Creados ",-1),fr={class:"text-4xl text-right leading-none mb-3 text-gray-700"},mr=i("h2",{class:"text-sm text-right leading-none proceso2 mb-1"}," MC Creadas ",-1),xr={class:"text-4xl text-right leading-none mb-3 text-gray-700"},pr=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," Preventivo solucionado vs Incidencias solucionadas ",-1),gr={class:"text-gray-500 text-xxs leading-none mb-4"},hr=r(" Del "),br={class:"font-bold"},vr=r(" al "),yr={class:"font-bold"},wr={class:"w-full flex flex-row flex-wrap items-center justify-around"},Mr={class:"flex flex-col font-bold"},Cr=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," MP Finalizados ",-1),kr={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Sr=i("h2",{class:"text-sm text-left leading-none mp1 mb-1"}," MC Finalizados ",-1),Pr={class:"text-4xl text-left leading-none mb-3 text-gray-700"},zr={class:"w-full md:w-auto p-3 flex flex-row items-start justify-around overflow-x-auto md:overflow-x-visible"},Ir=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," Rankings américa ",-1),Dr={class:"text-gray-500 text-xxs leading-none mb-4"},Fr=r(" Del "),Ar={class:"font-bold"},Ur=r(" al "),jr={class:"font-bold"},Or={class:"w-full flex flex-row flex-wrap items-center justify-around px-8 pt-6"},Rr={class:"w-full flex flex-row flex-wrap items-center justify-start px-8 pt-6"},Er=i("div",{class:"mx-2"},null,-1),Gr=i("div",{class:"mx-2"},null,-1),Nr={class:"max-w-max flex flex-col md:flex-row justify-center items-center relative mt-6"};u(),Vn.render=function(n,r,d,u,f,m){const x=a("Iconos"),p=a("MarcadoresMp"),g=a("Graficotest"),h=a("GraficoCircularCss"),b=a("GraficoBarrasCssSkeleton"),v=a("GraficoBarrasCss"),y=a("Rankings"),w=a("RankingsUsuariosPreventivos");return o(),e("div",Hn,[i("h1",_n,[Jn,i("span",$n,l(u.datosMP.destino),1)]),i("div",Xn,[i("div",Kn,[i("div",Zn,[Wn,G(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[0]||(r[0]=a=>u.fechas.fechaInicio=a),onChange:r[1]||(r[1]=a=>u.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[N,u.fechas.fechaInicio]])]),s(x,{icono:"arrow-right",class:"w-4"}),i("div",Yn,[Qn,G(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[2]||(r[2]=a=>u.fechas.fechaFin=a),onChange:r[3]||(r[3]=a=>u.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[N,u.fechas.fechaFin]])]),i("div",al,[i("button",{class:"bg-purple-50 text-purple-500 py-1 px-2 rounded-lg text-sm border border-purple-400",onClick:r[4]||(r[4]=a=>{u.aplicar(),u.graficar(),u.mcmpCreados(),u.mcmpFinalizados(),u.rankingGlobal()})}," Aplicar ")])])]),i("div",el,[s(p,{creadas:u.datosMP.creadas,proceso:u.datosMP.pendientes,finalizado:u.datosMP.finalizados,acumulado:u.datosMP.acumulado,ranfinalizado:u.datosMP.rankingFinalizado,ranproceso:u.datosMP.rankingCreadas,ranacumulado:u.datosMP.rankingAcumulado,ratioCredas:u.datosMP.ratioCredas,ratioFinalizadas:u.datosMP.ratioFinalizadas,mediaHoras:u.datosMP.mediaHoras,visible:u.skeleton.marcadores},null,8,["creadas","proceso","finalizado","acumulado","ranfinalizado","ranproceso","ranacumulado","ratioCredas","ratioFinalizadas","mediaHoras","visible"]),i("div",sl,[ol,i("h1",tl,[il,i("span",nl,l(u.fechaA),1),ll,i("span",rl,l(u.fechaB),1)]),u.skeleton.grafica?(o(),e("div",cl,dl)):t("",!0),u.skeleton.grafica?t("",!0):(o(),q(g,{key:1,class:"mt-4 rounded-lg shadow-sm",arrayGrafica:u.arrayGrafica},null,8,["arrayGrafica"])),ul,i("h1",fl,[ml,i("span",xl,l(u.fechaA),1),pl,i("span",gl,l(u.fechaB),1)]),i("div",hl,[i("div",bl,[vl,i("h1",yl,l(u.datosMP.totalSemanasPlanificadasGlobal),1),wl,i("h1",Ml,l(u.datosMP.finalizados),1),Cl,i("h1",kl,l(u.datosMP.pendientes),1),Sl,i("h1",Pl,l(u.datosMP.finalizadosPrevio),1)]),s(h,{texto:"Cumplimiento",color:"#00c4fa",color2:"#acedff",porcentaje:u.datosMP.totalSemanasPlanificadasGlobal>0?Math.round(100/u.datosMP.totalSemanasPlanificadasGlobal*u.datosMP.finalizados):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["porcentaje","visualizar"]),i("div",zl,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMP.planificadoVSfinalizado,(a=>(o(),q(v,{key:a,seccion:a.seccion,creadas:a.planificado,finalizadas:a.solucionados,color1:"#acedff",color2:"#34d399",vs:!1,visualizar:u.skeleton.barrasCreadasVSSolucionadas,onDblclick:e=>n.$router.push("/mp/"+u.router.params.idDestino+"/seccion/"+a.idSeccion)},null,8,["seccion","creadas","finalizadas","visualizar","onDblclick"])))),128))])]),Il,i("div",Dl,[i("div",Fl,[i("h1",Al,l(u.datosMP.totalPlanificaciones),1),Ul]),i("div",jl,[i("h1",Ol,l(u.datosMP.totalConPlanificacionCompleta),1),Rl,i("h1",El,l(u.datosMP.totalPlanifiaciones>0?(100/u.datosMP.totalPlanifiaciones*u.datosMP.totalConPlanificacionCompleta).toFixed(1):0)+"% ",1)]),i("div",Gl,[i("h1",Nl,l(u.datosMP.totalConPlanificacionIncompleta),1),ql,i("h1",Tl,l(u.datosMP.totalPlanifiaciones>0?(100/u.datosMP.totalPlanifiaciones*u.datosMP.totalConPlanificacionIncompleta).toFixed(1):0)+"% ",1)]),i("div",Bl,[i("h1",Ll,l(u.datosMP.totalSinPlanificacion),1),Vl,i("h1",Hl,l(u.datosMP.totalPlanifiaciones>0?(100/u.datosMP.totalPlanifiaciones*u.datosMP.totalSinPlanificacion).toFixed(1):0)+"% ",1)]),i("div",_l,[Jl,(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasPlanificacionAnual},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMP.planeacionesSecciones,(a=>(o(),q(v,{key:a,seccion:a.seccion,creadas:a.totalPlanificaciones,finalizadas:a.totalPlanificadosCompletos,color1:"#edf2f7",color2:"#00c4fa",vs:!1,visualizar:u.skeleton.barrasPlanificacionAnual,onDblclick:e=>n.$router.push("/mp/"+u.router.params.idDestino+"/seccion/"+a.idSeccion)},null,8,["seccion","creadas","finalizadas","visualizar","onDblclick"])))),128))]),i("div",$l,[Xl,i("h1",Kl,l(u.datosMP.totalEquipos),1),Zl,i("h1",Wl,l(u.datosMP.totalEquiposSinPlanificacion),1),Yl,i("h1",Ql,l(u.datosMP.totalEquiposConPlanificacion),1),ar,i("h1",er,l(u.datosMP.totalEquiposPlanCompleto)+"% ",1)])]),sr,i("h1",or,[tr,i("span",ir,l(u.fechaA),1),nr,i("span",lr,l(u.fechaB),1)]),i("div",rr,[i("div",cr,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMP.mcmpCreados,(a=>(o(),q(v,{key:a,seccion:a.seccion,creadas:a.mp+a.mc,finalizadas:a.mp,color1:"#ffe39c",color2:"#fbbf24",vs:!0,visualizar:u.skeleton.barrasCreados,onDblclick:e=>n.$router.push("/mp/"+u.router.params.idDestino+"/seccion/"+a.idSeccion)},null,8,["seccion","creadas","finalizadas","visualizar","onDblclick"])))),128))]),s(h,{texto:"MP CREADOS",color:"#fbbf24",color2:"#ffe39c",porcentaje:u.datosMP.mpCreados>0?Math.round(100/(u.datosMP.mpCreados+u.datosMP.mcCreados)*u.datosMP.mpCreados):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreados},null,8,["porcentaje","visualizar"]),i("div",dr,[ur,i("h1",fr,l(u.datosMP.mpCreados),1),mr,i("h1",xr,l(u.datosMP.mcCreados),1)])]),pr,i("h1",gr,[hr,i("span",br,l(u.fechaA),1),vr,i("span",yr,l(u.fechaB),1)]),i("div",wr,[i("div",Mr,[Cr,i("h1",kr,l(u.datosMP.mpFinalizado),1),Sr,i("h1",Pr,l(u.datosMP.mcFinalizado),1)]),s(h,{texto:"MP Finalizados",color:"#34d399",color2:"#96ffd9",porcentaje:u.datosMP.mpFinalizado>0?Math.round(100/(u.datosMP.mpFinalizado+u.datosMP.mcFinalizado)*u.datosMP.mpFinalizado):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasSolucionados},null,8,["porcentaje","visualizar"]),i("div",zr,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasSolucionados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMP.mcmpFinalizados,(a=>(o(),q(v,{key:a,seccion:a.seccion,creadas:a.mc+a.mp,finalizadas:a.mp,color1:"#96ffd9",color2:"#34d399",vs:!0,visualizar:u.skeleton.barrasSolucionados,onDblclick:e=>n.$router.push("/mp/"+u.router.params.idDestino+"/seccion/"+a.idSeccion)},null,8,["seccion","creadas","finalizadas","visualizar","onDblclick"])))),128))])]),Ir,i("h1",Dr,[Fr,i("span",Ar,l(u.fechaA),1),Ur,i("span",jr,l(u.fechaB),1)]),i("div",Or,[s(y,{nombre:"Más OT MP Creadas",color:"#00c4fa",menosAmas:!1,destinos:u.datosMP.rankingMPCreadas,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Más OT MP Solucionadas",color:"#34d399",menosAmas:!1,destinos:u.datosMP.rankingMPFinalizada,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Eficiencia de Atención",color:"#34d399",simbolo:"%",menosAmas:!1,destinos:u.datosMP.rankingEficiencia,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Menos OT MP Acumuladas",color:"#563bff",menosAmas:!0,destinos:u.datosMP.rankingMPAcumulado,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Mas MP vs MC",color:"#fbbf24",simbolo:"%",menosAmas:!1,destinos:u.datosMP.rankingmcmpCreados,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"])]),i("div",Rr,[s(y,{nombre:"Más OT MP Creadas Ratio Hab.",color:"#00c4fa",menosAmas:!1,destinos:u.datosMP.rankingMPCreadasRatio,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),Er,s(y,{nombre:"Más OT MP Solucionadas Ratio Hab.",color:"#00c4fa",menosAmas:!1,destinos:u.datosMP.rankingMPFinalizadaRatio,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),Gr,s(y,{nombre:"Más OT MP Acumuladas Ratio Hab.",color:"#00c4fa",menosAmas:!1,destinos:u.datosMP.rankingMPAcumuladoRatio,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"])]),i("div",Nr,[s(w,{array:u.arrayUsuarios,titulo:"Creados",estado:"CREADOS"},null,8,["array"]),s(w,{array:u.arrayUsuarios,titulo:"Solucionados",estado:"SOLUCIONADOS"},null,8,["array"])])])])])},Vn.__scopeId="data-v-3409d256";const qr={name:"TrmpSubsecciones",components:{MarcadoresMp:zi,GraficoCircularCss:Me,GraficoBarrasCss:Ee,GraficoBarrasCssSkeleton:os,Graficotest:Te,Rankings:_e,RankingsUsuarios:Xo,SkeletonTr:Mn,Iconos:J},props:{},setup(){const a=A().dispatch,e=A().state,s=U();j((()=>{y("","","cargar"),d(),u(),f(),x(),p(),g(),h(),b(),v()}));const o=O((()=>e.skeleton)),t=O((()=>e.datosMP)),i=O((()=>e.arrayGrafica)),n=O((()=>e.seccion)),l=m({fechaInicio:"",fechaFin:""}),r=m(""),c=m(""),d=async()=>{r.value=R(new Date(Math.round(l.value.fechaInicio.slice(0,4)),Math.round(l.value.fechaInicio.slice(5,7))-1,Math.round(l.value.fechaInicio.slice(8,10))),"dd MMMM"),c.value=R(new Date(Math.round(l.value.fechaFin.slice(0,4)),Math.round(l.value.fechaFin.slice(5,7))-1,Math.round(l.value.fechaFin.slice(8,10))),"dd MMMM"),e.skeleton.marcadores=!0,e.skeleton.barrasCreadasVSSolucionadas=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:l.value.fechaInicio,fechaFin:l.value.fechaFin,apartado:"ReporteRanking",accion:"mpSubsecciones",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data;i.data.destino[0]?e.datosMP.destino=i.data.destino[0].destino:e.datosMP.destino="",e.datosMP.totalSemanasPlanificadasGlobal=a.global.totalSemanasPlanificadasGlobal,e.datosMP.creadas=a.global.creadasGlobal,e.datosMP.pendientes=a.global.pendientesGlobal,e.datosMP.finalizados=a.global.solucionadosGlobal,e.datosMP.acumulado=a.global.acumuladoGlobal,e.datosMP.planificados=a.global.planificadoGlobal,e.datosMP.mediaHoras=a.global.mediaHoras.toFixed(2),e.datosMP.ratioCredas=a.global.ratioCredas.toFixed(2),e.datosMP.ratioFinalizadas=a.global.ratioFinalizadas.toFixed(2),e.datosMP.planificadoVSfinalizado=a.subsecciones.sort(((a,e)=>e.planificado-a.planificado)),e.datosMP.finalizadosPrevio=0,a.subsecciones.forEach((a=>{const s=a.solucionados-a.planificado;s>0&&(e.datosMP.finalizadosPrevio=s+e.datosMP.finalizadosPrevio)})),e.skeleton.marcadores=!1,e.skeleton.barrasCreadasVSSolucionadas=!1}},u=async()=>{e.skeleton.grafica=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:l.value.fechaInicio,fechaFin:l.value.fechaFin,apartado:"ReporteRanking",accion:"mpGraficaSubsecciones",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data;e.arrayGrafica=a,e.skeleton.grafica=!1}},f=async()=>{e.skeleton.barrasPlanificacionAnual=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:`${T(new Date)}-01-01`,fechaFin:`${T(new Date)}-12-31`,apartado:"ReporteRanking",accion:"mpPlaneacionesSubsecciones",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.totalPlanificaciones=a.totalPlanificacionesGlobal,e.datosMP.totalConPlanificacionCompleta=a.totalPlanificadosCompletosGlobal,e.datosMP.totalConPlanificacionIncompleta=a.totalPlanificadosIncompletosGlobal,e.datosMP.totalSinPlanificacion=a.totalSinPlanificacionesGlobal,e.datosMP.totalPlanifiaciones=a.totalPlanificacionesGlobal,e.datosMP.planeacionesSecciones=a.planeacionesSecciones.sort(((a,e)=>e.totalPlanificaciones-a.totalPlanificaciones)),e.skeleton.barrasPlanificacionAnual=!1}},x=async()=>{let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:`${T(new Date)}-01-01`,fechaFin:`${T(new Date)}-12-31`,apartado:"ReporteRanking",accion:"mpPlanificacionesEquiposSubsecciones",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.totalEquipos=a.totalEquipos,e.datosMP.totalEquiposConPlanificacion=a.totalEquiposConPlanificacion,e.datosMP.totalEquiposSinPlanificacion=a.totalEquiposSinPlanificacion,a.totalEquipos>0&&(e.datosMP.totalEquiposPlanCompleto=(100/a.totalEquipos*a.totalEquiposPlanCompleto).toFixed(1))}},p=async()=>{e.skeleton.barrasCreados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:l.value.fechaInicio,fechaFin:l.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMCSubsecciones",status:"TODOS",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.mcCreados=a.global.mcGlobal,e.datosMP.mpCreados=a.global.mpGlobal,e.datosMP.mcmpCreados=a.secciones.sort(((a,e)=>e.mp-a.mp)),e.skeleton.barrasCreados=!1}},g=async()=>{e.skeleton.barrasSolucionados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:l.value.fechaInicio,fechaFin:l.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMCSubsecciones",status:"SOLUCIONADO",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.mcFinalizado=a.global.mcGlobal,e.datosMP.mpFinalizado=a.global.mpGlobal,e.datosMP.mcmpFinalizados=a.secciones.sort(((a,e)=>e.mp-a.mp)),e.skeleton.barrasSolucionados=!1}},h=async()=>{e.skeleton.ranking=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:l.value.fechaInicio,fechaFin:l.value.fechaFin,apartado:"ReporteRanking",accion:"rankingMPSubsecciones",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data.creados;a&&(a.sort(((a,e)=>e.total-a.total)),e.datosMP.rankingMPCreadas=a,a.forEach(((a,s)=>{a.idDestino==o&&(e.datosMP.rankingCreadas=s+1)})));const s=i.data.data.solucionados;s&&(s.sort(((a,e)=>e.total-a.total)),e.datosMP.rankingMPFinalizada=s,s.forEach(((a,s)=>{a.idDestino==o&&(e.datosMP.rankingFinalizado=s+1)})));const t=i.data.data.pendientes;t&&(t.sort(((a,e)=>a.total-e.total)),e.datosMP.rankingMPAcumulado=t,t.forEach(((a,s)=>{a.idDestino==o&&(e.datosMP.rankingAcumulado=s+1)})));const n=i.data.data.mpmcCreados;n&&(n.sort(((a,e)=>a.total-e.total)),e.datosMP.rankingmcmpCreados=n),e.skeleton.ranking=!1}},b=async()=>{e.skeleton.rankingUsuarios=!0;let o=0;e.datosMP.creadosUsuarios=[],e.datosMP.solucionadosUsuarios=[],e.datosMP.acumuladosUsuarios=[],0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:l.value.fechaInicio,fechaFin:l.value.fechaFin,apartado:"ReporteRanking",accion:"preventivosUsuarios",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){i.data.data.forEach((a=>{a.preventivosCreados>0&&e.datosMP.creadosUsuarios.push({idUsuario:a.idUsuario,nombre:a.nombre+" "+a.apellido,total:a.preventivosCreados,usuarioActual:!(!localStorage.getItem("usuario")||localStorage.getItem("usuario")!=a.idUsuario)}),a.preventivosSolucionados>0&&e.datosMP.solucionadosUsuarios.push({idUsuario:a.idUsuario,nombre:a.nombre+" "+a.apellido,total:a.preventivosSolucionados,usuarioActual:!(!localStorage.getItem("usuario")||localStorage.getItem("usuario")!=a.idUsuario)}),a.preventivosPendientes>0&&e.datosMP.acumuladosUsuarios.push({idUsuario:a.idUsuario,nombre:a.nombre+" "+a.apellido,total:a.preventivosPendientes,usuarioActual:!(!localStorage.getItem("usuario")||localStorage.getItem("usuario")!=a.idUsuario)})})),e.datosMP.acumuladosUsuarios.sort(((a,e)=>e.total-a.total)),e.datosMP.creadosUsuarios.sort(((a,e)=>e.total-a.total)),e.datosMP.solucionadosUsuarios.sort(((a,e)=>e.total-a.total)),e.skeleton.rankingUsuarios=!1}i.response||(e.skeleton.rankingUsuarios=!1)},v=async()=>{let o=0;e.datosMC.creadosUsuarios=[],e.datosMC.solucionadosUsuarios=[],e.datosMC.acumuladosUsuarios=[],0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,apartado:"ReporteRanking",accion:"detalleSeccion",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data[0];e.seccion=a.seccion}},y=(a,e,s)=>{const o=R(E(new Date,{days:5}),"yyyy-MM-dd"),t=R(new Date,"yyyy-MM-dd");if(!localStorage.getItem("fechas"))return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),l.value.fechaInicio=o,void(l.value.fechaFin=t);if(localStorage.getItem("fechas")){const i=JSON.parse(localStorage.getItem("fechas"));if("cargar"==s&&i.fechaInicio&&i.fechaFin)return l.value.fechaInicio=i.fechaInicio,void(l.value.fechaFin=i.fechaFin);if("actualizar"==s&&i.fechaInicio&&i.fechaFin)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:a,fechaFin:e})),l.value.fechaInicio=a,void(l.value.fechaFin=e);if("cargar"==s||"actualizar"==s)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),l.value.fechaInicio=o,void(l.value.fechaFin=t)}};return{aplicar:d,graficar:u,arrayGrafica:i,planificacionAnual:f,planificacionAnualEquipos:x,skeleton:o,datosMP:t,fechas:l,fechaA:r,fechaB:c,mcmpCreados:p,mcmpFinalizados:g,rankingGlobal:h,preventivosUsuarios:b,router:s,seccion:n}}};d("data-v-22a958ee");const Tr={class:"p-2 md:p-6"},Br={class:"text-2xl font-semibold text-gray-700 pb-4 text-center uppercase"},Lr=r(" TR Preventivo "),Vr={class:"font-bold"},Hr={class:"w-full flex flex-row items-center justify-center"},_r={class:"bg-white flex items-center justify-start rounded-xl"},Jr={class:"p-3"},$r=i("h1",{class:"text-xxs font-semibold"},"Día Inicial",-1),Xr={class:"p-3"},Kr=i("h1",{class:"text-xxs font-semibold"},"Día Final",-1),Zr={class:"p-3"},Wr={class:"w-full my-4 flex flex-col items-center justify-start"},Yr={class:"flex flex-col items-center justify-start w-full md:w-7/12 bg-white shadow-sm mt-4 flex-wrap rounded-lg pb-10"},Qr={class:"mt-4 text-gray-700 font-semibold text-2xl uppercase leading-none"},ac={class:"text-gray-500 text-xxs leading-none"},ec=r(" Del "),sc={class:"font-bold"},oc=r(" al "),tc={class:"font-bold"},ic={key:0,class:"w-full h-80 p-6"},nc=[i("div",{class:"bg-gray-200 animate-pulse w-full h-full rounded-lg"},null,-1)],lc={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},rc={class:"text-gray-500 text-xxs leading-none mb-4"},cc=r(" Del "),dc={class:"font-bold"},uc=r(" al "),fc={class:"font-bold"},mc={class:"w-full flex flex-row flex-wrap items-center justify-around"},xc={class:"flex flex-col font-bold"},pc=i("h2",{class:"text-sm text-left leading-none creadas mb-1"}," Planificado ",-1),gc={class:"text-4xl text-left leading-none mb-3 text-gray-700"},hc=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," Finalizado ",-1),bc={class:"text-3xl text-left leading-none mb-3 text-gray-700"},vc=i("h2",{class:"text-sm text-left leading-none acumulado mb-1"}," Acumulado ",-1),yc={class:"text-2xl text-left leading-none mb-3 text-gray-700"},wc=i("h2",{class:"text-sm text-left leading-none finalizado"}," Finalizado sin plan previo ",-1),Mc={class:"text-2xl text-left leading-none mb-3 text-gray-700"},Cc={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible px-16"},kc={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},Sc={class:"w-full flex flex-row flex-wrap items-center justify-around pt-8"},Pc={class:"flex flex-col font-bold md:w-1/4 w-1/2 md:mb-0 mb-4 items-center justify-center"},zc={class:"text-4xl text-center leading-none text-gray-700"},Ic=i("h2",{class:"text-sm text-center leading-none text-gray-500"}," Total Planificaciones ",-1),Dc={class:"flex flex-col font-bold md:w-1/4 w-1/2 md:mb-0 mb-4 items-center justify-center"},Fc={class:"text-4xl text-center leading-none text-gray-700"},Ac=i("h2",{class:"text-xs text-center leading-none text-gray-500 w-56"}," Con planificacion anual completa ",-1),Uc={class:"text-2xl text-center leading-none text-gray-700 mt-1 flex items-center justify-center"},jc={class:"flex flex-col font-bold md:w-1/4 w-1/2 md:mb-0 mb-4 items-center justify-center"},Oc={class:"text-4xl text-center leading-none text-gray-700"},Rc=i("h2",{class:"text-xs text-center leading-none text-gray-500 w-56"}," Con planificacion anual incompleta ",-1),Ec={class:"text-2xl text-center leading-none text-gray-700 mt-1"},Gc={class:"flex flex-col font-bold md:w-1/4 w-1/2 mb-4 md:mb-0 items-center justify-center"},Nc={class:"text-4xl text-center leading-none text-gray-700"},qc=i("h2",{class:"text-xs text-center leading-none text-gray-500 w-56"}," Sin planificacion ",-1),Tc={class:"text-2xl text-center leading-none text-gray-700 mt-1"},Bc={class:"w-full md:w-auto p-3 flex flex-row items-center justify-around overflow-x-auto md:overflow-x-visible"},Lc=i("div",{class:"hidden lg:flex flex-row items-center mr-4 text-xs font-semibold text-gray-500"},[i("div",{class:"bg-creadas w-4 h-4 rounded mr-2"}),i("h1",{class:"w-32"},"% de Planificacion anual completa.")],-1),Vc={class:"flex flex-col font-bold"},Hc=i("h2",{class:"text-sm text-left leading-none text-gray-500 mt-3 mb-1"}," Total Activos ",-1),_c={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Jc=i("h2",{class:"text-sm text-left leading-none text-red-500 mb-1"}," Activos Sin Planificación ",-1),$c={class:"text-3xl text-left leading-none mb-3 text-gray-700"},Xc=i("h2",{class:"text-sm text-left leading-none creadas mb-1"}," Equipos Con Planificación ",-1),Kc={class:"text-2xl text-left leading-none mb-3 text-gray-700"},Zc=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," Equipos Con Plan al 100% ",-1),Wc={class:"text-2xl text-left leading-none mb-3 text-gray-700"},Yc={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},Qc={class:"text-gray-500 text-xxs leading-none mb-4"},ad=r(" Del "),ed={class:"font-bold"},sd=r(" al "),od={class:"font-bold"},td={class:"w-full flex flex-row flex-wrap items-center justify-around"},id={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible px-16"},nd={class:"flex flex-col font-bold"},ld=i("h2",{class:"text-sm text-right leading-none proceso mb-1"}," MP Creados ",-1),rd={class:"text-4xl text-right leading-none mb-3 text-gray-700"},cd=i("h2",{class:"text-sm text-right leading-none proceso2 mb-1"}," MC Creadas ",-1),dd={class:"text-4xl text-right leading-none mb-3 text-gray-700"},ud={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},fd={class:"text-gray-500 text-xxs leading-none mb-4"},md=r(" Del "),xd={class:"font-bold"},pd=r(" al "),gd={class:"font-bold"},hd={class:"w-full flex flex-row flex-wrap items-center justify-around"},bd={class:"flex flex-col font-bold"},vd=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," MP Finalizados ",-1),yd={class:"text-4xl text-left leading-none mb-3 text-gray-700"},wd=i("h2",{class:"text-sm text-left leading-none mp1 mb-1"}," MC Finalizados ",-1),Md={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Cd={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible px-16"},kd={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},Sd={class:"text-gray-500 text-xxs leading-none mb-4"},Pd=r(" Del "),zd={class:"font-bold"},Id=r(" al "),Dd={class:"font-bold"},Fd={class:"w-full flex flex-row flex-wrap items-center justify-around px-8 pt-6"},Ad={class:"mt-8 text-gray-700 font-semibold text-xl uppercase"},Ud={class:"text-gray-500 text-xxs leading-none mb-4"},jd=r(" Del "),Od={class:"font-bold"},Rd=r(" al "),Ed={class:"font-bold"},Gd={class:"w-full flex flex-wrap flex-row items-start justify-around px-8 pt-6"};u(),qr.render=function(n,r,d,u,f,m){const x=a("Iconos"),p=a("MarcadoresMp"),g=a("Graficotest"),h=a("GraficoCircularCss"),b=a("GraficoBarrasCssSkeleton"),v=a("GraficoBarrasCss"),y=a("Rankings"),w=a("RankingsUsuarios");return o(),e("div",Tr,[i("h1",Br,[Lr,i("span",Vr,l(u.datosMP.destino)+" "+l(u.seccion),1)]),i("div",Hr,[i("div",_r,[i("div",Jr,[$r,G(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[0]||(r[0]=a=>u.fechas.fechaInicio=a),onChange:r[1]||(r[1]=a=>n.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[N,u.fechas.fechaInicio]])]),s(x,{icono:"arrow-right",class:"w-4"}),i("div",Xr,[Kr,G(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[2]||(r[2]=a=>u.fechas.fechaFin=a),onChange:r[3]||(r[3]=a=>n.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[N,u.fechas.fechaFin]])]),i("div",Zr,[i("button",{class:"bg-purple-50 text-purple-500 py-1 px-2 rounded-lg text-sm border border-purple-400",onClick:r[4]||(r[4]=a=>{u.aplicar(),u.graficar(),u.mcmpCreados(),u.mcmpFinalizados(),u.rankingGlobal(),u.preventivosUsuarios()})}," Aplicar ")])])]),i("div",Wr,[s(p,{creadas:u.datosMP.creadas,proceso:u.datosMP.pendientes,finalizado:u.datosMP.finalizados,acumulado:u.datosMP.acumulado,ranfinalizado:u.datosMP.rankingFinalizado,ranproceso:u.datosMP.rankingCreadas,ranacumulado:u.datosMP.rankingAcumulado,ratioCredas:u.datosMP.ratioCredas,ratioFinalizadas:u.datosMP.ratioFinalizadas,mediaHoras:u.datosMP.mediaHoras,visible:u.skeleton.marcadores},null,8,["creadas","proceso","finalizado","acumulado","ranfinalizado","ranproceso","ranacumulado","ratioCredas","ratioFinalizadas","mediaHoras","visible"]),i("div",Yr,[i("h1",Qr," Preventivos "+l(u.seccion),1),i("h1",ac,[ec,i("span",sc,l(u.fechaA),1),oc,i("span",tc,l(u.fechaB),1)]),u.skeleton.grafica?(o(),e("div",ic,nc)):t("",!0),u.skeleton.grafica?t("",!0):(o(),q(g,{key:1,class:"mt-4 rounded-lg shadow-sm",arrayGrafica:u.arrayGrafica},null,8,["arrayGrafica"])),i("h1",lc," PLANIFICADO VS FINALIZADO "+l(u.seccion),1),i("h1",rc,[cc,i("span",dc,l(u.fechaA),1),uc,i("span",fc,l(u.fechaB),1)]),i("div",mc,[i("div",xc,[pc,i("h1",gc,l(u.datosMP.totalSemanasPlanificadasGlobal),1),hc,i("h1",bc,l(u.datosMP.finalizados),1),vc,i("h1",yc,l(u.datosMP.pendientes),1),wc,i("h1",Mc,l(u.datosMP.finalizadosPrevio),1)]),s(h,{texto:"Cumplimiento",color:"#00c4fa",color2:"#acedff",porcentaje:u.datosMP.totalSemanasPlanificadasGlobal>0?Math.round(100/u.datosMP.totalSemanasPlanificadasGlobal*u.datosMP.finalizados):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["porcentaje","visualizar"]),i("div",Cc,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMP.planificadoVSfinalizado,(a=>(o(),q(v,{key:a,seccion:a.subseccion,creadas:a.planificado,finalizadas:a.solucionados,color1:"#acedff",color2:"#34d399",vs:!1,visualizar:u.skeleton.barrasCreadasVSSolucionadas,rotarTexto:!0},null,8,["seccion","creadas","finalizadas","visualizar"])))),128))])]),i("h1",kc," PLANIFICACION MP "+l(u.seccion),1),i("div",Sc,[i("div",Pc,[i("h1",zc,l(u.datosMP.totalPlanificaciones),1),Ic]),i("div",Dc,[i("h1",Fc,l(u.datosMP.totalConPlanificacionCompleta),1),Ac,i("h1",Uc,l(u.datosMP.totalPlanifiaciones>0?(100/u.datosMP.totalPlanifiaciones*u.datosMP.totalConPlanificacionCompleta).toFixed(1):0)+"% ",1)]),i("div",jc,[i("h1",Oc,l(u.datosMP.totalConPlanificacionIncompleta),1),Rc,i("h1",Ec,l(u.datosMP.totalPlanifiaciones>0?(100/u.datosMP.totalPlanifiaciones*u.datosMP.totalConPlanificacionIncompleta).toFixed(1):0)+"% ",1)]),i("div",Gc,[i("h1",Nc,l(u.datosMP.totalSinPlanificacion),1),qc,i("h1",Tc,l(u.datosMP.totalPlanifiaciones>0?(100/u.datosMP.totalPlanifiaciones*u.datosMP.totalSinPlanificacion).toFixed(1):0)+"% ",1)]),i("div",Bc,[Lc,(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasPlanificacionAnual},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMP.planeacionesSecciones,(a=>(o(),q(v,{key:a,seccion:a.subseccion,creadas:a.totalPlanificaciones,finalizadas:a.totalPlanificadosCompletos,color1:"#edf2f7",color2:"#00c4fa",vs:!1,visualizar:u.skeleton.barrasPlanificacionAnual,rotarTexto:!0},null,8,["seccion","creadas","finalizadas","visualizar"])))),128))]),i("div",Vc,[Hc,i("h1",_c,l(u.datosMP.totalEquipos),1),Jc,i("h1",$c,l(u.datosMP.totalEquiposSinPlanificacion),1),Xc,i("h1",Kc,l(u.datosMP.totalEquiposConPlanificacion),1),Zc,i("h1",Wc,l(u.datosMP.totalEquiposPlanCompleto)+"% ",1)])]),i("h1",Yc," Preventivo creado vs Incidencias creadas "+l(u.seccion),1),i("h1",Qc,[ad,i("span",ed,l(u.fechaA),1),sd,i("span",od,l(u.fechaB),1)]),i("div",td,[i("div",id,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMP.mcmpCreados,(a=>(o(),q(v,{key:a,seccion:a.subseccion,creadas:a.mp+a.mc,finalizadas:a.mp,color1:"#ffe39c",color2:"#fbbf24",vs:!0,visualizar:u.skeleton.barrasCreados,rotarTexto:!0},null,8,["seccion","creadas","finalizadas","visualizar"])))),128))]),s(h,{texto:"MP CREADOS",color:"#fbbf24",color2:"#ffe39c",porcentaje:u.datosMP.mpCreados>0?Math.round(100/(u.datosMP.mpCreados+u.datosMP.mcCreados)*u.datosMP.mpCreados):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreados},null,8,["porcentaje","visualizar"]),i("div",nd,[ld,i("h1",rd,l(u.datosMP.mpCreados),1),cd,i("h1",dd,l(u.datosMP.mcCreados),1)])]),i("h1",ud," Preventivo solucionado vs Incidencias solucionadas "+l(u.seccion),1),i("h1",fd,[md,i("span",xd,l(u.fechaA),1),pd,i("span",gd,l(u.fechaB),1)]),i("div",hd,[i("div",bd,[vd,i("h1",yd,l(u.datosMP.mpFinalizado),1),wd,i("h1",Md,l(u.datosMP.mcFinalizado),1)]),s(h,{texto:"MP Finalizados",color:"#34d399",color2:"#96ffd9",porcentaje:u.datosMP.mpFinalizado>0?Math.round(100/(u.datosMP.mpFinalizado+u.datosMP.mcFinalizado)*u.datosMP.mpFinalizado):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasSolucionados},null,8,["porcentaje","visualizar"]),i("div",Cd,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasSolucionados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMP.mcmpFinalizados,(a=>(o(),q(v,{key:a,seccion:a.subseccion,creadas:a.mc+a.mp,finalizadas:a.mp,color1:"#96ffd9",color2:"#34d399",vs:!0,visualizar:u.skeleton.barrasSolucionados,rotarTexto:!0},null,8,["seccion","creadas","finalizadas","visualizar"])))),128))])]),i("h1",kd," Rankings américa "+l(u.seccion),1),i("h1",Sd,[Pd,i("span",zd,l(u.fechaA),1),Id,i("span",Dd,l(u.fechaB),1)]),i("div",Fd,[s(y,{nombre:"Más OT MP Creadas",color:"#00c4fa",menosAmas:!1,destinos:u.datosMP.rankingMPCreadas,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Más OT MP Solucionadas",color:"#34d399",menosAmas:!1,destinos:u.datosMP.rankingMPFinalizada,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Menos OT MP Acumuladas",color:"#563bff",menosAmas:!0,destinos:u.datosMP.rankingMPAcumulado,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Mas MP vs MC",color:"#fbbf24",simbolo:"%",menosAmas:!1,destinos:u.datosMP.rankingmcmpCreados,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"])]),i("h1",Ad," Rankings Usuarios "+l(u.seccion),1),i("h1",Ud,[jd,i("span",Od,l(u.fechaA),1),Rd,i("span",Ed,l(u.fechaB),1)]),i("div",Gd,[s(w,{nombre:"Creados por Usuarios",color:"#00c4fa",simbolo:"",menosAmas:!0,usuarios:u.datosMP.creadosUsuarios,visualizar:u.skeleton.rankingUsuarios},null,8,["usuarios","visualizar"]),s(w,{nombre:"Solucionados por Usuarios",color:"#34d399",simbolo:"",menosAmas:!0,usuarios:u.datosMP.solucionadosUsuarios,visualizar:u.skeleton.rankingUsuarios},null,8,["usuarios","visualizar"]),s(w,{nombre:"Acumulados por Usuarios",color:"#34d399",simbolo:"",menosAmas:!0,usuarios:u.datosMP.acumuladosUsuarios,visualizar:u.skeleton.rankingUsuarios},null,8,["usuarios","visualizar"])])])])])},qr.__scopeId="data-v-22a958ee";const Nd=[{path:"/mc/:idDestino",name:"Trmpmc",component:ks},{path:"/mc/:idDestino/seccion/:idSeccion",name:"TrmcSubsecciones",component:tt},{path:"/mp/:idDestino",name:"Trmp",component:Vn},{path:"/mp/:idDestino/seccion/:idSeccion",name:"TrmpSubsecciones",component:qr}],qd=B({history:L(),routes:Nd});var Td=V({state:{datosMC:{destino:"",creadas:0,enProceso:0,finalizado:0,acumulado:0,ratioCredas:0,ratioFinalizadas:0,mediaHoras:0,porcentajeSolucionado:0,rankingCreadas:0,rankingFinalizado:0,rankingAcumulado:0,mcFinalizado:0,mpFinalizado:0,mcmpFinalizado:[],mcCreados:0,mpCreados:0,mcmpCreados:[],rankingIncidenciasCreadas:[],rankingIncidenciasCreadasRatio:[],rankingIncidenciasFinalizada:[],rankingIncidenciasFinalizadaRatio:[],rankingEficiencia:[],rankingIncidenciasAcumulado:[],rankingIncidenciasAcumuladoRatio:[],rankingmcmpCreados:[],creadosUsuarios:[],solucionadosUsuarios:[],acumuladosUsuarios:[]},datosMP:{destino:"",totalSemanasPlanificadasGlobal:0,creadas:0,planificados:0,pendientes:0,finalizados:0,finalizadosPrevio:0,acumulado:0,ratioCredas:0,ratioFinalizadas:0,mediaHoras:0,planificadoVSfinalizado:[],mcFinalizado:0,mpFinalizado:0,mcmpFinalizados:[],mcCreados:0,mpCreados:0,mcmpCreados:[],planeacionesSecciones:[],totalPlanifiaciones:0,totalConPlanifiacion:0,totalConPlanificacionCompleta:0,totalConPlanificacionIncompleta:0,totalSinPlanificacion:0,rankingmcmpCreados:[],rankingMPCreadas:[],rankingMPCreadasRatio:[],rankingMPFinalizada:[],rankingMPFinalizadaRatio:[],rankingMPAcumulado:[],rankingMPAcumuladoRatio:[],rankingEficiencia:[],rankingCreadas:0,rankingFinalizado:0,rankingAcumulado:0,totalPlanificaciones:0,totalEquipos:0,totalEquiposConPlanificacion:0,totalEquiposPlanCompleto:0,totalEquiposSinPlanificacion:0,creadosUsuarios:[],solucionadosUsuarios:[],acumuladosUsuarios:[]},skeleton:{barrasCreadasVSSolucionadas:!0,barrasPlanificacionAnual:!0,barrasCreados:!0,barrasSolucionados:!0,ranking:!0,grafica:!0,marcadores:!0,rankingUsuarios:!1},array:[],arrayGrafica:[],arraySecciones:[],arrayRankingCreadas:[],seccion:"ZIA"},mutations:{},actions:{async peticion({commit:a},e){try{const a=await fetch("../api_v3/",{method:"POST",body:JSON.stringify(e)}),s=await a.json();return"SUCCESS"==s.response?{response:!0,data:s}:{response:!1,data:[]}}catch(s){return console.log(s),{response:!1,data:[]}}}},modules:{}});H(_).use(Td).use(qd).mount("#app");
