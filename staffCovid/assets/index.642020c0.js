import{r as k,o as p,c as u,a as _,u as $,b as x,d as t,w as g,v,n as y,t as i,e as S,f as A,F as C,g as F,h as E,i as R,j as V,k as U,l as O,V as j}from"./vendor.58a70897.js";const N=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function r(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(s){if(s.ep)return;s.ep=!0;const n=r(s);fetch(s.href,n)}};N();var M=(f,l)=>{const r=f.__vccOpts||f;for(const[c,s]of l)r[c]=s;return r};const I={components:{},name:"App"},L={class:"w-full flex flex-row items-start justify-start"};function P(f,l,r,c,s,n){const d=k("router-view");return p(),u("div",L,[_(d)])}var T=M(I,[["render",P]]);const z={props:{data:{type:Object},categorias:{type:Object}},setup(){return{}}},B={id:"chart",class:"w-full"};function G(f,l,r,c,s,n){const d=k("apexchart");return p(),u("div",B,[_(d,{height:300,options:{chart:{height:300,type:"line"},dataLabels:{enabled:!0},stroke:{curve:"smooth"},xaxis:{type:"date",categories:r.categorias},tooltip:{x:{format:"MMMM"}}},series:[{name:"Staff Aprobado",data:r.data}]},null,8,["options","series"])])}var H=M(z,[["render",G]]);const q={key:0,class:"w-full h-screen bg-black absolute z-50 flex items-center justify-center"},J={class:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 w-full md:w-96"},K={class:"mb-4"},W=t("label",{class:"block text-gray-700 text-sm text-left font-bold mb-2",for:"username"}," Fecha ",-1),Y={class:"mb-4"},Q=t("label",{class:"block text-gray-700 text-sm text-left font-bold mb-2",for:"username"}," Staff Aprobado ",-1),X={class:"mb-4"},Z=t("label",{class:"block text-gray-700 text-sm text-left font-bold mb-2",for:"username"}," Staff Contratado ",-1),tt={class:"mb-4"},et=t("label",{class:"block text-gray-700 text-sm text-left font-bold mb-2",for:"username"}," Staff faltante y con Covid ",-1),at={class:"mb-4"},ot=t("label",{class:"block text-gray-700 text-sm text-left font-bold mb-2",for:"username"}," Incapacidades m\xE9dicas",-1),st={class:"flex items-center justify-between"},nt={class:"w-full flex flex-col items-center p-4 h-screen overflow-auto"},rt={class:"flex flex-row items-center justify-center"},it=t("div",{class:"mr-6 text-3xl font-bold text-gray-700"},[t("h1",null,"Registro Staff")],-1),dt=E('<option value="2019">2019</option><option value="2020">2020</option><option value="2021">2021</option><option value="2022">2022</option><option value="2023">2023</option><option value="2024">2024</option><option value="2025">2025</option>',7),lt=[dt],ct=["value"],pt=t("button",{class:"py-2 px-4 bg-green-300 text-green-700 rounded-lg font-semibold mr-4"}," Exportar excel ",-1),ut={class:"w-full md:w-10/12"},ft={class:"flex flex-col md:w-auto w-full"},xt={class:"overflow-x-auto sm:-mx-6 lg:-mx-8"},gt={class:"inline-block py-2 min-w-full sm:px-6 lg:px-8"},mt={class:"overflow-hidden shadow-md rounded-lg"},ht={class:"min-w-full"},vt=t("thead",{class:"bg-gray-100 dark:bg-gray-700"},[t("tr",null,[t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Pa\xEDs "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Destino "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Fecha Registro "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Mes "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," A\xF1o "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Registr\xF3 "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Staff Aprobado "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Staff Contratado "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Diferencia Staff "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Staff faltante y con Covid "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Incapacidades m\xE9dicas "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Total Faltante "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Total real ")])],-1),yt=["onClick"],wt={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},bt={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},_t={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Ct={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white uppercase"},kt={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},St={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},At={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Ft={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Mt={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Dt={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},$t={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Et={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Rt={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Vt={setup(f){const l=new $,r=x([]),c=x([]),s=x(!1),n=x(new Date().getFullYear()),d=x(0),m=x({categorias:["Sin Datos"],data:[0]}),a=x({index:-1,idRegistro:-1,idDestino:0,fechaEstimada:"",staffAprobado:"",staffContratado:"",staffFaltanteConCovid:"",incapacidadesMedicas:""});(async()=>{r.value=[];const h={apartado:"staffCovid",accion:"opcionesDestino",idDestino:d.value,idUsuario:localStorage.getItem("usuario")},o=await l.dispatch("peticion",h);o.response&&(r.value=o.data.data)})();const w=async()=>{c.value=[],m.value.categorias=[],m.value.data=[];const h={apartado:"staffCovid",accion:"all",idDestino:d.value,idUsuario:localStorage.getItem("usuario"),a\u00F1o:n.value},o=await l.dispatch("peticion",h);if(o.response){c.value=o.data.data;const e={categorias:[],data:[]};o.data.data.forEach(b=>{e.categorias.push(b.fechaEstimada),e.data.push(b.staffAprobado)}),m.value.categorias=e.categorias,m.value.data=e.data}};w();const D=async()=>{if(a.value.idRegistro===""||a.value.fechaEstimada===""||a.value.staffAprobado===""||a.value.staffContratado===""||a.value.staffFaltanteConCovid===""||a.value.incapacidadesMedicas==="")return;const h=a.value.idRegistro===-1?"crear":"actualizar",o={apartado:"staffCovid",accion:h,idRegistro:a.value.idRegistro,idDestino:d.value,idUsuario:localStorage.getItem("usuario"),fechaEstimada:a.value.fechaEstimada,staffAprobado:a.value.staffAprobado,staffContratado:a.value.staffContratado,staffFaltanteConCovid:a.value.staffFaltanteConCovid,incapacidadesMedicas:a.value.incapacidadesMedicas};(await l.dispatch("peticion",o)).response&&(s.value=!1,w())};return(h,o)=>(p(),u(C,null,[s.value?(p(),u("div",q,[t("form",J,[t("div",K,[W,g(t("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>a.value.fechaEstimada=e),type:"date",class:y(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",a.value.fechaEstimada===""?"ring-1 ring-red-400":""]),placeholder:"Fecha"},null,2),[[v,a.value.fechaEstimada]])]),t("div",Y,[Q,g(t("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>a.value.staffAprobado=e),type:"number",class:y(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",a.value.staffAprobado===""?"ring-1 ring-red-400":""]),placeholder:"Staff Aprobado"},null,2),[[v,a.value.staffAprobado]])]),t("div",X,[Z,g(t("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>a.value.staffContratado=e),type:"number",class:y(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",a.value.staffContratado===""?"ring-1 ring-red-400":""]),placeholder:"Staff Contratado"},null,2),[[v,a.value.staffContratado]])]),t("div",tt,[et,g(t("input",{"onUpdate:modelValue":o[3]||(o[3]=e=>a.value.staffFaltanteConCovid=e),type:"number",class:y(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",a.value.staffFaltanteConCovid===""?"ring-1 ring-red-400":""]),placeholder:"Staff faltante y Covid"},null,2),[[v,a.value.staffFaltanteConCovid]])]),t("div",at,[ot,g(t("input",{"onUpdate:modelValue":o[4]||(o[4]=e=>a.value.incapacidadesMedicas=e),type:"number",class:y(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",a.value.incapacidadesMedicas===""?"ring-1 ring-red-400":""]),placeholder:"Incapacidades m\xE9dicas"},null,2),[[v,a.value.incapacidadesMedicas]])]),t("div",st,[t("button",{onClick:o[5]||(o[5]=e=>D()),class:"bg-green-500 w-1/2 hover:bg-green-700 text-white text-xs mr-2 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button"},i(a.value.idRegistro===-1?"Crear Registro":"Guardar Cambios"),1),t("button",{onClick:o[6]||(o[6]=e=>s.value=!1),class:"bg-red-500 w-1/2 hover:bg-red-700 text-white text-xs font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button"}," Cancelar ")])])])):S("",!0),t("div",nt,[t("div",rt,[it,g(t("select",{onChange:o[7]||(o[7]=e=>w()),"onUpdate:modelValue":o[8]||(o[8]=e=>n.value=e),class:"rounded-lg font-bold mr-6"},lt,544),[[A,n.value]]),g(t("select",{onChange:o[9]||(o[9]=e=>w()),"onUpdate:modelValue":o[10]||(o[10]=e=>d.value=e),class:"rounded-lg font-bold mr-6"},[(p(!0),u(C,null,F(r.value,e=>(p(),u("option",{key:e.idDestino,value:e.idDestino},i(e.destino),9,ct))),128))],544),[[A,d.value]]),pt,d.value>0?(p(),u("button",{key:0,onClick:o[11]||(o[11]=e=>(s.value=!0,a.value.index=-1,a.value.idRegistro=-1,a.value.fechaEstimada="",a.value.staffAprobado="",a.value.staffContratado="",a.value.staffFaltanteConCovid="",a.value.incapacidadesMedicas="")),class:"py-2 px-4 bg-blue-300 text-blue-700 rounded-lg font-semibold"}," A\xF1adir registro ")):S("",!0)]),t("div",ut,[_(H,{data:m.value.data,categorias:m.value.categorias},null,8,["data","categorias"])]),t("div",ft,[t("div",xt,[t("div",gt,[t("div",mt,[t("table",ht,[vt,t("tbody",null,[(p(!0),u(C,null,F(c.value,(e,b)=>(p(),u("tr",{onClick:Lt=>(a.value=e,s.value=!0),key:b,class:"cursor-pointer border-b odd:bg-white even:bg-gray-50 odd:dark:bg-gray-800 even:dark:bg-gray-700 dark:border-gray-600"},[t("td",wt,i(e.pais),1),t("td",bt,i(e.destino),1),t("td",_t,i(e.fechaEstimada),1),t("td",Ct,i(e.mes),1),t("td",kt,i(e.a\u00F1o),1),t("td",St,i(e.registradoPor),1),t("td",At,i(e.staffAprobado),1),t("td",Ft,i(e.staffContratado),1),t("td",Mt,i(e.staffAprobado-e.staffContratado),1),t("td",Dt,i(e.staffFaltanteConCovid),1),t("td",$t,i(e.incapacidadesMedicas),1),t("td",Et,i(e.staffAprobado-e.staffContratado+(e.staffFaltanteConCovid+e.incapacidadesMedicas)),1),t("td",Rt,i(e.staffContratado-(e.staffAprobado-e.staffContratado+(e.staffFaltanteConCovid+e.incapacidadesMedicas))),1)],8,yt))),128))])])])])])])])],64))}},Ut=[{path:"/",component:Vt}],Ot=R(),jt=V({history:Ot,routes:Ut});var Nt=U({state:{},mutations:{},actions:{async peticion({commit:f},l){try{const c=await(await fetch("http://localhost/maphg-beta/api_v3/",{method:"POST",body:JSON.stringify(l)})).json();return c.response=="SUCCESS"?{response:!0,data:c}:{response:!1,data:[]}}catch(r){return console.log(r),{response:!1,data:[]}}}},modules:{}});O(T).use(Nt).use(jt).use(j).mount("#app");
