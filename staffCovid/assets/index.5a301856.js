import{r as F,o as u,c as f,a as k,u as $,b as x,d as t,w as m,v as y,n as w,t as i,e as _,f as M,F as S,g as D,h as E,i as V,j as U,k as O,l as j,V as N}from"./vendor.58a70897.js";const T=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&c(r)}).observe(document,{childList:!0,subtree:!0});function d(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(s){if(s.ep)return;s.ep=!0;const n=d(s);fetch(s.href,n)}};T();var R=(v,l)=>{const d=v.__vccOpts||v;for(const[c,s]of l)d[c]=s;return d};const I={components:{},name:"App"},L={class:"w-full flex flex-row items-start justify-start"};function P(v,l,d,c,s,n){const r=F("router-view");return u(),f("div",L,[k(r)])}var z=R(I,[["render",P]]);const B={props:{series:{type:Object},categorias:{type:Object}},setup(){return{}}},G={id:"chart",class:"w-full"};function H(v,l,d,c,s,n){const r=F("apexchart");return u(),f("div",G,[k(r,{height:300,options:{chart:{height:300,type:"line"},dataLabels:{enabled:!0},stroke:{curve:"smooth"},xaxis:{type:"date",categories:d.categorias},tooltip:{x:{format:"MMMM"}}},series:d.series},null,8,["options","series"])])}var q=R(B,[["render",H]]);const J={key:0,class:"w-full h-screen bg-black absolute z-50 flex items-center justify-center"},K={class:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 w-full md:w-96"},W={class:"mb-4"},Y=t("label",{class:"block text-gray-700 text-sm text-left font-bold mb-2",for:"username"}," Fecha ",-1),Q={class:"mb-4"},X=t("label",{class:"block text-gray-700 text-sm text-left font-bold mb-2",for:"username"}," Staff Aprobado ",-1),Z={class:"mb-4"},tt=t("label",{class:"block text-gray-700 text-sm text-left font-bold mb-2",for:"username"}," Staff Contratado ",-1),et={class:"mb-4"},at=t("label",{class:"block text-gray-700 text-sm text-left font-bold mb-2",for:"username"}," Staff faltante y con Covid ",-1),ot={class:"mb-4"},st=t("label",{class:"block text-gray-700 text-sm text-left font-bold mb-2",for:"username"}," Incapacidades m\xE9dicas",-1),nt={class:"flex items-center justify-between"},rt={class:"w-full flex flex-col items-center p-4 h-screen overflow-auto"},dt={class:"flex flex-row items-center justify-center"},it=t("div",{class:"mr-6 text-3xl font-bold text-gray-700"},[t("h1",null,"Registro Staff")],-1),lt=E('<option value="2019">2019</option><option value="2020">2020</option><option value="2021">2021</option><option value="2022">2022</option><option value="2023">2023</option><option value="2024">2024</option><option value="2025">2025</option>',7),ct=[lt],pt=["value"],ut=["href"],ft={class:"w-full md:w-10/12"},xt={class:"flex flex-col md:w-auto w-full"},vt={class:"overflow-x-auto sm:-mx-6 lg:-mx-8"},mt={class:"inline-block py-2 min-w-full sm:px-6 lg:px-8"},gt={class:"overflow-hidden shadow-md rounded-lg"},ht={class:"min-w-full"},yt=t("thead",{class:"bg-gray-100 dark:bg-gray-700"},[t("tr",null,[t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Pa\xEDs "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Destino "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Fecha "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Mes "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," A\xF1o "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Registr\xF3 "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Staff Aprobado "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Staff Contratado "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Diferencia Staff "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Staff faltante y con Covid "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Incapacidades m\xE9dicas "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Total Faltante "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Total real ")])],-1),wt=["onClick"],bt={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},_t={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Ct={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},kt={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white uppercase"},St={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},At={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Ft={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Mt={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Dt={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Rt={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},$t={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Et={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Vt={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Ut={setup(v){const l=new $,d=x([]),c=x([]),s=x(!1),n=x(new Date().getFullYear()),r=x(0),C=x({categorias:["Sin Datos"],data:[0]}),g=x([{name:"Staff Aprobado",data:[0]},{name:"Staff Contratado",data:[0]},{name:"Total Faltante",data:[0]},{name:"Total Real",data:[0]}]),a=x({index:-1,idRegistro:-1,idDestino:0,fechaEstimada:"",staffAprobado:"",staffContratado:"",staffFaltanteConCovid:"",incapacidadesMedicas:""});(async()=>{d.value=[];const h={apartado:"staffCovid",accion:"opcionesDestino",idDestino:r.value,idUsuario:localStorage.getItem("usuario")},o=await l.dispatch("peticion",h);o.response&&(d.value=o.data.data)})();const b=async()=>{c.value=[],C.value=[],g.value=[{name:"Staff Aprobado",data:[0]},{name:"Staff Contratado",data:[0]},{name:"Total Faltante",data:[0]},{name:"Total Real",data:[0]}];const h={apartado:"staffCovid",accion:"all",idDestino:r.value,idUsuario:localStorage.getItem("usuario"),a\u00F1o:n.value},o=await l.dispatch("peticion",h);if(o.response){c.value=o.data.data;const e={categorias:[],staffAprobado:[],staffContratado:[],totalFaltantes:[],totalReal:[]};o.data.data.forEach(p=>{e.categorias.push(p.fechaEstimada),e.staffAprobado.push(p.staffAprobado),e.staffContratado.push(p.staffContratado),e.totalFaltantes.push(p.staffAprobado-(p.staffFaltanteConCovid+p.incapacidadesMedicas)),e.totalReal.push(p.staffContratado-(p.staffFaltanteConCovid+p.incapacidadesMedicas))}),C.value=e.categorias,g.value[0].data=e.staffAprobado,g.value[1].data=e.staffContratado,g.value[2].data=e.totalFaltantes,g.value[3].data=e.totalReal}};b();const A=async()=>{if(a.value.idRegistro===""||a.value.fechaEstimada===""||a.value.staffAprobado===""||a.value.staffContratado===""||a.value.staffFaltanteConCovid===""||a.value.incapacidadesMedicas==="")return;const h=a.value.idRegistro===-1?"crear":"actualizar",o={apartado:"staffCovid",accion:h,idRegistro:a.value.idRegistro,idDestino:r.value,idUsuario:localStorage.getItem("usuario"),fechaEstimada:a.value.fechaEstimada,staffAprobado:a.value.staffAprobado,staffContratado:a.value.staffContratado,staffFaltanteConCovid:a.value.staffFaltanteConCovid,incapacidadesMedicas:a.value.incapacidadesMedicas,activo:a.value.activo};(await l.dispatch("peticion",o)).response&&(s.value=!1,b())};return(h,o)=>(u(),f(S,null,[s.value?(u(),f("div",J,[t("form",K,[t("div",W,[Y,m(t("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>a.value.fechaEstimada=e),type:"date",class:w(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",a.value.fechaEstimada===""?"ring-1 ring-red-400":""]),placeholder:"Fecha"},null,2),[[y,a.value.fechaEstimada]])]),t("div",Q,[X,m(t("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>a.value.staffAprobado=e),type:"number",class:w(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",a.value.staffAprobado===""?"ring-1 ring-red-400":""]),placeholder:"Staff Aprobado"},null,2),[[y,a.value.staffAprobado]])]),t("div",Z,[tt,m(t("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>a.value.staffContratado=e),type:"number",class:w(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",a.value.staffContratado===""?"ring-1 ring-red-400":""]),placeholder:"Staff Contratado"},null,2),[[y,a.value.staffContratado]])]),t("div",et,[at,m(t("input",{"onUpdate:modelValue":o[3]||(o[3]=e=>a.value.staffFaltanteConCovid=e),type:"number",class:w(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",a.value.staffFaltanteConCovid===""?"ring-1 ring-red-400":""]),placeholder:"Staff faltante y Covid"},null,2),[[y,a.value.staffFaltanteConCovid]])]),t("div",ot,[st,m(t("input",{"onUpdate:modelValue":o[4]||(o[4]=e=>a.value.incapacidadesMedicas=e),type:"number",class:w(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",a.value.incapacidadesMedicas===""?"ring-1 ring-red-400":""]),placeholder:"Incapacidades m\xE9dicas"},null,2),[[y,a.value.incapacidadesMedicas]])]),t("div",nt,[t("button",{onClick:o[5]||(o[5]=e=>A()),class:"bg-green-500 w-1/2 hover:bg-green-700 text-white text-xs mr-2 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button"},i(a.value.idRegistro===-1?"Crear":"Guardar"),1),a.value.idRegistro>0?(u(),f("button",{key:0,onClick:o[6]||(o[6]=e=>{a.value.activo=0,A()}),class:"bg-red-500 w-1/2 hover:bg-red-700 text-white text-xs mr-2 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button"}," Eliminar ")):_("",!0),t("button",{onClick:o[7]||(o[7]=e=>s.value=!1),class:"bg-yellow-500 w-1/2 hover:bg-yellow-700 text-white text-xs font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button"}," Cancelar ")])])])):_("",!0),t("div",rt,[t("div",dt,[it,m(t("select",{onChange:o[8]||(o[8]=e=>b()),"onUpdate:modelValue":o[9]||(o[9]=e=>n.value=e),class:"rounded-lg font-bold mr-6"},ct,544),[[M,n.value]]),m(t("select",{onChange:o[10]||(o[10]=e=>b()),"onUpdate:modelValue":o[11]||(o[11]=e=>r.value=e),class:"rounded-lg font-bold mr-6"},[(u(!0),f(S,null,D(d.value,e=>(u(),f("option",{key:e.idDestino,value:e.idDestino},i(e.destino),9,pt))),128))],544),[[M,r.value]]),n.value>0&&r.value>0?(u(),f("a",{key:0,class:"py-2 px-4 bg-green-300 text-green-700 rounded-lg font-semibold mr-4",href:"../php/reporteStaffCovid.php?idDestino="+r.value+"&a\xF1o="+n.value,target:"_blank"}," Exportar excel ",8,ut)):_("",!0),r.value>0?(u(),f("button",{key:1,onClick:o[12]||(o[12]=e=>(s.value=!0,a.value.index=-1,a.value.idRegistro=-1,a.value.fechaEstimada="",a.value.staffAprobado="",a.value.staffContratado="",a.value.staffFaltanteConCovid="",a.value.incapacidadesMedicas="")),class:"py-2 px-4 bg-blue-300 text-blue-700 rounded-lg font-semibold"}," A\xF1adir registro ")):_("",!0)]),t("div",ft,[k(q,{series:g.value,categorias:C.value},null,8,["series","categorias"])]),t("div",xt,[t("div",vt,[t("div",mt,[t("div",gt,[t("table",ht,[yt,t("tbody",null,[(u(!0),f(S,null,D(c.value,(e,p)=>(u(),f("tr",{onClick:Lt=>(a.value=e,s.value=!0),key:p,class:"cursor-pointer border-b odd:bg-white even:bg-gray-50 odd:dark:bg-gray-800 even:dark:bg-gray-700 dark:border-gray-600"},[t("td",bt,i(e.pais),1),t("td",_t,i(e.destino),1),t("td",Ct,i(e.fechaEstimada),1),t("td",kt,i(e.mes),1),t("td",St,i(e.a\u00F1o),1),t("td",At,i(e.creadoPor),1),t("td",Ft,i(e.staffAprobado),1),t("td",Mt,i(e.staffContratado),1),t("td",Dt,i(e.staffAprobado-e.staffContratado),1),t("td",Rt,i(e.staffFaltanteConCovid),1),t("td",$t,i(e.incapacidadesMedicas),1),t("td",Et,i(e.staffAprobado-(e.staffFaltanteConCovid+e.incapacidadesMedicas)),1),t("td",Vt,i(e.staffContratado-(e.staffFaltanteConCovid+e.incapacidadesMedicas)),1)],8,wt))),128))])])])])])])])],64))}},Ot=[{path:"/",component:Ut}],jt=V(),Nt=U({history:jt,routes:Ot});var Tt=O({state:{},mutations:{},actions:{async peticion({commit:v},l){try{const c=await(await fetch("../api_v3/",{method:"POST",body:JSON.stringify(l)})).json();return c.response=="SUCCESS"?{response:!0,data:c}:{response:!1,data:[]}}catch(d){return console.log(d),{response:!1,data:[]}}}},modules:{}});j(z).use(Tt).use(Nt).use(N).mount("#app");
