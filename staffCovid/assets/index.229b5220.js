import{r as k,o as f,c as x,a as _,b as p,u as E,d as t,w as m,v as h,n as v,t as l,e as S,f as A,F as C,g as M,h as R,i as V,j as O,k as U,l as j,V as I}from"./vendor.58a70897.js";const L=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function r(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(s){if(s.ep)return;s.ep=!0;const n=r(s);fetch(s.href,n)}};L();var F=(u,i)=>{const r=u.__vccOpts||u;for(const[c,s]of i)r[c]=s;return r};const N={components:{},name:"App"},P={class:"w-full flex flex-row items-start justify-start"};function G(u,i,r,c,s,n){const d=k("router-view");return f(),x("div",P,[_(d)])}var T=F(N,[["render",G]]);const z={props:{data:{type:Object},categorias:{type:Object}},setup(u){const i=p({chart:{height:300,type:"line"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{type:"date",categories:[]},tooltip:{x:{format:"MMMM"}}});return{series:p([{name:"Faltantes(COVID incluido)",data:u.data}]),chartOptions:i}}},B={id:"chart",class:"w-full"};function H(u,i,r,c,s,n){const d=k("apexchart");return f(),x("div",B,[_(d,{height:c.chartOptions.chart.height,options:{chart:{height:300,type:"line"},dataLabels:{enabled:!0},stroke:{curve:"smooth"},xaxis:{type:"date",categories:r.categorias},tooltip:{x:{format:"MMMM"}}},series:[{name:"Staff Aprobado",data:r.data}]},null,8,["height","options","series"])])}var q=F(z,[["render",H]]);const J={key:0,class:"w-full h-screen bg-black absolute z-50 flex items-center justify-center"},K={class:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 w-full md:w-96"},W={class:"mb-4"},Y=t("label",{class:"block text-gray-700 text-sm text-left font-bold mb-2",for:"username"}," Fecha ",-1),Q={class:"mb-4"},X=t("label",{class:"block text-gray-700 text-sm text-left font-bold mb-2",for:"username"}," Staff Aprobado ",-1),Z={class:"mb-4"},tt=t("label",{class:"block text-gray-700 text-sm text-left font-bold mb-2",for:"username"}," Staff Contratado ",-1),et={class:"mb-4"},at=t("label",{class:"block text-gray-700 text-sm text-left font-bold mb-2",for:"username"}," Staff faltante y con Covid ",-1),ot={class:"mb-4"},st=t("label",{class:"block text-gray-700 text-sm text-left font-bold mb-2",for:"username"}," Incapacidades m\xE9dicas",-1),nt={class:"flex items-center justify-between"},rt={class:"w-full flex flex-col items-center p-4 h-screen overflow-auto"},it={class:"flex flex-row items-center justify-center"},dt=t("div",{class:"mr-6 text-3xl font-bold text-gray-700"},[t("h1",null,"Registro Staff")],-1),lt=R('<option value="2019">2019</option><option value="2020">2020</option><option value="2021">2021</option><option value="2022">2022</option><option value="2023">2023</option><option value="2024">2024</option><option value="2025">2025</option>',7),ct=[lt],pt=["value"],ut=t("button",{class:"py-2 px-4 bg-green-300 text-green-700 rounded-lg font-semibold mr-4"}," Exportar excel ",-1),ft={class:"w-full md:w-10/12"},xt={class:"flex flex-col md:w-auto w-full"},mt={class:"overflow-x-auto sm:-mx-6 lg:-mx-8"},gt={class:"inline-block py-2 min-w-full sm:px-6 lg:px-8"},ht={class:"overflow-hidden shadow-md rounded-lg"},vt={class:"min-w-full"},yt=t("thead",{class:"bg-gray-100 dark:bg-gray-700"},[t("tr",null,[t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Pais "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Destino "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Fecha Registro "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Mes "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," A\xF1o "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Registr\xF3 "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Staff Aprobado "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Staff Contratado "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Diferencia Staff "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Staff faltante y con Covid "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Incapacidades m\xE9dicas "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Total Faltante "),t("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Total real ")])],-1),wt=["onClick"],bt={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},_t={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Ct={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},kt={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white uppercase"},St={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},At={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Mt={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Ft={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Dt={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},$t={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Et={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Rt={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Vt={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Ot={setup(u){const i=new E,r=p([]),c=p([]),s=p(!1),n=p(new Date().getFullYear()),d=p(0),w=p([]),b=p([]),a=p({index:-1,idRegistro:-1,idDestino:0,fechaEstimada:"",staffAprobado:"",staffContratado:"",staffFaltanteConCovid:"",incapacidadesMedicas:""});(async()=>{r.value=[];const g={apartado:"staffCovid",accion:"opcionesDestino",idDestino:d.value,idUsuario:localStorage.getItem("usuario")},o=await i.dispatch("peticion",g);o.response&&(r.value=o.data.data)})();const y=async()=>{c.value=[],w.value=[],b.value=[];const g={apartado:"staffCovid",accion:"all",idDestino:d.value,idUsuario:localStorage.getItem("usuario"),a\u00F1o:n.value},o=await i.dispatch("peticion",g);o.response&&(c.value=o.data.data,o.data.data.forEach(e=>{e.idDestino==d.value&&(w.value.push(e.staffAprobado),b.value.push(e.fechaEstimada))}))};y();const D=async()=>{if(a.value.idRegistro===""||a.value.fechaEstimada===""||a.value.staffAprobado===""||a.value.staffContratado===""||a.value.staffFaltanteConCovid===""||a.value.incapacidadesMedicas==="")return;const g=a.value.idRegistro===-1?"crear":"actualizar",o={apartado:"staffCovid",accion:g,idRegistro:a.value.idRegistro,idDestino:d.value,idUsuario:localStorage.getItem("usuario"),fechaEstimada:a.value.fechaEstimada,staffAprobado:a.value.staffAprobado,staffContratado:a.value.staffContratado,staffFaltanteConCovid:a.value.staffFaltanteConCovid,incapacidadesMedicas:a.value.incapacidadesMedicas};(await i.dispatch("peticion",o)).response&&(s.value=!1,y())};return(g,o)=>(f(),x(C,null,[s.value?(f(),x("div",J,[t("form",K,[t("div",W,[Y,m(t("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>a.value.fechaEstimada=e),type:"date",class:v(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",a.value.fechaEstimada===""?"ring-1 ring-red-400":""]),placeholder:"Fecha"},null,2),[[h,a.value.fechaEstimada]])]),t("div",Q,[X,m(t("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>a.value.staffAprobado=e),type:"number",class:v(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",a.value.staffAprobado===""?"ring-1 ring-red-400":""]),placeholder:"Staff Aprobado"},null,2),[[h,a.value.staffAprobado]])]),t("div",Z,[tt,m(t("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>a.value.staffContratado=e),type:"number",class:v(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",a.value.staffContratado===""?"ring-1 ring-red-400":""]),placeholder:"Staff Contratado"},null,2),[[h,a.value.staffContratado]])]),t("div",et,[at,m(t("input",{"onUpdate:modelValue":o[3]||(o[3]=e=>a.value.staffFaltanteConCovid=e),type:"number",class:v(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",a.value.staffFaltanteConCovid===""?"ring-1 ring-red-400":""]),placeholder:"Staff faltante y Covid"},null,2),[[h,a.value.staffFaltanteConCovid]])]),t("div",ot,[st,m(t("input",{"onUpdate:modelValue":o[4]||(o[4]=e=>a.value.incapacidadesMedicas=e),type:"number",class:v(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",a.value.incapacidadesMedicas===""?"ring-1 ring-red-400":""]),placeholder:"Incapacidades m\xE9dicas"},null,2),[[h,a.value.incapacidadesMedicas]])]),t("div",nt,[t("button",{onClick:o[5]||(o[5]=e=>D()),class:"bg-green-500 w-1/2 hover:bg-green-700 text-white text-xs mr-2 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button"},l(a.value.idRegistro===-1?"Crear Registro":"Guardar Cambios"),1),t("button",{onClick:o[6]||(o[6]=e=>s.value=!1),class:"bg-red-500 w-1/2 hover:bg-red-700 text-white text-xs font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button"}," Cancelar ")])])])):S("",!0),t("div",rt,[t("div",it,[dt,m(t("select",{onChange:o[7]||(o[7]=e=>y()),"onUpdate:modelValue":o[8]||(o[8]=e=>n.value=e),class:"rounded-lg font-bold mr-6"},ct,544),[[A,n.value]]),m(t("select",{onChange:o[9]||(o[9]=e=>y()),"onUpdate:modelValue":o[10]||(o[10]=e=>d.value=e),class:"rounded-lg font-bold mr-6"},[(f(!0),x(C,null,M(r.value,e=>(f(),x("option",{key:e.idDestino,value:e.idDestino},l(e.destino),9,pt))),128))],544),[[A,d.value]]),ut,d.value>0?(f(),x("button",{key:0,onClick:o[11]||(o[11]=e=>(s.value=!0,a.value.index=-1,a.value.idRegistro=-1,a.value.fechaEstimada="",a.value.staffAprobado="",a.value.staffContratado="",a.value.staffFaltanteConCovid="",a.value.incapacidadesMedicas="")),class:"py-2 px-4 bg-blue-300 text-blue-700 rounded-lg font-semibold"}," A\xF1adir registro ")):S("",!0)]),t("div",ft,[_(q,{data:w.value,categorias:b.value},null,8,["data","categorias"])]),t("div",xt,[t("div",mt,[t("div",gt,[t("div",ht,[t("table",vt,[yt,t("tbody",null,[(f(!0),x(C,null,M(c.value,(e,$)=>(f(),x("tr",{onClick:Pt=>(a.value=e,s.value=!0),key:$,class:"cursor-pointer border-b odd:bg-white even:bg-gray-50 odd:dark:bg-gray-800 even:dark:bg-gray-700 dark:border-gray-600"},[t("td",bt,l(e.pais),1),t("td",_t,l(e.destino),1),t("td",Ct,l(e.fechaEstimada),1),t("td",kt,l(e.mes),1),t("td",St,l(e.a\u00F1o),1),t("td",At,l(e.registradoPor),1),t("td",Mt,l(e.staffAprobado),1),t("td",Ft,l(e.staffContratado),1),t("td",Dt,l(e.staffAprobado-e.staffContratado),1),t("td",$t,l(e.staffFaltanteConCovid),1),t("td",Et,l(e.incapacidadesMedicas),1),t("td",Rt,l(e.staffAprobado-e.staffContratado+(e.staffFaltanteConCovid+e.incapacidadesMedicas)),1),t("td",Vt,l(e.staffContratado-(e.staffAprobado-e.staffContratado+(e.staffFaltanteConCovid+e.incapacidadesMedicas))),1)],8,wt))),128))])])])])])])])],64))}},Ut=[{path:"/",component:Ot}],jt=V(),It=O({history:jt,routes:Ut});var Lt=U({state:{},mutations:{},actions:{async peticion({commit:u},i){try{const c=await(await fetch("../api_v3/",{method:"POST",body:JSON.stringify(i)})).json();return c.response=="SUCCESS"?{response:!0,data:c}:{response:!1,data:[]}}catch(r){return console.log(r),{response:!1,data:[]}}}},modules:{}});j(T).use(Lt).use(It).use(I).mount("#app");
