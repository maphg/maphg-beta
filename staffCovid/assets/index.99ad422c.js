import{r as S,o as p,c as u,a as b,u as $,b as x,d as e,w as g,v as h,n as y,t as d,e as C,f as A,F as k,g as F,h as E,i as R,j as V,k as U,l as O,V as j}from"./vendor.58a70897.js";const N=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&c(r)}).observe(document,{childList:!0,subtree:!0});function i(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(s){if(s.ep)return;s.ep=!0;const n=i(s);fetch(s.href,n)}};N();var M=(f,l)=>{const i=f.__vccOpts||f;for(const[c,s]of l)i[c]=s;return i};const I={components:{},name:"App"},L={class:"w-full flex flex-row items-start justify-start"};function P(f,l,i,c,s,n){const r=S("router-view");return p(),u("div",L,[b(r)])}var T=M(I,[["render",P]]);const z={props:{data:{type:Object},categorias:{type:Object}},setup(){return{}}},B={id:"chart",class:"w-full"};function G(f,l,i,c,s,n){const r=S("apexchart");return p(),u("div",B,[b(r,{height:300,options:{chart:{height:300,type:"line"},dataLabels:{enabled:!0},stroke:{curve:"smooth"},xaxis:{type:"date",categories:i.categorias},tooltip:{x:{format:"MMMM"}}},series:[{name:"Staff Aprobado",data:i.data}]},null,8,["options","series"])])}var H=M(z,[["render",G]]);const q={key:0,class:"w-full h-screen bg-black absolute z-50 flex items-center justify-center"},J={class:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 w-full md:w-96"},K={class:"mb-4"},W=e("label",{class:"block text-gray-700 text-sm text-left font-bold mb-2",for:"username"}," Fecha ",-1),Y={class:"mb-4"},Q=e("label",{class:"block text-gray-700 text-sm text-left font-bold mb-2",for:"username"}," Staff Aprobado ",-1),X={class:"mb-4"},Z=e("label",{class:"block text-gray-700 text-sm text-left font-bold mb-2",for:"username"}," Staff Contratado ",-1),ee={class:"mb-4"},te=e("label",{class:"block text-gray-700 text-sm text-left font-bold mb-2",for:"username"}," Staff faltante y con Covid ",-1),ae={class:"mb-4"},oe=e("label",{class:"block text-gray-700 text-sm text-left font-bold mb-2",for:"username"}," Incapacidades m\xE9dicas",-1),se={class:"flex items-center justify-between"},ne={class:"w-full flex flex-col items-center p-4 h-screen overflow-auto"},re={class:"flex flex-row items-center justify-center"},ie=e("div",{class:"mr-6 text-3xl font-bold text-gray-700"},[e("h1",null,"Registro Staff")],-1),de=E('<option value="2019">2019</option><option value="2020">2020</option><option value="2021">2021</option><option value="2022">2022</option><option value="2023">2023</option><option value="2024">2024</option><option value="2025">2025</option>',7),le=[de],ce=["value"],pe=["href"],ue={class:"w-full md:w-10/12"},fe={class:"flex flex-col md:w-auto w-full"},xe={class:"overflow-x-auto sm:-mx-6 lg:-mx-8"},ge={class:"inline-block py-2 min-w-full sm:px-6 lg:px-8"},me={class:"overflow-hidden shadow-md rounded-lg"},ve={class:"min-w-full"},he=e("thead",{class:"bg-gray-100 dark:bg-gray-700"},[e("tr",null,[e("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Pa\xEDs "),e("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Destino "),e("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Fecha Registro "),e("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Mes "),e("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," A\xF1o "),e("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Registr\xF3 "),e("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Staff Aprobado "),e("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Staff Contratado "),e("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Diferencia Staff "),e("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Staff faltante y con Covid "),e("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Incapacidades m\xE9dicas "),e("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Total Faltante "),e("th",{scope:"col",class:"py-3 px-2 text-xs font-medium tracking-wider text-center text-gray-200 uppercase"}," Total real ")])],-1),ye=["onClick"],we={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},_e={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},be={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Ce={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white uppercase"},ke={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Se={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Ae={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Fe={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Me={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},De={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},$e={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Ee={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Re={class:"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white"},Ve={setup(f){const l=new $,i=x([]),c=x([]),s=x(!1),n=x(new Date().getFullYear()),r=x(0),m=x({categorias:["Sin Datos"],data:[0]}),a=x({index:-1,idRegistro:-1,idDestino:0,fechaEstimada:"",staffAprobado:"",staffContratado:"",staffFaltanteConCovid:"",incapacidadesMedicas:""});(async()=>{i.value=[];const v={apartado:"staffCovid",accion:"opcionesDestino",idDestino:r.value,idUsuario:localStorage.getItem("usuario")},o=await l.dispatch("peticion",v);o.response&&(i.value=o.data.data)})();const w=async()=>{c.value=[],m.value.categorias=[],m.value.data=[];const v={apartado:"staffCovid",accion:"all",idDestino:r.value,idUsuario:localStorage.getItem("usuario"),a\u00F1o:n.value},o=await l.dispatch("peticion",v);if(o.response){c.value=o.data.data;const t={categorias:[],data:[]};o.data.data.forEach(_=>{t.categorias.push(_.fechaEstimada),t.data.push(_.staffAprobado)}),m.value.categorias=t.categorias,m.value.data=t.data}};w();const D=async()=>{if(a.value.idRegistro===""||a.value.fechaEstimada===""||a.value.staffAprobado===""||a.value.staffContratado===""||a.value.staffFaltanteConCovid===""||a.value.incapacidadesMedicas==="")return;const v=a.value.idRegistro===-1?"crear":"actualizar",o={apartado:"staffCovid",accion:v,idRegistro:a.value.idRegistro,idDestino:r.value,idUsuario:localStorage.getItem("usuario"),fechaEstimada:a.value.fechaEstimada,staffAprobado:a.value.staffAprobado,staffContratado:a.value.staffContratado,staffFaltanteConCovid:a.value.staffFaltanteConCovid,incapacidadesMedicas:a.value.incapacidadesMedicas};(await l.dispatch("peticion",o)).response&&(s.value=!1,w())};return(v,o)=>(p(),u(k,null,[s.value?(p(),u("div",q,[e("form",J,[e("div",K,[W,g(e("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>a.value.fechaEstimada=t),type:"date",class:y(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",a.value.fechaEstimada===""?"ring-1 ring-red-400":""]),placeholder:"Fecha"},null,2),[[h,a.value.fechaEstimada]])]),e("div",Y,[Q,g(e("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>a.value.staffAprobado=t),type:"number",class:y(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",a.value.staffAprobado===""?"ring-1 ring-red-400":""]),placeholder:"Staff Aprobado"},null,2),[[h,a.value.staffAprobado]])]),e("div",X,[Z,g(e("input",{"onUpdate:modelValue":o[2]||(o[2]=t=>a.value.staffContratado=t),type:"number",class:y(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",a.value.staffContratado===""?"ring-1 ring-red-400":""]),placeholder:"Staff Contratado"},null,2),[[h,a.value.staffContratado]])]),e("div",ee,[te,g(e("input",{"onUpdate:modelValue":o[3]||(o[3]=t=>a.value.staffFaltanteConCovid=t),type:"number",class:y(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",a.value.staffFaltanteConCovid===""?"ring-1 ring-red-400":""]),placeholder:"Staff faltante y Covid"},null,2),[[h,a.value.staffFaltanteConCovid]])]),e("div",ae,[oe,g(e("input",{"onUpdate:modelValue":o[4]||(o[4]=t=>a.value.incapacidadesMedicas=t),type:"number",class:y(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",a.value.incapacidadesMedicas===""?"ring-1 ring-red-400":""]),placeholder:"Incapacidades m\xE9dicas"},null,2),[[h,a.value.incapacidadesMedicas]])]),e("div",se,[e("button",{onClick:o[5]||(o[5]=t=>D()),class:"bg-green-500 w-1/2 hover:bg-green-700 text-white text-xs mr-2 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button"},d(a.value.idRegistro===-1?"Crear Registro":"Guardar Cambios"),1),e("button",{onClick:o[6]||(o[6]=t=>s.value=!1),class:"bg-red-500 w-1/2 hover:bg-red-700 text-white text-xs font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button"}," Cancelar ")])])])):C("",!0),e("div",ne,[e("div",re,[ie,g(e("select",{onChange:o[7]||(o[7]=t=>w()),"onUpdate:modelValue":o[8]||(o[8]=t=>n.value=t),class:"rounded-lg font-bold mr-6"},le,544),[[A,n.value]]),g(e("select",{onChange:o[9]||(o[9]=t=>w()),"onUpdate:modelValue":o[10]||(o[10]=t=>r.value=t),class:"rounded-lg font-bold mr-6"},[(p(!0),u(k,null,F(i.value,t=>(p(),u("option",{key:t.idDestino,value:t.idDestino},d(t.destino),9,ce))),128))],544),[[A,r.value]]),n.value>0&&r.value>0?(p(),u("a",{key:0,class:"py-2 px-4 bg-green-300 text-green-700 rounded-lg font-semibold mr-4",href:"../php/reporteStaffCovid.php?idDestino="+r.value+"&a\xF1o="+n.value,target:"_blank"}," Exportar excel ",8,pe)):C("",!0),r.value>0?(p(),u("button",{key:1,onClick:o[11]||(o[11]=t=>(s.value=!0,a.value.index=-1,a.value.idRegistro=-1,a.value.fechaEstimada="",a.value.staffAprobado="",a.value.staffContratado="",a.value.staffFaltanteConCovid="",a.value.incapacidadesMedicas="")),class:"py-2 px-4 bg-blue-300 text-blue-700 rounded-lg font-semibold"}," A\xF1adir registro ")):C("",!0)]),e("div",ue,[b(H,{data:m.value.data,categorias:m.value.categorias},null,8,["data","categorias"])]),e("div",fe,[e("div",xe,[e("div",ge,[e("div",me,[e("table",ve,[he,e("tbody",null,[(p(!0),u(k,null,F(c.value,(t,_)=>(p(),u("tr",{onClick:Le=>(a.value=t,s.value=!0),key:_,class:"cursor-pointer border-b odd:bg-white even:bg-gray-50 odd:dark:bg-gray-800 even:dark:bg-gray-700 dark:border-gray-600"},[e("td",we,d(t.pais),1),e("td",_e,d(t.destino),1),e("td",be,d(t.fechaEstimada),1),e("td",Ce,d(t.mes),1),e("td",ke,d(t.a\u00F1o),1),e("td",Se,d(t.creadoPor),1),e("td",Ae,d(t.staffAprobado),1),e("td",Fe,d(t.staffContratado),1),e("td",Me,d(t.staffAprobado-t.staffContratado),1),e("td",De,d(t.staffFaltanteConCovid),1),e("td",$e,d(t.incapacidadesMedicas),1),e("td",Ee,d(t.staffAprobado-t.staffContratado+(t.staffFaltanteConCovid+t.incapacidadesMedicas)),1),e("td",Re,d(t.staffContratado-(t.staffAprobado-t.staffContratado+(t.staffFaltanteConCovid+t.incapacidadesMedicas))),1)],8,ye))),128))])])])])])])])],64))}},Ue=[{path:"/",component:Ve}],Oe=R(),je=V({history:Oe,routes:Ue});var Ne=U({state:{},mutations:{},actions:{async peticion({commit:f},l){try{const c=await(await fetch("../api_v3/",{method:"POST",body:JSON.stringify(l)})).json();return c.response=="SUCCESS"?{response:!0,data:c}:{response:!1,data:[]}}catch(i){return console.log(i),{response:!1,data:[]}}}},modules:{}});O(T).use(Ne).use(je).use(j).mount("#app");
