import{r as a,c as e,a as s,o,b as t,d as i,e as l,t as n,f as r,F as c,p as d,g as u,u as f,h as m,n as x,i as p,j as g,k as h,D as b,V as v,L as y,X as w,l as M,m as C,q as k,s as S,v as P,w as D,x as I,y as z,z as F,A,B as U,C as j,E as O,G,H as E,I as R,J as N,K as q,M as B,N as T,O as L,P as V,Q as H}from"./vendor.d1f76b3f.js";!function(){const a=document.createElement("link").relList;if(!(a&&a.supports&&a.supports("modulepreload"))){for(const a of document.querySelectorAll('link[rel="modulepreload"]'))e(a);new MutationObserver((a=>{for(const s of a)if("childList"===s.type)for(const a of s.addedNodes)"LINK"===a.tagName&&"modulepreload"===a.rel&&e(a)})).observe(document,{childList:!0,subtree:!0})}function e(a){if(a.ep)return;a.ep=!0;const e=function(a){const e={};return a.integrity&&(e.integrity=a.integrity),a.referrerpolicy&&(e.referrerPolicy=a.referrerpolicy),"use-credentials"===a.crossorigin?e.credentials="include":"anonymous"===a.crossorigin?e.credentials="omit":e.credentials="same-origin",e}(a);fetch(a.href,e)}}();const _={};_.render=function(t,i){const l=a("router-view");return o(),e("div",null,[s(l)])};const J={name:"Iconos",props:{icono:{type:String,default:""}}},$={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},X=[i("path",{d:"M12 19V6M5 12l7-7 7 7"},null,-1)],K={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Z=[i("path",{d:"M12 5v13M5 12l7 7 7-7"},null,-1)],W={key:2,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Y=[i("path",{d:"M19 12H6M12 5l-7 7 7 7"},null,-1)],Q={key:3,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},aa=[i("path",{d:"M5 12h13M12 5l7 7-7 7"},null,-1)],ea={key:4,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},sa=[i("path",{d:"M17 17L7.8 7.7M7 17V7h10"},null,-1)],oa={key:5,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ta=[i("path",{d:"M7 17l9.2-9.2M17 17V7H7"},null,-1)],ia={key:6,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},la=[i("path",{d:"M17 7l-9.2 9.2M7 7v10h10"},null,-1)],na={key:7,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ra=[i("line",{x1:"3",y1:"12",x2:"21",y2:"12"},null,-1),i("line",{x1:"3",y1:"6",x2:"21",y2:"6"},null,-1),i("line",{x1:"3",y1:"18",x2:"21",y2:"18"},null,-1)],ca={key:8,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},da=[i("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),i("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1)],ua={key:9,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},fa=[i("path",{d:"M9 18l6-6-6-6"},null,-1)],ma={key:10,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},xa=[i("rect",{x:"3",y:"3",width:"7",height:"7"},null,-1),i("rect",{x:"14",y:"3",width:"7",height:"7"},null,-1),i("rect",{x:"14",y:"14",width:"7",height:"7"},null,-1),i("rect",{x:"3",y:"14",width:"7",height:"7"},null,-1)],pa={key:11,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ga=[i("line",{x1:"12",y1:"5",x2:"12",y2:"19"},null,-1),i("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1)],ha={key:12,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ba=[i("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},null,-1),i("line",{x1:"16",y1:"2",x2:"16",y2:"6"},null,-1),i("line",{x1:"8",y1:"2",x2:"8",y2:"6"},null,-1),i("line",{x1:"3",y1:"10",x2:"21",y2:"10"},null,-1)],va={key:13,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ya=[i("polyline",{points:"9 11 12 14 22 4"},null,-1),i("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},null,-1)],wa={key:14,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Ma=[l('<line x1="12" y1="2" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="22"></line><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line><line x1="2" y1="12" x2="6" y2="12"></line><line x1="18" y1="12" x2="22" y2="12"></line><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line>',8)],Ca={key:15,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ka=[i("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},null,-1),i("line",{x1:"12",y1:"9",x2:"12",y2:"13"},null,-1),i("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"},null,-1)];J.render=function(a,s,i,l,n,r){return o(),e("div",null,["arrow-up"===i.icono?(o(),e("svg",$,X)):t("",!0),"arrow-down"===i.icono?(o(),e("svg",K,Z)):t("",!0),"arrow-left"===i.icono?(o(),e("svg",W,Y)):t("",!0),"arrow-right"===i.icono?(o(),e("svg",Q,aa)):t("",!0),"arrow-up-left"===i.icono?(o(),e("svg",ea,sa)):t("",!0),"arrow-up-right"===i.icono?(o(),e("svg",oa,ta)):t("",!0),"arrow-down-left"===i.icono?(o(),e("svg",ia,la)):t("",!0),"menu"===i.icono?(o(),e("svg",na,ra)):t("",!0),"x"===i.icono?(o(),e("svg",ca,da)):t("",!0),"chevron-right"===i.icono?(o(),e("svg",ua,fa)):t("",!0),"grid"===i.icono?(o(),e("svg",ma,xa)):t("",!0),"plus"===i.icono?(o(),e("svg",pa,ga)):t("",!0),"calendar"===i.icono?(o(),e("svg",ha,ba)):t("",!0),"check-square"===i.icono?(o(),e("svg",va,ya)):t("",!0),"loader"===i.icono?(o(),e("svg",wa,Ma)):t("",!0),"alert-triangle"===i.icono?(o(),e("svg",Ca,ka)):t("",!0)])};const Sa={components:{Iconos:J},props:{visualizar:{type:Boolean,default:!1},creadas:{type:Number,required:!0,default:0},ranproceso:{type:Number,required:!0,default:0},ranfinalizado:{type:Number,required:!0,default:0},proceso:{type:Number,required:!0,default:0},finalizado:{type:Number,required:!0,default:0},acumulado:{type:Number,required:!0,default:0},ranacumulado:{type:Number,required:!0,default:0},mediaHoras:{type:[String,Number],required:!0,default:0},ratioCredas:{type:[String,Number],required:!0,default:0},ratioFinalizadas:{type:[String,Number],required:!0,default:0}},setup:()=>({})},Pa={key:0,class:"animate-pulse py-4 flex flex-row flex-wrap items-center justify-evenly rounded-lg bg-white px-2 divide-x divide-gris-30 w-full md:w-7/12"},Da=[l('<div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div>',7)],Ia={key:1,class:"flex flex-row flex-wrap items-center justify-evenly rounded-lg bg-white px-2 divide-x divide-gris-30 w-full md:w-7/12"},za={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},Fa={class:"w-7 h-7 bg-blue-100 text-blue-400 rounded-full flex items-center justify-center"},Aa={class:"text-3xl font-semibold"},Ua=i("h2",{class:"text-sm text-gray-500"},"Creadas",-1),ja={class:"text-xxs leading-snug text-gray-500"},Oa=r(" Ratio "),Ga={class:"font-bold"},Ea={class:"text-xxs leading-snug text-gray-500"},Ra=r(" Media t. "),Na={class:"font-bold"},qa={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},Ba={class:"w-7 h-7 bg-yellow-100 text-yellow-400 rounded-full flex items-center justify-center"},Ta={class:"text-3xl font-semibold"},La=i("h2",{class:"text-sm text-gray-500"},"En proceso",-1),Va={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},Ha={class:"w-7 h-7 bg-green-100 text-green-400 rounded-full flex items-center justify-center"},_a={class:"text-3xl font-semibold"},Ja=i("h2",{class:"text-sm text-gray-500"},"Solucionadas",-1),$a={class:"text-xxs leading-snug text-gray-500"},Xa=r(" Ratio "),Ka={class:"font-bold"},Za={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},Wa={class:"w-7 h-7 bg-purple-100 text-purple-400 rounded-full flex items-center justify-center"},Ya={class:"text-3xl font-semibold"},Qa=i("h2",{class:"text-sm text-gray-500"},"Acumulado",-1),ae=i("h2",{class:"text-xxs leading-none text-gray-500"},[r(" del "),i("span",{class:"font-bold"},"1 ENE 2021"),r(" a la fecha ")],-1),ee={class:"w-36 h-36 flex flex-col items-center justify-center px-2"},se={class:"w-16 h-16 rounded-full ring ring-yellow-100 bg-yellow-400 border-4 mb-2 border-yellow-200 flex flex-col items-center justify-center"},oe={class:"text-2xl leading-none text-white font-semibold"},te=i("span",{class:"text-sm"},"/8",-1),ie=i("h2",{class:"text-xxs text-gray-500"},"Ranking America",-1),le=i("h2",{class:"text-xxs leading-none uppercase text-gray-500 font-bold"}," incidencias Creadas ",-1),ne={class:"w-36 h-36 flex flex-col items-center justify-center px-2"},re={class:"w-16 h-16 rounded-full ring ring-green-100 bg-green-400 border-4 mb-2 border-green-200 flex flex-col items-center justify-center"},ce={class:"text-2xl leading-none text-white font-semibold"},de=i("span",{class:"text-sm"},"/8",-1),ue=i("h2",{class:"text-xxs text-gray-500"},"Ranking America",-1),fe=i("h2",{class:"text-xxs leading-none uppercase text-gray-500 font-bold"}," Incidencias Finalizadas ",-1),me={class:"w-36 h-36 flex flex-col items-center justify-center px-2"},xe={class:"w-16 h-16 rounded-full ring ring-purple-100 bg-purple-400 border-4 mb-2 border-purple-200 flex flex-col items-center justify-center"},pe={class:"text-2xl leading-none text-white font-semibold"},ge=i("span",{class:"text-sm"},"/8",-1),he=i("h2",{class:"text-xxs text-gray-500"},"Ranking America",-1),be=i("h2",{class:"text-xxs leading-none uppercase text-gray-500 font-bold text-center"}," incidencias acumuladas ",-1);Sa.render=function(l,d,u,f,m,x){const p=a("iconos");return o(),e(c,null,[u.visualizar?(o(),e("div",Pa,Da)):t("",!0),u.visualizar?t("",!0):(o(),e("div",Ia,[i("div",za,[i("div",Fa,[s(p,{icono:"plus",class:"w-4"})]),i("h1",Aa,n(u.creadas),1),Ua,i("h2",ja,[Oa,i("span",Ga,n(u.ratioCredas),1)]),i("h2",Ea,[Ra,i("span",Na,n(u.mediaHoras)+" H",1)])]),i("div",qa,[i("div",Ba,[s(p,{icono:"loader",class:"w-4"})]),i("h1",Ta,n(u.proceso),1),La]),i("div",Va,[i("div",Ha,[s(p,{icono:"check-square",class:"w-4"})]),i("h1",_a,n(u.finalizado),1),Ja,i("h2",$a,[Xa,i("span",Ka,n(u.ratioFinalizadas),1)])]),i("div",Za,[i("div",Wa,[s(p,{icono:"alert-triangle",class:"w-4"})]),i("h1",Ya,n(u.acumulado),1),Qa,ae]),i("div",ee,[i("div",se,[i("h1",oe,[r(n(u.ranproceso),1),te])]),ie,le]),i("div",ne,[i("div",re,[i("h1",ce,[r(n(u.ranfinalizado),1),de])]),ue,fe]),i("div",me,[i("div",xe,[i("h1",pe,[r(n(u.ranacumulado),1),ge])]),he,be])]))],64)};const ve={props:{visualizar:{type:Boolean,default:!1,require:!0},texto:{type:String,default:"NoText"},color:{type:String,default:"#000000"},color2:{type:String,default:"#edf2f7"},"tamaño":{type:String,default:"12em"},porcentaje:{type:Number,default:0}},setup:()=>({})},ye=()=>{f((a=>({"54300d4c":a.tamaño,"8caadf2c":a.color2,a9b2ee70:a.color})))},we=ve.setup;ve.setup=we?(a,e)=>(ye(),we(a,e)):ye;const Me=ve;d("data-v-13c5b652");const Ce={key:0,class:"flex flex-row items-center justify-center relative animate-pulse border-8 rounded-full w-44 h-44 flex-none"},ke=[i("div",{class:"absolute flex flex-col items-center justify-center"},[i("h1",{class:"percentage leading-none mt-1 font-bold text-xs bg-gray-200 text-transparent mb-1"}," TOTAL "),i("h1",{class:"percentage leading-none font-bold text-sm uppercase bg-gray-200 text-transparent"}," xxxxxxx "),i("h1",{class:"percentage leading-none mt-1 font-bold bg-gray-200 text-transparent"}," xxxxxxx ")],-1)],Se={key:1,class:"single-chart flex flex-row items-center justify-center relative"},Pe={viewBox:"0 0 36 36",class:"circular-chart orange"},De=i("path",{class:"circle-bg",d:"M18 2.0845\r\n          a 15.9155 15.9155 0 0 1 0 31.831\r\n          a 15.9155 15.9155 0 0 1 0 -31.831"},null,-1),Ie=["stroke-dasharray"],ze={class:"absolute flex flex-col items-center justify-center"},Fe=i("h1",{class:"percentage leading-none mt-1 font-bold text-xs"},"TOTAL",-1),Ae={class:"percentage leading-none font-bold text-sm uppercase"},Ue={class:"percentage leading-none text-gray-500 mt-1 font-bold"};u(),Me.render=function(a,s,l,r,d,u){return o(),e(c,null,[l.visualizar?(o(),e("div",Ce,ke)):t("",!0),l.visualizar?t("",!0):(o(),e("div",Se,[(o(),e("svg",Pe,[De,i("path",{class:"circle","stroke-dasharray":[l.porcentaje,100],d:"M18 2.0845\r\n          a 15.9155 15.9155 0 0 1 0 31.831\r\n          a 15.9155 15.9155 0 0 1 0 -31.831"},null,8,Ie)])),i("div",ze,[Fe,i("h1",Ae,n(l.texto),1),i("h1",Ue,n(l.porcentaje)+"% ",1)])]))],64)},Me.__scopeId="data-v-13c5b652";const je={name:"GraficoBarrasCss",props:{visualizar:{type:Boolean,default:!1},seccion:{type:String,required:!0,default:"###"},creadas:{type:Number,required:!0,default:0},finalizadas:{type:Number,required:!0,default:0},color1:{type:String,required:!0,default:"#edf2f7"},color2:{type:String,required:!0,default:"#89bcfb"},vs:{type:Boolean,required:!0,default:!1},rotarTexto:{type:Boolean,default:!1}},setup(a){const e=m(Math.round(100/a.creadas*a.finalizadas));e.value>100&&(e.value=100);const s=m(a.creadas);return a.creadas>0&&a.vs&&(s.value=a.creadas-a.finalizadas),{porcentaje:e,creadasX:s}}},Oe=()=>{f((a=>({48168232:a.color1,48168233:a.color2,"7e462aef":a.porcentaje+"%"})))},Ge=je.setup;je.setup=Ge?(a,e)=>(Oe(),Ge(a,e)):Oe;const Ee=je;d("data-v-380a80ff");const Re={class:"h-44 flex justify-center items-end hover:shadow-lg principal"},Ne={class:"text-xs font-normal text-white mb-2"},qe={class:"xx hidden absolute -left-16 -top-1.5 bg-black text-white rounded px-2 w-auto text-xs asbolute"};u(),Ee.render=function(a,s,l,r,c,d){return l.visualizar?t("",!0):(o(),e("div",{key:0,class:x({"flex flex-col items-center chart cursor-pointer w-10":!l.rotarTexto,"flex flex-col items-center chart cursor-pointer w-12 relative h-72":l.rotarTexto})},[i("div",Re,[i("div",{class:x(["flex justify-center items-end relative",{secundario:l.creadas>0}])},[i("h1",Ne,n(r.porcentaje>0?r.porcentaje:0)+" % ",1),i("div",qe,n(l.finalizadas)+" - "+n(r.creadasX),1)],2)]),i("div",{class:x({"font-bold text-gray-500 flex items-center justify-center text-sm uppercase":!l.rotarTexto,"transform rotate-90 flex items-center mb-4 font-bold text-gray-500 text-xxs md:text-xs uppercase bottom-2":l.rotarTexto})},[i("h1",{class:x({"absolute left-1":l.rotarTexto})},n(l.seccion),3)],2)],2))},Ee.__scopeId="data-v-380a80ff";p(g);const Be={name:"Graficotest",props:{arrayGrafica:{type:Object,default:[]}},mounted(){let a=h(this.$refs.chartdiv,M);a.paddingRight=30,a.paddingTop=10,a.paddingLeft=0,a.data=this.arrayGrafica;var e=a.xAxes.push(new b);function s(e,s,o,t){var i=a.series.push(new C);return i.dataFields.valueY=e,i.dataFields.dateX="date",i.name=s,i.tooltipText="{dateX}: [b]{valueY}[/]",i.stroke=k(o),i.strokeWidth=3,i.tensionX=.8,i.stacked=!1,i.fillOpacity=t,i.fill=k(o),i}e.renderer.grid.template.location=0,e.renderer.minGridDistance=30,e.startLocation=.5,e.endLocation=.5,e.fontSize=10,e.dateFormats.setKey("day","MMM dd"),a.yAxes.push(new v).fontSize=8,s("finalizado","Finalizado","#34d399","0"),s("creado","Creado","#00c4fa","0"),s("acumulado","Acumulado","#a78bfa","0"),a.legend=new y,a.cursor=new w,a.legend.fontSize=12,a.legend.fontWeight=500,this.chart=a},updated(){this.chart&&(this.chart.data=this.arrayGrafica)},beforeDestroy(){this.chart&&this.chart.dispose()}};d("data-v-90daa9b0");const Te={class:"hello",ref:"chartdiv"};u(),Be.render=function(a,s,t,i,l,n){return o(),e("div",Te,null,512)},Be.__scopeId="data-v-90daa9b0";const Le={name:"Rankings",props:{visualizar:{type:Boolean,default:!1},key:{type:Number},nombre:{type:String,required:!1},destinos:{type:Object,required:!1},menosAmas:{type:Boolean,required:!1},color:{type:String,required:!1,default:"#ffeab6"},simbolo:{type:String,required:!1,default:""},posicion:{type:Number,default:1}},setup:()=>({})},Ve=()=>{f((a=>({"4f84f5d3":a.color})))},He=Le.setup;Le.setup=He?(a,e)=>(Ve(),He(a,e)):Ve;const _e=Le;d("data-v-29d13ba8");const Je={key:0,class:"flex flex-col items-start justify-center w-56"},$e=i("div",{class:"text-center w-full mb-2 text-xs uppercase font-bold"},[i("h1",{class:"bg-gray-200 text-transparent rounded-sm"},"xxxxxxxxxxxxxxx")],-1),Xe=[l('<div class="w-12" data-v-29d13ba8><h1 class="bg-gray-200 text-transparent" data-v-29d13ba8>xxx</h1></div><div class="w-12" data-v-29d13ba8><h1 class="bg-gray-200 text-transparent" data-v-29d13ba8>xxx</h1></div><div class="w-12" data-v-29d13ba8><h1 class="bg-gray-200 text-transparent" data-v-29d13ba8>xxx</h1></div>',3)],Ke={key:1,class:"flex flex-col items-start justify-center w-56"},Ze={class:"text-center w-full mb-2 text-xs uppercase font-bold"},We={class:"w-16"},Ye={class:"w-16"},Qe={class:"w-16"};u(),_e.render=function(a,s,l,r,d,u){return o(),e(c,null,[l.visualizar?(o(),e("div",Je,[$e,(o(),e(c,null,S(8,(a=>i("div",{key:a,class:"flex flex-row items-center justify-between w-full text-center text-sm rounded p-1 mb-1 bg-gray-200 animate-pulse"},Xe))),64))])):t("",!0),l.visualizar?t("",!0):(o(),e("div",Ke,[i("div",Ze,[i("h1",null,n(l.nombre),1)]),(o(!0),e(c,null,S(l.destinos,((a,s)=>(o(),e("div",{key:s,class:x([[a.destinoActual?"destinoactual":"bg-base"],"flex flex-row items-center justify-between w-full text-center text-sm rounded p-1 mb-1"])},[i("div",We,[i("h1",null,n(s+1),1)]),i("div",Ye,[i("h1",null,n(a.destino),1)]),i("div",Qe,[i("h1",null,n(a.total)+" "+n(l.simbolo),1)])],2)))),128))]))],64)},_e.__scopeId="data-v-29d13ba8";const as={name:"GraficoBarrasCssSkeleton",props:{visualizar:{type:Boolean,default:!1}}},es=()=>{f((a=>({"02be6486":a.color1,"02be6484":a.color2,"2e48768c":a.porcentaje+"%"})))},ss=as.setup;as.setup=ss?(a,e)=>(es(),ss(a,e)):es;const os=as;d("data-v-17be3d98");const ts={key:0,class:"flex flex-col items-center chart cursor-pointer animate-pulse"},is=[i("div",{class:"h-44 skeleton1 flex justify-center items-end hover:shadow-lg"},[i("div",{class:"skeleton2 flex justify-center items-end relative"})],-1),i("div",{class:"font-bold text-transparent bg-gray-200 flex items-center justify-center text-sm uppercase w-8 mt-1 h-4"},null,-1)];u(),os.render=function(a,s,i,l,n,r){return i.visualizar?(o(),e("div",ts,is)):t("",!0)},os.__scopeId="data-v-17be3d98";const ls={components:{UserIcon:P,PlusCircleIcon:D,CheckCircleIcon:I,SunIcon:z,XCircleIcon:F},props:{array:{type:Object,default:[]},titulo:{type:String,default:"Titulo"},estado:{type:String,default:"CREADOS"}},setup(a){const e=m(!1),s=m([]),o=localStorage.getItem("usuario");return{verDetalles:a=>{s.value=a.incidencias,e.value=!0},visible:e,incidencias:s,idUsuario:o,ordenar:()=>{"CREADOS"===a.estado&&a.array.sort(((a,e)=>e.creados-a.creados)),"SOLUCIONADOS"===a.estado&&a.array.sort(((a,e)=>e.solucionados-a.solucionados)),"ACUMULADOS"===a.estado&&a.array.sort(((a,e)=>e.acumulados-a.acumulados))}}}},ns={class:"w-100 flex flex-row m-2 justify-center items-center"},rs={key:0,class:"w-full mx-auto flex flex-row justify-center items-center"},cs={class:"rounded"},ds={class:""},us={class:"flex flex-row items-center mb-1"},fs=i("th",{class:"w-52 md:w-72 px-2 flex flex-col items-center justify-center text-xs text-center cursor-pointer"}," Nombre del Usuario ",-1),ms={class:"flex flex-col items-center"},xs=["onClick"],ps={class:"w-52 md:w-72 py-1.5 text-left text-xs md:text-sm uppercase rounded-l-lg flex flex-row items-center"},gs={class:"font-normal truncate"},hs={key:0,class:"w-24 py-1.5 text-sm"},bs={key:0,class:"h-auto min-w-max ventana redondes fc ic js overflow-y-scroll absolute mx-auto px-1.5 pt-9 pb-5 top-0",style:{"max-height":"100%","max-width":"35rem"}},vs={class:"w-100 px-16"},ys={class:"mr-1 text-xs uppercase font-semibold"},ws=i("h1",{class:"mr-1 text-xs uppercase font-semibold"},"/",-1),Ms={class:"flex-none mr-1 text-xs uppercase font-semibold"},Cs=i("h1",{class:"mr-1 text-xs uppercase font-semibold"},"/",-1),ks={class:"text-sm uppercase truncate max-w-xs"};ls.render=function(l,r,d,u,f,m){const p=a("UserIcon"),g=a("XCircleIcon");return o(),e(c,null,[i("div",ns,[d.array.length?(o(),e("div",rs,[i("table",cs,[i("thead",ds,[i("tr",us,[fs,i("th",{class:"w-24 px-2 flex flex-col items-center justify-center text-xs text-center cursor-pointer",onClick:r[0]||(r[0]=a=>u.ordenar())},n(d.titulo),1)])]),i("tbody",ms,[(o(!0),e(c,null,S(d.array,((a,l)=>(o(),e("tr",{key:l,class:x(["flex flex-row rounded-lg bg-base",[l%2==1?"estilo-2":"estilo-1",a.idUsuario==u.idUsuario&&"CREADOS"==d.estado?"bg-creados":a.idUsuario==u.idUsuario&&"SOLUCIONADOS"==d.estado?"bg-solucionados":a.idUsuario==u.idUsuario&&"ACUMULADOS"==d.estado?"bg-acumulados":"bg-default"]]),onClick:e=>u.verDetalles(a)},[i("td",ps,[s(p,{class:"w-4 h-4 mx-2"}),i("p",gs,n(a.nombre),1)]),"CREADOS"===d.estado?(o(),e("td",hs,n(a.creados>0?a.creados:"*"),1)):t("",!0),"SOLUCIONADOS"===d.estado?(o(),e("td",{key:1,class:x(["w-24 py-1.5",a.solucionados>0?"text-green-500 text-sm":"text-red-500 text-sm"])},n(a.solucionados>0?a.solucionados:"*"),3)):t("",!0),"ACUMULADOS"===d.estado?(o(),e("td",{key:2,class:x(["w-24 py-1.5 text-sm rounded-r-lg",a.acumulados>0?"text-yellow-500 text-sm":"text-green-400 text-sm"])},n(a.acumulados>0?a.acumulados:"-"),3)):t("",!0)],10,xs)))),128))])])])):t("",!0)]),u.visible?(o(),e("div",bs,[i("div",vs,[s(g,{onClick:r[1]||(r[1]=a=>u.visible=!u.visible),class:"w-7 h-7 text-red-300 cursor-pointer z-50 absolute top-0 right-0"})]),(o(!0),e(c,null,S(u.incidencias,((a,s)=>(o(),e("div",{key:s,class:x([["CREADOS"===d.estado||"SOLUCIONADOS"===d.estado&&"SOLUCIONADO"===a.status||"ACUMULADOS"===d.estado&&"PENDIENTE"===a.status?"":"hidden"],"w-full p-1 item redondes fr ic js"])},[i("div",{class:x(["w-4 h-4 rounded-full flex-none mr-1",{"bg-red-500":"PENDIENTE"===a.status,"bg-green-500":"SOLUCIONADO"===a.status}])},null,2),i("h1",ys,n(a.seccion),1),ws,i("h1",Ms,n(a.subseccion),1),Cs,i("h1",ks,n(a.incidencia),1)],2)))),128))])):t("",!0)],64)};const Ss={name:"Trmpmc",components:{Marcadores:Sa,GraficoCircularCss:Me,GraficoBarrasCss:Ee,Graficotest:Be,Rankings:_e,Iconos:J,GraficoBarrasCssSkeleton:os,RankingsUsuariosMc:ls},props:{},setup(){const a=A().state,e=A().dispatch,s=U();j((()=>{p("","","cargar"),g(),h(),b(),v(),y()}));const o=O((()=>a.skeleton)),t=O((()=>a.arrayGrafica)),i=O((()=>a.arraySecciones.sort(((a,e)=>e.solucionados-a.solucionados)))),l=O((()=>a.datosMC)),n=m([]),r=m({fechaInicio:"",fechaFin:""}),c=m(""),d=m(""),u=m([]),f=m([]),x=m([]),p=(a,e,s)=>{const o=G(E(new Date,{days:5}),"yyyy-MM-dd"),t=G(new Date,"yyyy-MM-dd");if(!localStorage.getItem("fechas"))return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),r.value.fechaInicio=o,void(r.value.fechaFin=t);if(localStorage.getItem("fechas")){const i=JSON.parse(localStorage.getItem("fechas"));if("cargar"==s&&i.fechaInicio&&i.fechaFin)return r.value.fechaInicio=i.fechaInicio,void(r.value.fechaFin=i.fechaFin);if("actualizar"==s&&i.fechaInicio&&i.fechaFin)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:a,fechaFin:e})),r.value.fechaInicio=a,void(r.value.fechaFin=e);if("cargar"==s||"actualizar"==s)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),r.value.fechaInicio=o,void(r.value.fechaFin=t)}},g=async()=>{c.value=G(new Date(Math.round(r.value.fechaInicio.slice(0,4)),Math.round(r.value.fechaInicio.slice(5,7))-1,Math.round(r.value.fechaInicio.slice(8,10))),"dd MMMM"),d.value=G(new Date(Math.round(r.value.fechaFin.slice(0,4)),Math.round(r.value.fechaFin.slice(5,7))-1,Math.round(r.value.fechaFin.slice(8,10))),"dd MMMM"),a.skeleton.barrasCreadasVSSolucionadas=!0,a.skeleton.marcadores=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:r.value.fechaInicio,fechaFin:r.value.fechaFin,apartado:"ReporteRanking",accion:"incidenciasSecciones"},i=await e("peticion",t);if(i.response){const e=i.data.data;i.data.destino[0]?a.datosMC.destino=i.data.destino[0].destino:a.datosMC.destino="",a.datosMC.creadas=e.global.creadosGlobales,a.datosMC.enProceso=e.global.pendientesGlobales,a.datosMC.finalizado=e.global.solucionadosGlobales,a.datosMC.acumulado=e.global.acumuladoGlobales,a.datosMC.mediaHoras=e.global.mediaHoras.toFixed(2),a.datosMC.ratioCredas=e.global.ratioCredas.toFixed(2),a.datosMC.ratioFinalizadas=e.global.ratioFinalizadas.toFixed(2),a.datosMC.porcentajeSolucionado=e.global.creadosGlobales>0?Math.round(100/e.global.creadosGlobales*e.global.solucionadosGlobales):0,a.arraySecciones=i.data.data.secciones?i.data.data.secciones:[],a.skeleton.barrasCreadasVSSolucionadas=!1,a.skeleton.marcadores=!1;const s=[];e.secciones.forEach((a=>{a.incidencias.length&&a.incidencias.forEach((a=>{if(s.length){const e=s.findIndex((e=>e.idUsuario==a.responsable));if(-1==e)return void s.push({idUsuario:a.responsable,nombre:a.arrayResponsable?a.arrayResponsable.nombre+" "+a.arrayResponsable.apellido:"SIN ASIGNAR",creados:1,solucionados:"SOLUCIONADO"===a.status?1:0,acumulados:"PENDIENTE"===a.status?1:0,incidencias:[a]});if(e>-1)return s[e].creados=s[e].creados+1,s[e].solucionados="SOLUCIONADO"==a.status?s[e].solucionados+1:s[e].solucionados,s[e].acumulados="PENDIENTE"==a.status?s[e].acumulados+1:s[e].acumulados,void s[e].incidencias.push(a)}s.length||s.push({idUsuario:a.responsable,nombre:a.arrayResponsable?a.arrayResponsable.nombre+" "+a.arrayResponsable.apellido:"SIN ASIGNAR",creados:1,solucionados:"SOLUCIONADO"===a.status?1:0,acumulados:"PENDIENTE"===a.status?1:0,incidencias:[a]})})),a.incidenciasGenerales.length&&a.incidenciasGenerales.forEach((a=>{if(s.length){const e=s.findIndex((e=>e.idUsuario==a.responsable));if(-1==e)return void s.push({idUsuario:a.responsable,nombre:a.arrayResponsable?a.arrayResponsable.nombre+" "+a.arrayResponsable.apellido:"SIN ASIGNAR",creados:1,solucionados:"SOLUCIONADO"===a.status?1:0,acumulados:"PENDIENTE"===a.status?1:0,incidencias:[a]});if(e>-1)return s[e].creados=s[e].creados+1,s[e].solucionados="SOLUCIONADO"==a.status?s[e].solucionados+1:s[e].solucionados,s[e].acumulados="PENDIENTE"==a.status?s[e].acumulados+1:s[e].acumulados,void s[e].incidencias.push(a)}s.length||s.push({idUsuario:a.responsable,nombre:a.arrayResponsable?a.arrayResponsable.nombre+" "+a.arrayResponsable.apellido:"SIN ASIGNAR",creados:1,solucionados:"SOLUCIONADO"==a.status?1:0,acumulados:"PENDIENTE"==a.status?1:0,incidencias:[a]})}))})),u.value=s,x.value=s,f.value=s}},h=async()=>{a.skeleton.grafica=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:r.value.fechaInicio,fechaFin:r.value.fechaFin,apartado:"ReporteRanking",accion:"graficaIncidencias"},i=await e("peticion",t);if(i.response){const e=i.data.data;a.arrayGrafica=e.data,a.skeleton.grafica=!1}},b=async()=>{a.skeleton.ranking=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:r.value.fechaInicio,fechaFin:r.value.fechaFin,apartado:"ReporteRanking",accion:"destinosIncidencias"},i=await e("peticion",t);if(i.response){const e=i.data.data.creados;e&&(e.sort(((a,e)=>e.total-a.total)),a.datosMC.rankingIncidenciasCreadas=e,e.forEach(((e,s)=>{e.idDestino==o&&(a.datosMC.rankingCreadas=s+1)})));const s=i.data.data.solucionados;if(s&&(s.sort(((a,e)=>e.total-a.total)),a.datosMC.rankingIncidenciasFinalizada=s,s.forEach(((e,s)=>{e.idDestino==o&&(a.datosMC.rankingFinalizado=s+1)}))),i.data.data.creados&&i.data.data.solucionados){const e=[];i.data.data.creados.forEach(((a,s)=>{let t=0,l=a.total,n=0;i.data.data.solucionados.forEach(((e,s)=>{e.idDestino==a.idDestino&&(t=e.total)})),n=100/l*t>0?100/l*t:0,e.push({idDestino:a.idDestino,destino:a.destino,total:Math.trunc(n),destinoActual:a.idDestino==o})})),e.sort(((a,e)=>e.total-a.total)),a.datosMC.rankingEficiencia=e}const t=i.data.data.pendientes;t&&(t.sort(((a,e)=>a.total-e.total)),a.datosMC.rankingIncidenciasAcumulado=t,t.forEach(((e,s)=>{e.idDestino==o&&(a.datosMC.rankingAcumulado=s+1)})));const l=i.data.data.mcmpCreados;l&&(l.sort(((a,e)=>a.total-e.total)),a.datosMC.rankingmcmpCreados=l),a.skeleton.ranking=!1}},v=async()=>{a.skeleton.barrasCreados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:r.value.fechaInicio,fechaFin:r.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMC",status:"TODOS"},i=await e("peticion",t);if(i.response){const e=i.data.data;a.datosMC.mcCreados=e.global.mcGlobal,a.datosMC.mpCreados=e.global.mpGlobal,a.datosMC.mcmpCreados=e.secciones.sort(((a,e)=>e.mc-a.mc)),a.skeleton.barrasCreados=!1}},y=async()=>{a.skeleton.barrasSolucionados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:r.value.fechaInicio,fechaFin:r.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMC",status:"SOLUCIONADO"},i=await e("peticion",t);if(i.response){const e=i.data.data;a.datosMC.mcFinalizado=e.global.mcGlobal,a.datosMC.mpFinalizado=e.global.mpGlobal,a.datosMC.mcmpFinalizado=e.secciones.sort(((a,e)=>e.mc-a.mc)),a.skeleton.barrasSolucionados=!1}};return{fechas:r,fechaA:c,fechaB:d,datosMC:l,skeleton:o,aplicar:g,graficar:h,mcmpCreados:v,mcmpFinalizados:y,rankingGlobal:b,arrayGrafica:t,arraySecciones:i,arrayRankingCreadas:n,router:s,store:a,comprobarFechas:p,arrayUsuariosCreados:u,arrayUsuariosSolucionados:f,arrayUsuariosAcumulados:x}}};d("data-v-0fac3809");const Ps={class:"p-2 md:p-6"},Ds={class:"text-2xl font-semibold text-gray-700 pb-4 text-center uppercase"},Is=r(" TR Incidencias "),zs={class:"font-bold"},Fs={class:"w-full flex flex-row items-center justify-center"},As={class:"bg-white flex items-center justify-start rounded-xl"},Us={class:"p-3"},js=i("h1",{class:"text-xxs font-semibold"},"Día Inicial",-1),Os={class:"p-3"},Gs=i("h1",{class:"text-xxs font-semibold"},"Día Final",-1),Es={class:"p-3"},Rs={class:"w-full my-4 flex flex-col items-center justify-start"},Ns={class:"flex flex-col items-center justify-start w-full md:w-7/12 bg-white shadow-sm mt-4 flex-wrap rounded-lg pb-10"},qs=i("h1",{class:"mt-4 text-gray-700 font-semibold text-2xl uppercase leading-none"}," Incidencias ",-1),Bs={class:"text-gray-500 text-xxs leading-none"},Ts=r(" Del "),Ls={class:"font-bold"},Vs=r(" al "),Hs={class:"font-bold"},_s={key:0,class:"w-full h-80 p-6"},Js=[i("div",{class:"bg-gray-200 animate-pulse w-full h-full rounded-lg"},null,-1)],$s=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," Solucionadas VS Creadas ",-1),Xs={class:"text-gray-500 text-xxs leading-none mb-4"},Ks=r(" Del "),Zs={class:"font-bold"},Ws=r(" al "),Ys={class:"font-bold"},Qs={class:"w-full flex flex-row items-center justify-around flex-wrap"},ao={class:"flex flex-col font-bold"},eo=i("h2",{class:"text-sm text-left leading-none creadas mb-1"},"Creadas",-1),so={class:"text-4xl text-left leading-none mb-3 text-gray-700"},oo=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," Solucionadas ",-1),to={class:"text-3xl text-left leading-none mb-3 text-gray-700"},io=i("h2",{class:"text-sm text-left leading-none acumulado mb-1"}," Acumulado ",-1),lo={class:"text-2xl text-left leading-none mb-3 text-gray-700"},no={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible"},ro=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," Incidencias creadas vs Preventivos creados ",-1),co={class:"text-gray-500 text-xxs leading-none mb-4"},uo=r(" Del "),fo={class:"font-bold"},mo=r(" al "),xo={class:"font-bold"},po={class:"w-full flex flex-row items-center justify-around flex-wrap"},go={class:"w-full md:w-auto p-3 flex flex-row items-start justify-around overflow-x-auto md:overflow-x-visible"},ho={class:"flex flex-col font-bold"},bo=i("h2",{class:"text-sm text-right leading-none creadas mb-1"}," MC Creados ",-1),vo={class:"text-4xl text-right leading-none mb-3 text-gray-700"},yo=i("h2",{class:"text-sm text-right leading-none mp2 mb-1"},"MP Creadas",-1),wo={class:"text-4xl text-right leading-none mb-3 text-gray-700"},Mo=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," Incidencias solucionadas vs Preventivos solucionados ",-1),Co={class:"text-gray-500 text-xxs leading-none mb-4"},ko=r(" Del "),So={class:"font-bold"},Po=r(" al "),Do={class:"font-bold"},Io={class:"w-full flex flex-row items-center justify-around flex-wrap"},zo={class:"flex flex-col font-bold"},Fo=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," MC Finalizados ",-1),Ao={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Uo=i("h2",{class:"text-sm text-left leading-none mp1 mb-1"}," MP Finalizados ",-1),jo={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Oo={class:"w-full md:w-auto p-3 flex flex-row items-start justify-around overflow-x-auto md:overflow-x-visible"},Go=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," Rankings américa ",-1),Eo={class:"text-gray-500 text-xxs leading-none mb-4"},Ro=r(" Del "),No={class:"font-bold"},qo=r(" al "),Bo={class:"font-bold"},To={class:"w-full flex flex-wrap flex-row items-center justify-around px-8 pt-6"},Lo={class:"max-w-max flex flex-col md:flex-row justify-center items-center relative mt-6"};u(),Ss.render=function(l,r,d,u,f,m){const x=a("Iconos"),p=a("Marcadores"),g=a("Graficotest"),h=a("GraficoCircularCss"),b=a("GraficoBarrasCssSkeleton"),v=a("GraficoBarrasCss"),y=a("Rankings"),w=a("RankingsUsuariosMc");return o(),e("div",Ps,[i("h1",Ds,[Is,i("span",zs,n(u.datosMC.destino),1)]),i("div",Fs,[i("div",As,[i("div",Us,[js,R(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[0]||(r[0]=a=>u.fechas.fechaInicio=a),onChange:r[1]||(r[1]=a=>u.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[N,u.fechas.fechaInicio]])]),s(x,{icono:"arrow-right",class:"w-4"}),i("div",Os,[Gs,R(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[2]||(r[2]=a=>u.fechas.fechaFin=a),onChange:r[3]||(r[3]=a=>u.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[N,u.fechas.fechaFin]])]),i("div",Es,[i("button",{class:"bg-purple-50 text-purple-500 py-1 px-2 rounded-lg text-sm border border-purple-400",onClick:r[4]||(r[4]=a=>{u.aplicar(),u.graficar(),u.rankingGlobal(),u.mcmpCreados(),u.mcmpFinalizados()})}," Aplicar ")])])]),i("div",Rs,[s(p,{creadas:u.datosMC.creadas,proceso:u.datosMC.enProceso,finalizado:u.datosMC.finalizado,acumulado:u.datosMC.acumulado,ranproceso:u.datosMC.rankingCreadas,ranacumulado:u.datosMC.rankingAcumulado,ranfinalizado:u.datosMC.rankingFinalizado,ratioCredas:u.datosMC.ratioCredas,ratioFinalizadas:u.datosMC.ratioFinalizadas,mediaHoras:u.datosMC.mediaHoras,visualizar:u.skeleton.marcadores},null,8,["creadas","proceso","finalizado","acumulado","ranproceso","ranacumulado","ranfinalizado","ratioCredas","ratioFinalizadas","mediaHoras","visualizar"]),i("div",Ns,[qs,i("h1",Bs,[Ts,i("span",Ls,n(u.fechaA),1),Vs,i("span",Hs,n(u.fechaB),1)]),u.skeleton.grafica?(o(),e("div",_s,Js)):t("",!0),u.skeleton.grafica?t("",!0):(o(),q(g,{key:1,class:"mt-4 rounded-lg shadow-sm",arrayGrafica:u.arrayGrafica},null,8,["arrayGrafica"])),$s,i("h1",Xs,[Ks,i("span",Zs,n(u.fechaA),1),Ws,i("span",Ys,n(u.fechaB),1)]),i("div",Qs,[i("div",ao,[eo,i("h1",so,n(u.datosMC.creadas),1),oo,i("h1",to,n(u.datosMC.finalizado),1),io,i("h1",lo,n(u.datosMC.enProceso),1)]),s(h,{texto:"Finalizado",color:"#34d399",porcentaje:u.datosMC.porcentajeSolucionado,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["porcentaje","visualizar"]),i("div",no,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.arraySecciones,(a=>(o(),q(v,{key:a,seccion:a.seccion,creadas:a.creados,finalizadas:a.solucionados,color1:"#edf2f7",color2:"#34d399",vs:!1,visualizar:u.skeleton.barrasCreadasVSSolucionadas,onDblclick:e=>l.$router.push("/mc/"+u.router.params.idDestino+"/seccion/"+a.idSeccion)},null,8,["seccion","creadas","finalizadas","visualizar","onDblclick"])))),128))])]),ro,i("h1",co,[uo,i("span",fo,n(u.fechaA),1),mo,i("span",xo,n(u.fechaB),1)]),i("div",po,[i("div",go,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMC.mcmpCreados,(a=>(o(),q(v,{key:a,seccion:a.seccion,creadas:a.mp+a.mc,finalizadas:a.mc,color1:"#86e5ff",color2:"#00c4fa",vs:!0,visualizar:u.skeleton.barrasCreados,onDblclick:e=>l.$router.push("/mc/"+u.router.params.idDestino+"/seccion/"+a.idSeccion)},null,8,["seccion","creadas","finalizadas","visualizar","onDblclick"])))),128))]),s(h,{texto:"MC CREADOS",color:"#00c4fa",color2:"#86e5ff",porcentaje:u.datosMC.mcCreados>0?Math.round(100/(u.datosMC.mcCreados+u.datosMC.mpCreados)*u.datosMC.mcCreados):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreados},null,8,["porcentaje","visualizar"]),i("div",ho,[bo,i("h1",vo,n(u.datosMC.mcCreados),1),yo,i("h1",wo,n(u.datosMC.mpCreados),1)])]),Mo,i("h1",Co,[ko,i("span",So,n(u.fechaA),1),Po,i("span",Do,n(u.fechaB),1)]),i("div",Io,[i("div",zo,[Fo,i("h1",Ao,n(u.datosMC.mcFinalizado),1),Uo,i("h1",jo,n(u.datosMC.mpFinalizado),1)]),s(h,{texto:"MC Finalizados",color:"#34d399",color2:"#96ffd9",porcentaje:u.datosMC.mcFinalizado>0?Math.round(100/(u.datosMC.mcFinalizado+u.datosMC.mpFinalizado)*u.datosMC.mcFinalizado):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasSolucionados},null,8,["porcentaje","visualizar"]),i("div",Oo,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasSolucionados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMC.mcmpFinalizado,(a=>(o(),q(v,{key:a,seccion:a.seccion,creadas:a.mc+a.mp,finalizadas:a.mc,color1:"#96ffd9",color2:"#34d399",vs:!0,visualizar:u.skeleton.barrasSolucionados,onDblclick:e=>l.$router.push("/mc/"+u.router.params.idDestino+"/seccion/"+a.idSeccion)},null,8,["seccion","creadas","finalizadas","visualizar","onDblclick"])))),128))])]),Go,i("h1",Eo,[Ro,i("span",No,n(u.fechaA),1),qo,i("span",Bo,n(u.fechaB),1)]),i("div",To,[s(y,{nombre:"Más Incidencias Creadas",color:"#00c4fa",menosAmas:!1,destinos:u.datosMC.rankingIncidenciasCreadas,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Más Incidencias Solucionadas",color:"#34d399",menosAmas:!1,destinos:u.datosMC.rankingIncidenciasFinalizada,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Eficiencia de Atención",color:"#34d399",simbolo:"%",menosAmas:!1,destinos:u.datosMC.rankingEficiencia,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Menos Incidencias Acumuladas",color:"#563bff",menosAmas:!0,destinos:u.datosMC.rankingIncidenciasAcumulado,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Menos MC Creados vs MP Creados",color:"#fbbf24",simbolo:"%",menosAmas:!0,destinos:u.datosMC.rankingmcmpCreados,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"])]),i("div",Lo,[s(w,{array:u.arrayUsuariosCreados,titulo:"Creados",estado:"CREADOS"},null,8,["array"]),s(w,{array:u.arrayUsuariosSolucionados,titulo:"Solucionados",estado:"SOLUCIONADOS"},null,8,["array"]),s(w,{array:u.arrayUsuariosAcumulados,titulo:"Acumulados",estado:"ACUMULADOS"},null,8,["array"])])])])])},Ss.__scopeId="data-v-0fac3809";const Vo={name:"Rankings",props:{visualizar:{type:Boolean,default:!1},key:{type:Number},nombre:{type:String,required:!1},menosAmas:{type:Boolean,required:!1},color:{type:String,required:!1,default:"#ffeab6"},simbolo:{type:String,required:!1,default:""},posicion:{type:Number,default:1},usuarios:{type:Object,default:[]}},setup:()=>({})},Ho=()=>{f((a=>({"31c19a9e":a.color})))},_o=Vo.setup;Vo.setup=_o?(a,e)=>(Ho(),_o(a,e)):Ho;const Jo=Vo;d("data-v-e264609c");const $o={key:0,class:"flex flex-col items-start justify-center w-56"},Xo=i("div",{class:"text-center w-full mb-2 text-xs uppercase font-bold"},[i("h1",{class:"bg-gray-200 text-transparent rounded-sm"},"xxxxxxxxxxxxxxx")],-1),Ko=[l('<div class="w-12" data-v-e264609c><h1 class="bg-gray-200 text-transparent" data-v-e264609c>xxx</h1></div><div class="w-12" data-v-e264609c><h1 class="bg-gray-200 text-transparent" data-v-e264609c>xxx</h1></div><div class="w-12" data-v-e264609c><h1 class="bg-gray-200 text-transparent" data-v-e264609c>xxx</h1></div>',3)],Zo={key:1,class:"flex flex-col items-start justify-center w-56"},Wo={class:"text-center w-full mb-2 text-xs uppercase font-bold"},Yo={class:"w-16"},Qo={class:"w-44"},at={class:"w-full flex-none"},et={class:"w-16"};u(),Jo.render=function(a,s,l,r,d,u){return o(),e(c,null,[l.visualizar?(o(),e("div",$o,[Xo,(o(),e(c,null,S(8,(a=>i("div",{key:a,class:"flex flex-row items-center justify-between w-full text-center text-sm rounded p-1 mb-1 bg-gray-200 animate-pulse"},Ko))),64))])):t("",!0),l.visualizar?t("",!0):(o(),e("div",Zo,[i("div",Wo,[i("h1",null,n(l.nombre),1)]),(o(!0),e(c,null,S(l.usuarios,((a,s)=>(o(),e("div",{key:s,class:x([[a.usuarioActual?"destinoactual":"bg-base"],"flex flex-row items-center justify-between w-full text-center text-sm rounded p-1 mb-1"])},[i("div",Yo,[i("h1",null,n(s+1),1)]),i("div",Qo,[i("h1",at,n(a.nombre),1)]),i("div",et,[i("h1",null,n(a.total)+" "+n(l.simbolo),1)])],2)))),128))]))],64)},Jo.__scopeId="data-v-e264609c";const st={name:"Trmpmc",components:{Marcadores:Sa,GraficoCircularCss:Me,GraficoBarrasCss:Ee,Graficotest:Be,Rankings:_e,RankingsUsuarios:Jo,Iconos:J,GraficoBarrasCssSkeleton:os},props:{},setup(){const a=A().state,e=A().dispatch,s=U();j((()=>{f("","","cargar"),x(),p(),g(),h(),b(),v(),y()}));const o=O((()=>a.skeleton)),t=O((()=>a.arrayGrafica)),i=O((()=>a.arraySecciones.sort(((a,e)=>e.solucionados-a.solucionados)))),l=O((()=>a.datosMC)),n=O((()=>a.seccion)),r=m([]),c=m({fechaInicio:"",fechaFin:""}),d=m(""),u=m(""),f=(a,e,s)=>{const o=G(E(new Date,{days:5}),"yyyy-MM-dd"),t=G(new Date,"yyyy-MM-dd");if(!localStorage.getItem("fechas"))return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),c.value.fechaInicio=o,void(c.value.fechaFin=t);if(localStorage.getItem("fechas")){const i=JSON.parse(localStorage.getItem("fechas"));if("cargar"==s&&i.fechaInicio&&i.fechaFin)return c.value.fechaInicio=i.fechaInicio,void(c.value.fechaFin=i.fechaFin);if("actualizar"==s&&i.fechaInicio&&i.fechaFin)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:a,fechaFin:e})),c.value.fechaInicio=a,void(c.value.fechaFin=e);if("cargar"==s||"actualizar"==s)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),c.value.fechaInicio=o,void(c.value.fechaFin=t)}},x=async()=>{d.value=G(new Date(Math.round(c.value.fechaInicio.slice(0,4)),Math.round(c.value.fechaInicio.slice(5,7))-1,Math.round(c.value.fechaInicio.slice(8,10))),"dd MMMM"),u.value=G(new Date(Math.round(c.value.fechaFin.slice(0,4)),Math.round(c.value.fechaFin.slice(5,7))-1,Math.round(c.value.fechaFin.slice(8,10))),"dd MMMM"),a.skeleton.barrasCreadasVSSolucionadas=!0,a.skeleton.marcadores=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:c.value.fechaInicio,fechaFin:c.value.fechaFin,apartado:"ReporteRanking",idSeccion:s.params.idSeccion,accion:"incidenciasSubsecciones"},i=await e("peticion",t);if(i.response){const e=i.data.data;i.data.destino[0]?a.datosMC.destino=i.data.destino[0].destino:a.datosMC.destino="",a.datosMC.creadas=e.global.creadosGlobales,a.datosMC.enProceso=e.global.pendientesGlobales,a.datosMC.finalizado=e.global.solucionadosGlobales,a.datosMC.acumulado=e.global.acumuladoGlobales,a.datosMC.mediaHoras=e.global.mediaHoras.toFixed(2),a.datosMC.ratioCredas=e.global.ratioCredas.toFixed(2),a.datosMC.ratioFinalizadas=e.global.ratioFinalizadas.toFixed(2),a.datosMC.porcentajeSolucionado=e.global.creadosGlobales>0?Math.round(100/e.global.creadosGlobales*e.global.solucionadosGlobales):0,a.arraySecciones=i.data.data.secciones?i.data.data.secciones:[],a.skeleton.barrasCreadasVSSolucionadas=!1,a.skeleton.marcadores=!1}},p=async()=>{a.skeleton.grafica=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:c.value.fechaInicio,fechaFin:c.value.fechaFin,apartado:"ReporteRanking",accion:"graficaIncidenciasSubsecciones",idSeccion:s.params.idSeccion},i=await e("peticion",t);if(i.response){const e=i.data.data;a.arrayGrafica=e.data,a.skeleton.grafica=!1}},g=async()=>{a.skeleton.ranking=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:c.value.fechaInicio,fechaFin:c.value.fechaFin,apartado:"ReporteRanking",accion:"destinosIncidenciasSubsecciones",idSeccion:s.params.idSeccion},i=await e("peticion",t);if(i.response){const e=i.data.data.creados;e&&(e.sort(((a,e)=>e.total-a.total)),a.datosMC.rankingIncidenciasCreadas=e,e.forEach(((e,s)=>{e.idDestino==o&&(a.datosMC.rankingCreadas=s+1)})));const s=i.data.data.solucionados;s&&(s.sort(((a,e)=>e.total-a.total)),a.datosMC.rankingIncidenciasFinalizada=s,s.forEach(((e,s)=>{e.idDestino==o&&(a.datosMC.rankingFinalizado=s+1)})));const t=i.data.data.pendientes;t&&(t.sort(((a,e)=>a.total-e.total)),a.datosMC.rankingIncidenciasAcumulado=t,t.forEach(((e,s)=>{e.idDestino==o&&(a.datosMC.rankingAcumulado=s+1)})));const l=i.data.data.mcmpCreados;l&&(l.sort(((a,e)=>a.total-e.total)),a.datosMC.rankingmcmpCreados=l),a.skeleton.ranking=!1}},h=async()=>{a.skeleton.barrasCreados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:c.value.fechaInicio,fechaFin:c.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMCSubsecciones",status:"TODOS",idSeccion:s.params.idSeccion},i=await e("peticion",t);if(i.response){const e=i.data.data;a.datosMC.mcCreados=e.global.mcGlobal,a.datosMC.mpCreados=e.global.mpGlobal,a.datosMC.mcmpCreados=e.secciones.sort(((a,e)=>e.mc-a.mc)),a.skeleton.barrasCreados=!1}},b=async()=>{a.skeleton.barrasSolucionados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:c.value.fechaInicio,fechaFin:c.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMCSubsecciones",status:"SOLUCIONADO",idSeccion:s.params.idSeccion},i=await e("peticion",t);if(i.response){const e=i.data.data;a.datosMC.mcFinalizado=e.global.mcGlobal,a.datosMC.mpFinalizado=e.global.mpGlobal,a.datosMC.mcmpFinalizado=e.secciones.sort(((a,e)=>e.mc-a.mc)),a.skeleton.barrasSolucionados=!1}},v=async()=>{a.skeleton.rankingUsuarios=!0;let o=0;a.datosMC.creadosUsuarios=[],a.datosMC.solucionadosUsuarios=[],a.datosMC.acumuladosUsuarios=[],0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:c.value.fechaInicio,fechaFin:c.value.fechaFin,apartado:"ReporteRanking",accion:"incidenciasUsuarios",idSeccion:s.params.idSeccion},i=await e("peticion",t);if(i.response){i.data.data.forEach((e=>{e.incidenciasCreadas>0&&a.datosMC.creadosUsuarios.push({idUsuario:e.idUsuario,nombre:e.nombre+" "+e.apellido,total:e.incidenciasCreadas,usuarioActual:!(!localStorage.getItem("usuario")||localStorage.getItem("usuario")!=e.idUsuario)}),e.incidenciasSolucionadas>0&&a.datosMC.solucionadosUsuarios.push({idUsuario:e.idUsuario,nombre:e.nombre+" "+e.apellido,total:e.incidenciasSolucionadas,usuarioActual:!(!localStorage.getItem("usuario")||localStorage.getItem("usuario")!=e.idUsuario)}),e.incidenciasPendientes>0&&a.datosMC.acumuladosUsuarios.push({idUsuario:e.idUsuario,nombre:e.nombre+" "+e.apellido,total:e.incidenciasPendientes,usuarioActual:!(!localStorage.getItem("usuario")||localStorage.getItem("usuario")!=e.idUsuario)})})),a.datosMC.acumuladosUsuarios.sort(((a,e)=>e.total-a.total)),a.datosMC.creadosUsuarios.sort(((a,e)=>e.total-a.total)),a.datosMC.solucionadosUsuarios.sort(((a,e)=>e.total-a.total)),a.skeleton.rankingUsuarios=!1}i.response||(a.skeleton.rankingUsuarios=!1)},y=async()=>{let o=0;a.datosMC.creadosUsuarios=[],a.datosMC.solucionadosUsuarios=[],a.datosMC.acumuladosUsuarios=[],0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,apartado:"ReporteRanking",accion:"detalleSeccion",idSeccion:s.params.idSeccion},i=await e("peticion",t);if(i.response){const e=i.data.data[0];a.seccion=e.seccion}};return{fechas:c,fechaA:d,fechaB:u,datosMC:l,skeleton:o,aplicar:x,graficar:p,mcmpCreados:h,mcmpFinalizados:b,rankingGlobal:g,incidenciasUsuarios:v,arrayGrafica:t,arraySecciones:i,arrayRankingCreadas:r,seccion:n,comprobarFechas:f}}};d("data-v-d3052a36");const ot={class:"p-2 md:p-6"},tt={class:"text-2xl font-semibold text-gray-700 pb-4 text-center uppercase"},it=r(" TR Incidencias "),lt={class:"font-bold"},nt={class:"w-full flex flex-row items-center justify-center"},rt={class:"bg-white flex items-center justify-start rounded-xl"},ct={class:"p-3"},dt=i("h1",{class:"text-xxs font-semibold"},"Día Inicial",-1),ut={class:"p-3"},ft=i("h1",{class:"text-xxs font-semibold"},"Día Final",-1),mt={class:"p-3"},xt={class:"w-full my-4 flex flex-col items-center justify-start"},pt={class:"flex flex-col items-center justify-start w-full md:w-7/12 bg-white shadow-sm mt-4 flex-wrap rounded-lg pb-10"},gt={class:"mt-4 text-gray-700 font-semibold text-2xl uppercase leading-none"},ht={class:"text-gray-500 text-xxs leading-none"},bt=r(" Del "),vt={class:"font-bold"},yt=r(" al "),wt={class:"font-bold"},Mt={key:0,class:"w-full h-80 p-6"},Ct=[i("div",{class:"bg-gray-200 animate-pulse w-full h-full rounded-lg"},null,-1)],kt={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},St={class:"text-gray-500 text-xxs leading-none mb-4"},Pt=r(" Del "),Dt={class:"font-bold"},It=r(" al "),zt={class:"font-bold"},Ft={class:"w-full flex flex-row items-center justify-around flex-wrap"},At={class:"flex flex-col font-bold"},Ut=i("h2",{class:"text-sm text-left leading-none creadas mb-1"},"Creadas",-1),jt={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Ot=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," Solucionadas ",-1),Gt={class:"text-3xl text-left leading-none mb-3 text-gray-700"},Et=i("h2",{class:"text-sm text-left leading-none acumulado mb-1"}," Acumulado ",-1),Rt={class:"text-2xl text-left leading-none mb-3 text-gray-700"},Nt={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible px-16"},qt={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},Bt={class:"text-gray-500 text-xxs leading-none mb-4"},Tt=r(" Del "),Lt={class:"font-bold"},Vt=r(" al "),Ht={class:"font-bold"},_t={class:"w-full flex flex-row items-center justify-around flex-wrap"},Jt={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible px-16"},$t={class:"flex flex-col font-bold"},Xt=i("h2",{class:"text-sm text-right leading-none creadas mb-1"}," MC Creados ",-1),Kt={class:"text-4xl text-right leading-none mb-3 text-gray-700"},Zt=i("h2",{class:"text-sm text-right leading-none mp2 mb-1"},"MP Creadas",-1),Wt={class:"text-4xl text-right leading-none mb-3 text-gray-700"},Yt={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},Qt={class:"text-gray-500 text-xxs leading-none mb-4"},ai=r(" Del "),ei={class:"font-bold"},si=r(" al "),oi={class:"font-bold"},ti={class:"w-full flex flex-row items-center justify-around flex-wrap"},ii={class:"flex flex-col font-bold"},li=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," MC Finalizados ",-1),ni={class:"text-4xl text-left leading-none mb-3 text-gray-700"},ri=i("h2",{class:"text-sm text-left leading-none mp1 mb-1"}," MP Finalizados ",-1),ci={class:"text-4xl text-left leading-none mb-3 text-gray-700"},di={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible px-16"},ui={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},fi={class:"text-gray-500 text-xxs leading-none mb-4"},mi=r(" Del "),xi={class:"font-bold"},pi=r(" al "),gi={class:"font-bold"},hi={class:"w-full flex flex-wrap flex-row items-center justify-around px-8 pt-6"},bi={class:"mt-8 text-gray-700 font-semibold text-xl uppercase"},vi={class:"text-gray-500 text-xxs leading-none mb-4"},yi=r(" Del "),wi={class:"font-bold"},Mi=r(" al "),Ci={class:"font-bold"},ki={class:"w-full flex flex-wrap flex-row items-start justify-around px-8 pt-6"};u(),st.render=function(l,r,d,u,f,m){const x=a("Iconos"),p=a("Marcadores"),g=a("Graficotest"),h=a("GraficoCircularCss"),b=a("GraficoBarrasCssSkeleton"),v=a("GraficoBarrasCss"),y=a("Rankings"),w=a("RankingsUsuarios");return o(),e("div",ot,[i("h1",tt,[it,i("span",lt,n(u.datosMC.destino)+" "+n(u.seccion),1)]),i("div",nt,[i("div",rt,[i("div",ct,[dt,R(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[0]||(r[0]=a=>u.fechas.fechaInicio=a),onChange:r[1]||(r[1]=a=>u.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[N,u.fechas.fechaInicio]])]),s(x,{icono:"arrow-right",class:"w-4"}),i("div",ut,[ft,R(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[2]||(r[2]=a=>u.fechas.fechaFin=a),onChange:r[3]||(r[3]=a=>u.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[N,u.fechas.fechaFin]])]),i("div",mt,[i("button",{class:"bg-purple-50 text-purple-500 py-1 px-2 rounded-lg text-sm border border-purple-400",onClick:r[4]||(r[4]=a=>{u.aplicar(),u.graficar(),u.rankingGlobal(),u.mcmpCreados(),u.mcmpFinalizados(),u.incidenciasUsuarios()})}," Aplicar ")])])]),i("div",xt,[s(p,{creadas:u.datosMC.creadas,proceso:u.datosMC.enProceso,finalizado:u.datosMC.finalizado,acumulado:u.datosMC.acumulado,ranproceso:u.datosMC.rankingCreadas,ranacumulado:u.datosMC.rankingAcumulado,ranfinalizado:u.datosMC.rankingFinalizado,ratioCredas:u.datosMC.ratioCredas,ratioFinalizadas:u.datosMC.ratioFinalizadas,mediaHoras:u.datosMC.mediaHoras,visualizar:u.skeleton.marcadores},null,8,["creadas","proceso","finalizado","acumulado","ranproceso","ranacumulado","ranfinalizado","ratioCredas","ratioFinalizadas","mediaHoras","visualizar"]),i("div",pt,[i("h1",gt," Incidencias "+n(u.seccion),1),i("h1",ht,[bt,i("span",vt,n(u.fechaA),1),yt,i("span",wt,n(u.fechaB),1)]),u.skeleton.grafica?(o(),e("div",Mt,Ct)):t("",!0),u.skeleton.grafica?t("",!0):(o(),q(g,{key:1,class:"mt-4 rounded-lg shadow-sm",arrayGrafica:u.arrayGrafica},null,8,["arrayGrafica"])),i("h1",kt," Solucionadas VS Creadas "+n(u.seccion),1),i("h1",St,[Pt,i("span",Dt,n(u.fechaA),1),It,i("span",zt,n(u.fechaB),1)]),i("div",Ft,[i("div",At,[Ut,i("h1",jt,n(u.datosMC.creadas),1),Ot,i("h1",Gt,n(u.datosMC.finalizado),1),Et,i("h1",Rt,n(u.datosMC.enProceso),1)]),s(h,{texto:"Finalizado",color:"#34d399",porcentaje:u.datosMC.porcentajeSolucionado,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["porcentaje","visualizar"]),i("div",Nt,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.arraySecciones,(a=>(o(),q(v,{key:a,seccion:a.subseccion,creadas:a.creados,finalizadas:a.solucionados,color1:"#edf2f7",color2:"#34d399",vs:!1,visualizar:u.skeleton.barrasCreadasVSSolucionadas,rotarTexto:!0},null,8,["seccion","creadas","finalizadas","visualizar"])))),128))])]),i("h1",qt," Incidencias creadas vs Preventivos creados "+n(u.seccion),1),i("h1",Bt,[Tt,i("span",Lt,n(u.fechaA),1),Vt,i("span",Ht,n(u.fechaB),1)]),i("div",_t,[i("div",Jt,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMC.mcmpCreados,(a=>(o(),q(v,{key:a,seccion:a.subseccion,creadas:a.mp+a.mc,finalizadas:a.mc,color1:"#86e5ff",color2:"#00c4fa",vs:!0,visualizar:u.skeleton.barrasCreados,rotarTexto:!0},null,8,["seccion","creadas","finalizadas","visualizar"])))),128))]),s(h,{texto:"MC CREADOS",color:"#00c4fa",color2:"#86e5ff",porcentaje:u.datosMC.mcCreados>0?Math.round(100/(u.datosMC.mcCreados+u.datosMC.mpCreados)*u.datosMC.mcCreados):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreados},null,8,["porcentaje","visualizar"]),i("div",$t,[Xt,i("h1",Kt,n(u.datosMC.mcCreados),1),Zt,i("h1",Wt,n(u.datosMC.mpCreados),1)])]),i("h1",Yt," Incidencias solucionadas vs Preventivos solucionados "+n(u.seccion),1),i("h1",Qt,[ai,i("span",ei,n(u.fechaA),1),si,i("span",oi,n(u.fechaB),1)]),i("div",ti,[i("div",ii,[li,i("h1",ni,n(u.datosMC.mcFinalizado),1),ri,i("h1",ci,n(u.datosMC.mpFinalizado),1)]),s(h,{texto:"MC Finalizados",color:"#34d399",color2:"#96ffd9",porcentaje:u.datosMC.mcFinalizado>0?Math.round(100/(u.datosMC.mcFinalizado+u.datosMC.mpFinalizado)*u.datosMC.mcFinalizado):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasSolucionados},null,8,["porcentaje","visualizar"]),i("div",di,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasSolucionados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMC.mcmpFinalizado,(a=>(o(),q(v,{key:a,seccion:a.subseccion,creadas:a.mc+a.mp,finalizadas:a.mc,color1:"#96ffd9",color2:"#34d399",vs:!0,visualizar:u.skeleton.barrasSolucionados,rotarTexto:!0},null,8,["seccion","creadas","finalizadas","visualizar"])))),128))])]),i("h1",ui," Rankings américa "+n(u.seccion),1),i("h1",fi,[mi,i("span",xi,n(u.fechaA),1),pi,i("span",gi,n(u.fechaB),1)]),i("div",hi,[s(y,{nombre:"Más Incidencias Creadas",color:"#00c4fa",menosAmas:!1,destinos:u.datosMC.rankingIncidenciasCreadas,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Más Incidencias Solucionadas",color:"#34d399",menosAmas:!1,destinos:u.datosMC.rankingIncidenciasFinalizada,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Menos Incidencias Acumuladas",color:"#563bff",menosAmas:!0,destinos:u.datosMC.rankingIncidenciasAcumulado,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Menos MC Creados vs MP Creados",color:"#fbbf24",simbolo:"%",menosAmas:!0,destinos:u.datosMC.rankingmcmpCreados,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"])]),i("h1",bi," Rankings Usuarios "+n(u.seccion),1),i("h1",vi,[yi,i("span",wi,n(u.fechaA),1),Mi,i("span",Ci,n(u.fechaB),1)]),i("div",ki,[s(w,{nombre:"Creados por Usuarios",color:"#00c4fa",simbolo:"",menosAmas:!0,usuarios:u.datosMC.creadosUsuarios,visualizar:u.skeleton.rankingUsuarios},null,8,["usuarios","visualizar"]),s(w,{nombre:"Solucionados por Usuarios",color:"#34d399",simbolo:"",menosAmas:!0,usuarios:u.datosMC.solucionadosUsuarios,visualizar:u.skeleton.rankingUsuarios},null,8,["usuarios","visualizar"]),s(w,{nombre:"Acumulados por Usuarios",color:"#34d399",simbolo:"",menosAmas:!0,usuarios:u.datosMC.acumuladosUsuarios,visualizar:u.skeleton.rankingUsuarios},null,8,["usuarios","visualizar"])])])])])},st.__scopeId="data-v-d3052a36";const Si={components:{Iconos:J},props:{creadas:{type:Number,required:!0,default:0},ranproceso:{type:Number,required:!0,default:0},ranfinalizado:{type:Number,required:!0,default:0},proceso:{type:Number,required:!0,default:0},finalizado:{type:Number,required:!0,default:0},acumulado:{type:Number,required:!0,default:0},ranacumulado:{type:Number,required:!0,default:0},mediaHoras:{type:[String,Number],required:!0,default:0},ratioCredas:{type:[String,Number],required:!0,default:0},ratioFinalizadas:{type:[String,Number],required:!0,default:0},visible:{type:Boolean,required:!0}},setup:()=>({})},Pi={key:0,class:"animate-pulse py-4 flex flex-row flex-wrap items-center justify-evenly rounded-lg bg-white px-2 divide-x divide-gris-30 w-full md:w-7/12"},Di=[l('<div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div><div class="w-16 h-16 rounded-full bg-gray-200"></div>',7)],Ii={key:1,class:"flex flex-row flex-wrap items-center justify-evenly rounded-lg bg-white px-2 divide-x divide-gris-30 w-full md:w-7/12"},zi={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},Fi={class:"w-7 h-7 bg-blue-100 text-blue-400 rounded-full flex items-center justify-center"},Ai={class:"text-3xl font-semibold"},Ui=i("h2",{class:"text-sm text-gray-500"},"OT Creadas",-1),ji={class:"text-xxs leading-snug text-gray-500"},Oi=r(" Ratio "),Gi={class:"font-bold"},Ei={class:"text-xxs leading-snug text-gray-500"},Ri=r(" Media t. "),Ni={class:"font-bold"},qi={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},Bi={class:"w-7 h-7 bg-yellow-100 text-yellow-400 rounded-full flex items-center justify-center"},Ti={class:"text-3xl font-semibold"},Li=i("h2",{class:"text-sm text-gray-500"},"OT En proceso",-1),Vi={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},Hi={class:"w-7 h-7 bg-green-100 text-green-400 rounded-full flex items-center justify-center"},_i={class:"text-3xl font-semibold"},Ji=i("h2",{class:"text-sm text-gray-500"},"OT Finalizadas",-1),$i={class:"text-xxs leading-snug text-gray-500"},Xi=r(" Ratio "),Ki={class:"font-bold"},Zi={class:"w-36 h-36 flex flex-col items-center justify-start px-2 pt-6"},Wi={class:"w-7 h-7 bg-purple-100 text-purple-400 rounded-full flex items-center justify-center"},Yi={class:"text-3xl font-semibold"},Qi=i("h2",{class:"text-sm text-gray-500"},"OT Acumuladas",-1),al=i("h2",{class:"text-xxs leading-none text-gray-500"},[r(" del "),i("span",{class:"font-bold"},"1 ENE 2021"),r(" a la fecha ")],-1),el={class:"w-36 h-36 flex flex-col items-center justify-center px-2"},sl={class:"w-16 h-16 rounded-full ring ring-yellow-100 bg-yellow-400 border-4 mb-2 border-yellow-200 flex flex-col items-center justify-center"},ol={class:"text-2xl leading-none text-white font-semibold"},tl=i("span",{class:"text-sm"},"/8",-1),il=i("h2",{class:"text-xxs text-gray-500"},"Ranking America",-1),ll=i("h2",{class:"text-xxs leading-none uppercase text-gray-500 font-bold"}," OT MP Creadas ",-1),nl={class:"w-36 h-36 flex flex-col items-center justify-center px-2"},rl={class:"w-16 h-16 rounded-full ring ring-green-100 bg-green-400 border-4 mb-2 border-green-200 flex flex-col items-center justify-center"},cl={class:"text-2xl leading-none text-white font-semibold"},dl=i("span",{class:"text-sm"},"/8",-1),ul=i("h2",{class:"text-xxs text-gray-500"},"Ranking America",-1),fl=i("h2",{class:"text-xxs leading-none uppercase text-gray-500 font-bold"}," OT MP Finalizadas ",-1),ml={class:"w-36 h-36 flex flex-col items-center justify-center px-2"},xl={class:"w-16 h-16 rounded-full ring ring-purple-100 bg-purple-400 border-4 mb-2 border-purple-200 flex flex-col items-center justify-center"},pl={class:"text-2xl leading-none text-white font-semibold"},gl=i("span",{class:"text-sm"},"/8",-1),hl=i("h2",{class:"text-xxs text-gray-500"},"Ranking America",-1),bl=i("h2",{class:"text-xxs leading-none uppercase text-gray-500 font-bold text-center"}," OT MP acumuladas ",-1);Si.render=function(l,d,u,f,m,x){const p=a("iconos");return o(),e(c,null,[u.visible?(o(),e("div",Pi,Di)):t("",!0),u.visible?t("",!0):(o(),e("div",Ii,[i("div",zi,[i("div",Fi,[s(p,{icono:"plus",class:"w-4"})]),i("h1",Ai,n(u.creadas),1),Ui,i("h2",ji,[Oi,i("span",Gi,n(u.ratioCredas),1)]),i("h2",Ei,[Ri,i("span",Ni,n(u.mediaHoras)+" H",1)])]),i("div",qi,[i("div",Bi,[s(p,{icono:"loader",class:"w-4"})]),i("h1",Ti,n(u.proceso),1),Li]),i("div",Vi,[i("div",Hi,[s(p,{icono:"check-square",class:"w-4"})]),i("h1",_i,n(u.finalizado),1),Ji,i("h2",$i,[Xi,i("span",Ki,n(u.ratioFinalizadas),1)])]),i("div",Zi,[i("div",Wi,[s(p,{icono:"alert-triangle",class:"w-4"})]),i("h1",Yi,n(u.acumulado),1),Qi,al]),i("div",el,[i("div",sl,[i("h1",ol,[r(n(u.ranproceso),1),tl])]),il,ll]),i("div",nl,[i("div",rl,[i("h1",cl,[r(n(u.ranfinalizado),1),dl])]),ul,fl]),i("div",ml,[i("div",xl,[i("h1",pl,[r(n(u.ranacumulado),1),gl])]),hl,bl])]))],64)};const vl={props:{},setup:()=>({})},yl={class:"flex flex-col w-full flex-wrap items-center justify-start"},wl=[l('<div class="w-60 h-8 bg-gray-200 animate-pulse mb-4 mt-6"></div><div class="w-100 h-16 rounded-lg bg-white animate-pulse mb-4 flex flex-row items-center justify-around"><div class="w-1/4 bg-gray-200 animate-pulse h-6"></div><div class="w-1/4 bg-gray-200 animate-pulse h-6"></div><div class="w-1/4 bg-gray-200 animate-pulse h-6"></div></div><div class="flex flex-row items-center justify-around w-full md:w-7/12 bg-white flex-wrap rounded-lg h-32 animate-pulse mb-4"><div class="w-16 h-16 rounded-full bg-gray-200 animate-pulse"></div><div class="w-16 h-16 rounded-full bg-gray-200 animate-pulse"></div><div class="w-16 h-16 rounded-full bg-gray-200 animate-pulse"></div><div class="w-16 h-16 rounded-full bg-gray-200 animate-pulse"></div><div class="w-16 h-16 rounded-full bg-gray-200 animate-pulse"></div><div class="w-16 h-16 rounded-full bg-gray-200 animate-pulse"></div><div class="w-16 h-16 rounded-full bg-gray-200 animate-pulse"></div></div><div class="flex flex-row p-6 items-center justify-around w-full md:w-7/12 bg-white flex-wrap rounded-lg animate-pulse"><div class="w-60 h-8 bg-gray-200 animate-pulse mb-4"></div><div class="w-full h-44 bg-gray-200 animate-pulse"></div></div>',4)];vl.render=function(a,s,t,i,l,n){return o(),e("div",yl,wl)};const Ml={components:{UserIcon:P,PlusCircleIcon:D,CheckCircleIcon:I,SunIcon:z,XCircleIcon:F},props:{array:{type:Object,default:[]},titulo:{type:String,default:"Titulo"},estado:{type:String,default:"CREADOS"}},setup(a){const e=m(!1),s=m([]),o=localStorage.getItem("usuario");return{verDetalles:a=>{s.value=a.preventivos,e.value=!0},visible:e,preventivos:s,idUsuario:o,ordenar:()=>{"CREADOS"===a.estado&&a.array.sort(((a,e)=>e.creados-a.creados)),"SOLUCIONADOS"===a.estado&&a.array.sort(((a,e)=>e.solucionados-a.solucionados)),"ACUMULADOS"===a.estado&&a.array.sort(((a,e)=>e.acumulados-a.acumulados))}}}},Cl={class:"w-100 flex flex-row m-2 justify-center items-center"},kl={key:0,class:"w-full mx-auto flex flex-row justify-center items-center"},Sl={class:"rounded"},Pl={class:""},Dl={class:"flex flex-row items-center mb-1"},Il=i("th",{class:"w-52 md:w-72 px-2 flex flex-col items-center justify-center text-xs text-center cursor-pointer"}," Nombre del Usuario ",-1),zl={class:"flex flex-col items-center"},Fl=["onClick"],Al={class:"w-52 md:w-72 py-1.5 text-left text-xs md:text-sm uppercase rounded-l-lg flex flex-row items-center"},Ul={class:"font-normal truncate"},jl={key:0,class:"w-24 py-1.5 text-sm"},Ol={key:0,class:"h-auto min-w-max ventana redondes fc ic js overflow-y-scroll absolute mx-auto px-1.5 pt-9 pb-5 top-0",style:{"max-height":"100%","max-width":"35rem"}},Gl={class:"w-100 px-16"},El={class:"mr-1 text-xs uppercase font-semibold"},Rl=i("h1",{class:"mr-1 text-xs uppercase font-semibold"},"/",-1),Nl={class:"flex-none mr-1 text-xs uppercase font-semibold"},ql=i("h1",{class:"mr-1 text-xs uppercase font-semibold"},"/",-1),Bl={class:"text-sm uppercase truncate max-w-xs"};Ml.render=function(l,r,d,u,f,m){const p=a("UserIcon"),g=a("XCircleIcon");return o(),e(c,null,[i("div",Cl,[d.array.length?(o(),e("div",kl,[i("table",Sl,[i("thead",Pl,[i("tr",Dl,[Il,i("th",{class:"w-24 px-2 flex flex-col items-center justify-center text-xs text-center cursor-pointer",onClick:r[0]||(r[0]=a=>u.ordenar())},n(d.titulo),1)])]),i("tbody",zl,[(o(!0),e(c,null,S(d.array,((a,l)=>(o(),e("tr",{key:l,class:x(["flex flex-row rounded-lg bg-base",[l%2==1?"estilo-2":"estilo-1",a.idUsuario==u.idUsuario&&"CREADOS"==d.estado?"bg-creados":a.idUsuario==u.idUsuario&&"SOLUCIONADOS"==d.estado?"bg-solucionados":a.idUsuario==u.idUsuario&&"ACUMULADOS"==d.estado?"bg-acumulados":"bg-default"]]),onClick:e=>u.verDetalles(a)},[i("td",Al,[s(p,{class:"w-4 h-4 mx-2"}),i("p",Ul,n(a.nombre),1)]),"CREADOS"===d.estado?(o(),e("td",jl,n(a.creados>0?a.creados:"*"),1)):t("",!0),"SOLUCIONADOS"===d.estado?(o(),e("td",{key:1,class:x(["w-24 py-1.5",a.solucionados>0?"text-green-500 text-sm":"text-red-500 text-sm"])},n(a.solucionados>0?a.solucionados:"*"),3)):t("",!0),"ACUMULADOS"===d.estado?(o(),e("td",{key:2,class:x(["w-24 py-1.5 text-sm rounded-r-lg",a.acumulados>0?"text-yellow-500 text-sm":"text-green-400 text-sm"])},n(a.acumulados>0?a.acumulados:"-"),3)):t("",!0)],10,Fl)))),128))])])])):t("",!0)]),u.visible?(o(),e("div",Ol,[i("div",Gl,[s(g,{onClick:r[1]||(r[1]=a=>u.visible=!u.visible),class:"w-7 h-7 text-red-300 cursor-pointer z-50 absolute top-0 right-0"})]),(o(!0),e(c,null,S(u.preventivos,((a,s)=>(o(),e("div",{key:s,class:x([["CREADOS"===d.estado||"SOLUCIONADOS"===d.estado&&"SOLUCIONADO"===a.status||"ACUMULADOS"===d.estado&&"PENDIENTE"===a.status?"":"hidden"],"w-full p-1 item redondes fr ic js"])},[i("div",{class:x(["w-4 h-4 rounded-full flex-none mr-1",{"bg-red-500":"PENDIENTE"===a.status,"bg-green-500":"SOLUCIONADO"===a.status}])},null,2),i("h1",El,n(a.seccion),1),Rl,i("h1",Nl,n(a.subseccion),1),ql,i("h1",Bl,n(a.equipo),1)],2)))),128))])):t("",!0)],64)};const Tl={name:"Trmp",components:{MarcadoresMp:Si,GraficoCircularCss:Me,GraficoBarrasCss:Ee,GraficoBarrasCssSkeleton:os,Graficotest:Be,Rankings:_e,SkeletonTr:vl,Iconos:J,RankingsUsuariosPreventivos:Ml},props:{},setup(){const a=A().dispatch,e=A().state,s=U();j((()=>{d("","","cargar"),u(),f(),x(),p(),g(),h(),b()}));const o=O((()=>e.skeleton)),t=O((()=>e.datosMP)),i=O((()=>e.arrayGrafica)),l=m({fechaInicio:"",fechaFin:""}),n=m(""),r=m(""),c=m([]),d=(a,e,s)=>{const o=G(E(new Date,{days:5}),"yyyy-MM-dd"),t=G(new Date,"yyyy-MM-dd");if(!localStorage.getItem("fechas"))return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),l.value.fechaInicio=o,void(l.value.fechaFin=t);if(localStorage.getItem("fechas")){const i=JSON.parse(localStorage.getItem("fechas"));if("cargar"==s&&i.fechaInicio&&i.fechaFin)return l.value.fechaInicio=i.fechaInicio,void(l.value.fechaFin=i.fechaFin);if("actualizar"==s&&i.fechaInicio&&i.fechaFin)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:a,fechaFin:e})),l.value.fechaInicio=a,void(l.value.fechaFin=e);if("cargar"==s||"actualizar"==s)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),l.value.fechaInicio=o,void(l.value.fechaFin=t)}},u=async()=>{n.value=G(new Date(Math.round(l.value.fechaInicio.slice(0,4)),Math.round(l.value.fechaInicio.slice(5,7))-1,Math.round(l.value.fechaInicio.slice(8,10))),"dd MMMM"),r.value=G(new Date(Math.round(l.value.fechaFin.slice(0,4)),Math.round(l.value.fechaFin.slice(5,7))-1,Math.round(l.value.fechaFin.slice(8,10))),"dd MMMM"),e.skeleton.marcadores=!0,e.skeleton.barrasCreadasVSSolucionadas=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:l.value.fechaInicio,fechaFin:l.value.fechaFin,apartado:"ReporteRanking",accion:"mpSecciones"},i=await a("peticion",t);if(i.response){const a=i.data.data;i.data.destino[0]?e.datosMP.destino=i.data.destino[0].destino:e.datosMP.destino="",e.datosMP.totalSemanasPlanificadasGlobal=a.global.totalSemanasPlanificadasGlobal,e.datosMP.creadas=a.global.creadasGlobal,e.datosMP.pendientes=a.global.pendientesGlobal,e.datosMP.finalizados=a.global.solucionadosGlobal,e.datosMP.acumulado=a.global.acumuladoGlobal,e.datosMP.planificados=a.global.planificadoGlobal,e.datosMP.mediaHoras=a.global.mediaHoras.toFixed(2),e.datosMP.ratioCredas=a.global.ratioCredas.toFixed(2),e.datosMP.ratioFinalizadas=a.global.ratioFinalizadas.toFixed(2),e.datosMP.planificadoVSfinalizado=a.secciones.sort(((a,e)=>e.planificado-a.planificado)),e.datosMP.finalizadosPrevio=0,a.secciones.forEach((a=>{const s=a.solucionados-a.planificado;s>0&&(e.datosMP.finalizadosPrevio=s+e.datosMP.finalizadosPrevio)})),e.skeleton.marcadores=!1,e.skeleton.barrasCreadasVSSolucionadas=!1;const s=[];a.secciones.forEach((a=>{a.preventivos.forEach((a=>{if(s.length||s.push({idUsuario:a.arrayCreadoPor.idUsuario,nombre:a.arrayCreadoPor.nombre,apellido:a.arrayCreadoPor.apellido,preventivos:[a],creados:1,acumulados:"PENTIENTE"===a.status?1:0,solucionados:"SOLUCIONADO"===a.status?1:0,preventivos:[a]}),s.length){const e=s.findIndex((e=>e.idUsuario==a.arrayCreadoPor.idUsuario));if(-1==e)return void s.push({idUsuario:a.arrayCreadoPor.idUsuario,nombre:a.arrayCreadoPor.nombre,apellido:a.arrayCreadoPor.apellido,creados:1,acumulados:"PENTIENTE"===a.status?1:0,solucionados:"SOLUCIONADO"===a.status?1:0,preventivos:[a]});if(e>-1)return s[e].creados++,"PENDIENTE"===a.status&&s[e].acumulados++,"SOLUCIONADO"===a.status&&s[e].solucionados++,void s[e].preventivos.push(a)}}))})),c.value=s}},f=async()=>{e.skeleton.grafica=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:l.value.fechaInicio,fechaFin:l.value.fechaFin,apartado:"ReporteRanking",accion:"mpGrafica"},i=await a("peticion",t);if(i.response){const a=i.data.data;e.arrayGrafica=a,e.skeleton.grafica=!1}},x=async()=>{e.skeleton.barrasPlanificacionAnual=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:`${B(new Date)}-01-01`,fechaFin:`${B(new Date)}-12-31`,apartado:"ReporteRanking",accion:"mpPlaneaciones"},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.totalPlanificaciones=a.totalPlanificacionesGlobal,e.datosMP.totalConPlanificacionCompleta=a.totalPlanificadosCompletosGlobal,e.datosMP.totalConPlanificacionIncompleta=a.totalPlanificadosIncompletosGlobal,e.datosMP.totalSinPlanificacion=a.totalSinPlanificacionesGlobal,e.datosMP.totalPlanifiaciones=a.totalPlanificacionesGlobal,e.datosMP.planeacionesSecciones=a.planeacionesSecciones.sort(((a,e)=>e.totalPlanificaciones-a.totalPlanificaciones)),e.skeleton.barrasPlanificacionAnual=!1}},p=async()=>{let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:`${B(new Date)}-01-01`,fechaFin:`${B(new Date)}-12-31`,apartado:"ReporteRanking",accion:"mpPlanificacionesEquipos"},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.totalEquipos=a.totalEquipos,e.datosMP.totalEquiposConPlanificacion=a.totalEquiposConPlanificacion,e.datosMP.totalEquiposSinPlanificacion=a.totalEquiposSinPlanificacion,a.totalEquipos>0&&(e.datosMP.totalEquiposPlanCompleto=(100/a.totalEquipos*a.totalEquiposPlanCompleto).toFixed(1))}},g=async()=>{e.skeleton.barrasCreados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:l.value.fechaInicio,fechaFin:l.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMC",status:"TODOS"},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.mcCreados=a.global.mcGlobal,e.datosMP.mpCreados=a.global.mpGlobal,e.datosMP.mcmpCreados=a.secciones.sort(((a,e)=>e.mp-a.mp)),e.skeleton.barrasCreados=!1}},h=async()=>{e.skeleton.barrasSolucionados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:l.value.fechaInicio,fechaFin:l.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMC",status:"SOLUCIONADO"},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.mcFinalizado=a.global.mcGlobal,e.datosMP.mpFinalizado=a.global.mpGlobal,e.datosMP.mcmpFinalizados=a.secciones.sort(((a,e)=>e.mp-a.mp)),e.skeleton.barrasSolucionados=!1}},b=async()=>{e.skeleton.ranking=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:l.value.fechaInicio,fechaFin:l.value.fechaFin,apartado:"ReporteRanking",accion:"rankingMP"},i=await a("peticion",t);if(i.response){const a=i.data.data.creados;a&&(a.sort(((a,e)=>e.total-a.total)),e.datosMP.rankingMPCreadas=a,a.forEach(((a,s)=>{a.idDestino==o&&(e.datosMP.rankingCreadas=s+1)})));const s=i.data.data.solucionados;s&&(s.sort(((a,e)=>e.total-a.total)),e.datosMP.rankingMPFinalizada=s,s.forEach(((a,s)=>{a.idDestino==o&&(e.datosMP.rankingFinalizado=s+1)})));const t=i.data.data.pendientes;t&&(t.sort(((a,e)=>a.total-e.total)),e.datosMP.rankingMPAcumulado=t,t.forEach(((a,s)=>{a.idDestino==o&&(e.datosMP.rankingAcumulado=s+1)})));const l=i.data.data.mpmcCreados;l&&(l.sort(((a,e)=>a.total-e.total)),e.datosMP.rankingmcmpCreados=l);const n=[];i.data.data.creados&&i.data.data.solucionados&&(i.data.data.creados.forEach((a=>{let e=0,s=a.total,t=0;i.data.data.solucionados.forEach((s=>{s.idDestino==a.idDestino&&(e=s.total)})),t=100/s*e>0?100/s*e:0,n.push({idDestino:a.idDestino,destino:a.destino,total:Math.trunc(t),destinoActual:a.idDestino==o})})),n.sort(((a,e)=>e.total-a.total)),e.datosMP.rankingEficiencia=n),e.skeleton.ranking=!1}};return{aplicar:u,graficar:f,arrayGrafica:i,planificacionAnual:x,planificacionAnualEquipos:p,skeleton:o,datosMP:t,fechas:l,fechaA:n,fechaB:r,arrayUsuarios:c,mcmpCreados:g,mcmpFinalizados:h,rankingGlobal:b,router:s,comprobarFechas:d}}};d("data-v-4ba571c4");const Ll={class:"p-2 md:p-6"},Vl={class:"text-2xl font-semibold text-gray-700 pb-4 text-center uppercase"},Hl=r(" TR Preventivo "),_l={class:"font-bold"},Jl={class:"w-full flex flex-row items-center justify-center"},$l={class:"bg-white flex items-center justify-start rounded-xl"},Xl={class:"p-3"},Kl=i("h1",{class:"text-xxs font-semibold"},"Día Inicial",-1),Zl={class:"p-3"},Wl=i("h1",{class:"text-xxs font-semibold"},"Día Final",-1),Yl={class:"p-3"},Ql={class:"w-full my-4 flex flex-col items-center justify-start"},an={class:"flex flex-col items-center justify-start w-full md:w-7/12 bg-white shadow-sm mt-4 flex-wrap rounded-lg pb-10"},en=i("h1",{class:"mt-4 text-gray-700 font-semibold text-2xl uppercase leading-none"}," Preventivos ",-1),sn={class:"text-gray-500 text-xxs leading-none"},on=r(" Del "),tn={class:"font-bold"},ln=r(" al "),nn={class:"font-bold"},rn={key:0,class:"w-full h-80 p-6"},cn=[i("div",{class:"bg-gray-200 animate-pulse w-full h-full rounded-lg"},null,-1)],dn=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," PLANIFICADO VS FINALIZADO ",-1),un={class:"text-gray-500 text-xxs leading-none mb-4"},fn=r(" Del "),mn={class:"font-bold"},xn=r(" al "),pn={class:"font-bold"},gn={class:"w-full flex flex-row flex-wrap items-center justify-around"},hn={class:"flex flex-col font-bold"},bn=i("h2",{class:"text-sm text-left leading-none creadas mb-1"}," Planificado ",-1),vn={class:"text-4xl text-left leading-none mb-3 text-gray-700"},yn=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," Finalizado ",-1),wn={class:"text-3xl text-left leading-none mb-3 text-gray-700"},Mn=i("h2",{class:"text-sm text-left leading-none acumulado mb-1"}," Acumulado ",-1),Cn={class:"text-2xl text-left leading-none mb-3 text-gray-700"},kn=i("h2",{class:"text-sm text-left leading-none finalizado"}," Finalizado sin plan previo ",-1),Sn={class:"text-2xl text-left leading-none mb-3 text-gray-700"},Pn={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible"},Dn=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," PLANIFICACION MP ",-1),In={class:"w-full flex flex-row flex-wrap items-center justify-around pt-8"},zn={class:"flex flex-col font-bold md:w-1/4 w-1/2 md:mb-0 mb-4 items-center justify-center"},Fn={class:"text-4xl text-center leading-none text-gray-700"},An=i("h2",{class:"text-sm text-center leading-none text-gray-500"}," Total Planificaciones ",-1),Un={class:"flex flex-col font-bold md:w-1/4 w-1/2 md:mb-0 mb-4 items-center justify-center"},jn={class:"text-4xl text-center leading-none text-gray-700"},On=i("h2",{class:"text-xs text-center leading-none text-gray-500 w-56"}," Con planificacion anual completa ",-1),Gn={class:"text-2xl text-center leading-none text-gray-700 mt-1 flex items-center justify-center"},En={class:"flex flex-col font-bold md:w-1/4 w-1/2 md:mb-0 mb-4 items-center justify-center"},Rn={class:"text-4xl text-center leading-none text-gray-700"},Nn=i("h2",{class:"text-xs text-center leading-none text-gray-500 w-56"}," Con planificacion anual incompleta ",-1),qn={class:"text-2xl text-center leading-none text-gray-700 mt-1"},Bn={class:"flex flex-col font-bold md:w-1/4 w-1/2 mb-4 md:mb-0 items-center justify-center"},Tn={class:"text-4xl text-center leading-none text-gray-700"},Ln=i("h2",{class:"text-xs text-center leading-none text-gray-500 w-56"}," Sin planificacion ",-1),Vn={class:"text-2xl text-center leading-none text-gray-700 mt-1"},Hn={class:"w-full md:w-auto p-3 flex flex-row items-center justify-around overflow-x-auto md:overflow-x-visible"},_n=i("div",{class:"hidden lg:flex flex-row items-center mr-4 text-xs font-semibold text-gray-500"},[i("div",{class:"bg-creadas w-4 h-4 rounded mr-2"}),i("h1",{class:"w-32"},"% de Planificacion anual completa.")],-1),Jn={class:"flex flex-col font-bold"},$n=i("h2",{class:"text-sm text-left leading-none text-gray-500 mt-3 mb-1"}," Total Activos ",-1),Xn={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Kn=i("h2",{class:"text-sm text-left leading-none text-red-500 mb-1"}," Activos Sin Planificación ",-1),Zn={class:"text-3xl text-left leading-none mb-3 text-gray-700"},Wn=i("h2",{class:"text-sm text-left leading-none creadas mb-1"}," Equipos Con Planificación ",-1),Yn={class:"text-2xl text-left leading-none mb-3 text-gray-700"},Qn=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," Equipos Con Plan al 100% ",-1),ar={class:"text-2xl text-left leading-none mb-3 text-gray-700"},er=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," Preventivo creado vs Incidencias creadas ",-1),sr={class:"text-gray-500 text-xxs leading-none mb-4"},or=r(" Del "),tr={class:"font-bold"},ir=r(" al "),lr={class:"font-bold"},nr={class:"w-full flex flex-row flex-wrap items-center justify-around"},rr={class:"w-full md:w-auto p-3 flex flex-row items-start justify-around overflow-x-auto md:overflow-x-visible"},cr={class:"flex flex-col font-bold"},dr=i("h2",{class:"text-sm text-right leading-none proceso mb-1"}," MP Creados ",-1),ur={class:"text-4xl text-right leading-none mb-3 text-gray-700"},fr=i("h2",{class:"text-sm text-right leading-none proceso2 mb-1"}," MC Creadas ",-1),mr={class:"text-4xl text-right leading-none mb-3 text-gray-700"},xr=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," Preventivo solucionado vs Incidencias solucionadas ",-1),pr={class:"text-gray-500 text-xxs leading-none mb-4"},gr=r(" Del "),hr={class:"font-bold"},br=r(" al "),vr={class:"font-bold"},yr={class:"w-full flex flex-row flex-wrap items-center justify-around"},wr={class:"flex flex-col font-bold"},Mr=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," MP Finalizados ",-1),Cr={class:"text-4xl text-left leading-none mb-3 text-gray-700"},kr=i("h2",{class:"text-sm text-left leading-none mp1 mb-1"}," MC Finalizados ",-1),Sr={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Pr={class:"w-full md:w-auto p-3 flex flex-row items-start justify-around overflow-x-auto md:overflow-x-visible"},Dr=i("h1",{class:"mt-4 text-gray-700 font-semibold text-xl uppercase"}," Rankings américa ",-1),Ir={class:"text-gray-500 text-xxs leading-none mb-4"},zr=r(" Del "),Fr={class:"font-bold"},Ar=r(" al "),Ur={class:"font-bold"},jr={class:"w-full flex flex-row flex-wrap items-center justify-around px-8 pt-6"},Or={class:"max-w-max flex flex-col md:flex-row justify-center items-center relative mt-6"};u(),Tl.render=function(l,r,d,u,f,m){const x=a("Iconos"),p=a("MarcadoresMp"),g=a("Graficotest"),h=a("GraficoCircularCss"),b=a("GraficoBarrasCssSkeleton"),v=a("GraficoBarrasCss"),y=a("Rankings"),w=a("RankingsUsuariosPreventivos");return o(),e("div",Ll,[i("h1",Vl,[Hl,i("span",_l,n(u.datosMP.destino),1)]),i("div",Jl,[i("div",$l,[i("div",Xl,[Kl,R(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[0]||(r[0]=a=>u.fechas.fechaInicio=a),onChange:r[1]||(r[1]=a=>u.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[N,u.fechas.fechaInicio]])]),s(x,{icono:"arrow-right",class:"w-4"}),i("div",Zl,[Wl,R(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[2]||(r[2]=a=>u.fechas.fechaFin=a),onChange:r[3]||(r[3]=a=>u.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[N,u.fechas.fechaFin]])]),i("div",Yl,[i("button",{class:"bg-purple-50 text-purple-500 py-1 px-2 rounded-lg text-sm border border-purple-400",onClick:r[4]||(r[4]=a=>{u.aplicar(),u.graficar(),u.mcmpCreados(),u.mcmpFinalizados(),u.rankingGlobal()})}," Aplicar ")])])]),i("div",Ql,[s(p,{creadas:u.datosMP.creadas,proceso:u.datosMP.pendientes,finalizado:u.datosMP.finalizados,acumulado:u.datosMP.acumulado,ranfinalizado:u.datosMP.rankingFinalizado,ranproceso:u.datosMP.rankingCreadas,ranacumulado:u.datosMP.rankingAcumulado,ratioCredas:u.datosMP.ratioCredas,ratioFinalizadas:u.datosMP.ratioFinalizadas,mediaHoras:u.datosMP.mediaHoras,visible:u.skeleton.marcadores},null,8,["creadas","proceso","finalizado","acumulado","ranfinalizado","ranproceso","ranacumulado","ratioCredas","ratioFinalizadas","mediaHoras","visible"]),i("div",an,[en,i("h1",sn,[on,i("span",tn,n(u.fechaA),1),ln,i("span",nn,n(u.fechaB),1)]),u.skeleton.grafica?(o(),e("div",rn,cn)):t("",!0),u.skeleton.grafica?t("",!0):(o(),q(g,{key:1,class:"mt-4 rounded-lg shadow-sm",arrayGrafica:u.arrayGrafica},null,8,["arrayGrafica"])),dn,i("h1",un,[fn,i("span",mn,n(u.fechaA),1),xn,i("span",pn,n(u.fechaB),1)]),i("div",gn,[i("div",hn,[bn,i("h1",vn,n(u.datosMP.totalSemanasPlanificadasGlobal),1),yn,i("h1",wn,n(u.datosMP.finalizados),1),Mn,i("h1",Cn,n(u.datosMP.pendientes),1),kn,i("h1",Sn,n(u.datosMP.finalizadosPrevio),1)]),s(h,{texto:"Cumplimiento",color:"#00c4fa",color2:"#acedff",porcentaje:u.datosMP.totalSemanasPlanificadasGlobal>0?Math.round(100/u.datosMP.totalSemanasPlanificadasGlobal*u.datosMP.finalizados):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["porcentaje","visualizar"]),i("div",Pn,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMP.planificadoVSfinalizado,(a=>(o(),q(v,{key:a,seccion:a.seccion,creadas:a.planificado,finalizadas:a.solucionados,color1:"#acedff",color2:"#34d399",vs:!1,visualizar:u.skeleton.barrasCreadasVSSolucionadas,onDblclick:e=>l.$router.push("/mp/"+u.router.params.idDestino+"/seccion/"+a.idSeccion)},null,8,["seccion","creadas","finalizadas","visualizar","onDblclick"])))),128))])]),Dn,i("div",In,[i("div",zn,[i("h1",Fn,n(u.datosMP.totalPlanificaciones),1),An]),i("div",Un,[i("h1",jn,n(u.datosMP.totalConPlanificacionCompleta),1),On,i("h1",Gn,n(u.datosMP.totalPlanifiaciones>0?(100/u.datosMP.totalPlanifiaciones*u.datosMP.totalConPlanificacionCompleta).toFixed(1):0)+"% ",1)]),i("div",En,[i("h1",Rn,n(u.datosMP.totalConPlanificacionIncompleta),1),Nn,i("h1",qn,n(u.datosMP.totalPlanifiaciones>0?(100/u.datosMP.totalPlanifiaciones*u.datosMP.totalConPlanificacionIncompleta).toFixed(1):0)+"% ",1)]),i("div",Bn,[i("h1",Tn,n(u.datosMP.totalSinPlanificacion),1),Ln,i("h1",Vn,n(u.datosMP.totalPlanifiaciones>0?(100/u.datosMP.totalPlanifiaciones*u.datosMP.totalSinPlanificacion).toFixed(1):0)+"% ",1)]),i("div",Hn,[_n,(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasPlanificacionAnual},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMP.planeacionesSecciones,(a=>(o(),q(v,{key:a,seccion:a.seccion,creadas:a.totalPlanificaciones,finalizadas:a.totalPlanificadosCompletos,color1:"#edf2f7",color2:"#00c4fa",vs:!1,visualizar:u.skeleton.barrasPlanificacionAnual,onDblclick:e=>l.$router.push("/mp/"+u.router.params.idDestino+"/seccion/"+a.idSeccion)},null,8,["seccion","creadas","finalizadas","visualizar","onDblclick"])))),128))]),i("div",Jn,[$n,i("h1",Xn,n(u.datosMP.totalEquipos),1),Kn,i("h1",Zn,n(u.datosMP.totalEquiposSinPlanificacion),1),Wn,i("h1",Yn,n(u.datosMP.totalEquiposConPlanificacion),1),Qn,i("h1",ar,n(u.datosMP.totalEquiposPlanCompleto)+"% ",1)])]),er,i("h1",sr,[or,i("span",tr,n(u.fechaA),1),ir,i("span",lr,n(u.fechaB),1)]),i("div",nr,[i("div",rr,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMP.mcmpCreados,(a=>(o(),q(v,{key:a,seccion:a.seccion,creadas:a.mp+a.mc,finalizadas:a.mp,color1:"#ffe39c",color2:"#fbbf24",vs:!0,visualizar:u.skeleton.barrasCreados,onDblclick:e=>l.$router.push("/mp/"+u.router.params.idDestino+"/seccion/"+a.idSeccion)},null,8,["seccion","creadas","finalizadas","visualizar","onDblclick"])))),128))]),s(h,{texto:"MP CREADOS",color:"#fbbf24",color2:"#ffe39c",porcentaje:u.datosMP.mpCreados>0?Math.round(100/(u.datosMP.mpCreados+u.datosMP.mcCreados)*u.datosMP.mpCreados):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreados},null,8,["porcentaje","visualizar"]),i("div",cr,[dr,i("h1",ur,n(u.datosMP.mpCreados),1),fr,i("h1",mr,n(u.datosMP.mcCreados),1)])]),xr,i("h1",pr,[gr,i("span",hr,n(u.fechaA),1),br,i("span",vr,n(u.fechaB),1)]),i("div",yr,[i("div",wr,[Mr,i("h1",Cr,n(u.datosMP.mpFinalizado),1),kr,i("h1",Sr,n(u.datosMP.mcFinalizado),1)]),s(h,{texto:"MP Finalizados",color:"#34d399",color2:"#96ffd9",porcentaje:u.datosMP.mpFinalizado>0?Math.round(100/(u.datosMP.mpFinalizado+u.datosMP.mcFinalizado)*u.datosMP.mpFinalizado):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasSolucionados},null,8,["porcentaje","visualizar"]),i("div",Pr,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasSolucionados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMP.mcmpFinalizados,(a=>(o(),q(v,{key:a,seccion:a.seccion,creadas:a.mc+a.mp,finalizadas:a.mp,color1:"#96ffd9",color2:"#34d399",vs:!0,visualizar:u.skeleton.barrasSolucionados,onDblclick:e=>l.$router.push("/mp/"+u.router.params.idDestino+"/seccion/"+a.idSeccion)},null,8,["seccion","creadas","finalizadas","visualizar","onDblclick"])))),128))])]),Dr,i("h1",Ir,[zr,i("span",Fr,n(u.fechaA),1),Ar,i("span",Ur,n(u.fechaB),1)]),i("div",jr,[s(y,{nombre:"Más OT MP Creadas",color:"#00c4fa",menosAmas:!1,destinos:u.datosMP.rankingMPCreadas,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Más OT MP Solucionadas",color:"#34d399",menosAmas:!1,destinos:u.datosMP.rankingMPFinalizada,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Eficiencia de Atención",color:"#34d399",simbolo:"%",menosAmas:!1,destinos:u.datosMP.rankingEficiencia,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Menos OT MP Acumuladas",color:"#563bff",menosAmas:!0,destinos:u.datosMP.rankingMPAcumulado,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Mas MP vs MC",color:"#fbbf24",simbolo:"%",menosAmas:!1,destinos:u.datosMP.rankingmcmpCreados,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"])]),i("div",Or,[s(w,{array:u.arrayUsuarios,titulo:"Creados",estado:"CREADOS"},null,8,["array"]),s(w,{array:u.arrayUsuarios,titulo:"Solucionados",estado:"SOLUCIONADOS"},null,8,["array"])])])])])},Tl.__scopeId="data-v-4ba571c4";const Gr={name:"TrmpSubsecciones",components:{MarcadoresMp:Si,GraficoCircularCss:Me,GraficoBarrasCss:Ee,GraficoBarrasCssSkeleton:os,Graficotest:Be,Rankings:_e,RankingsUsuarios:Jo,SkeletonTr:vl,Iconos:J},props:{},setup(){const a=A().dispatch,e=A().state,s=U();j((()=>{y("","","cargar"),d(),u(),f(),x(),p(),g(),h(),b(),v()}));const o=O((()=>e.skeleton)),t=O((()=>e.datosMP)),i=O((()=>e.arrayGrafica)),l=O((()=>e.seccion)),n=m({fechaInicio:"",fechaFin:""}),r=m(""),c=m(""),d=async()=>{r.value=G(new Date(Math.round(n.value.fechaInicio.slice(0,4)),Math.round(n.value.fechaInicio.slice(5,7))-1,Math.round(n.value.fechaInicio.slice(8,10))),"dd MMMM"),c.value=G(new Date(Math.round(n.value.fechaFin.slice(0,4)),Math.round(n.value.fechaFin.slice(5,7))-1,Math.round(n.value.fechaFin.slice(8,10))),"dd MMMM"),e.skeleton.marcadores=!0,e.skeleton.barrasCreadasVSSolucionadas=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:n.value.fechaInicio,fechaFin:n.value.fechaFin,apartado:"ReporteRanking",accion:"mpSubsecciones",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data;i.data.destino[0]?e.datosMP.destino=i.data.destino[0].destino:e.datosMP.destino="",e.datosMP.totalSemanasPlanificadasGlobal=a.global.totalSemanasPlanificadasGlobal,e.datosMP.creadas=a.global.creadasGlobal,e.datosMP.pendientes=a.global.pendientesGlobal,e.datosMP.finalizados=a.global.solucionadosGlobal,e.datosMP.acumulado=a.global.acumuladoGlobal,e.datosMP.planificados=a.global.planificadoGlobal,e.datosMP.mediaHoras=a.global.mediaHoras.toFixed(2),e.datosMP.ratioCredas=a.global.ratioCredas.toFixed(2),e.datosMP.ratioFinalizadas=a.global.ratioFinalizadas.toFixed(2),e.datosMP.planificadoVSfinalizado=a.subsecciones.sort(((a,e)=>e.planificado-a.planificado)),e.datosMP.finalizadosPrevio=0,a.subsecciones.forEach((a=>{const s=a.solucionados-a.planificado;s>0&&(e.datosMP.finalizadosPrevio=s+e.datosMP.finalizadosPrevio)})),e.skeleton.marcadores=!1,e.skeleton.barrasCreadasVSSolucionadas=!1}},u=async()=>{e.skeleton.grafica=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:n.value.fechaInicio,fechaFin:n.value.fechaFin,apartado:"ReporteRanking",accion:"mpGraficaSubsecciones",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data;e.arrayGrafica=a,e.skeleton.grafica=!1}},f=async()=>{e.skeleton.barrasPlanificacionAnual=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:`${B(new Date)}-01-01`,fechaFin:`${B(new Date)}-12-31`,apartado:"ReporteRanking",accion:"mpPlaneacionesSubsecciones",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.totalPlanificaciones=a.totalPlanificacionesGlobal,e.datosMP.totalConPlanificacionCompleta=a.totalPlanificadosCompletosGlobal,e.datosMP.totalConPlanificacionIncompleta=a.totalPlanificadosIncompletosGlobal,e.datosMP.totalSinPlanificacion=a.totalSinPlanificacionesGlobal,e.datosMP.totalPlanifiaciones=a.totalPlanificacionesGlobal,e.datosMP.planeacionesSecciones=a.planeacionesSecciones.sort(((a,e)=>e.totalPlanificaciones-a.totalPlanificaciones)),e.skeleton.barrasPlanificacionAnual=!1}},x=async()=>{let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:`${B(new Date)}-01-01`,fechaFin:`${B(new Date)}-12-31`,apartado:"ReporteRanking",accion:"mpPlanificacionesEquiposSubsecciones",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.totalEquipos=a.totalEquipos,e.datosMP.totalEquiposConPlanificacion=a.totalEquiposConPlanificacion,e.datosMP.totalEquiposSinPlanificacion=a.totalEquiposSinPlanificacion,a.totalEquipos>0&&(e.datosMP.totalEquiposPlanCompleto=(100/a.totalEquipos*a.totalEquiposPlanCompleto).toFixed(1))}},p=async()=>{e.skeleton.barrasCreados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:n.value.fechaInicio,fechaFin:n.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMCSubsecciones",status:"TODOS",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.mcCreados=a.global.mcGlobal,e.datosMP.mpCreados=a.global.mpGlobal,e.datosMP.mcmpCreados=a.secciones.sort(((a,e)=>e.mp-a.mp)),e.skeleton.barrasCreados=!1}},g=async()=>{e.skeleton.barrasSolucionados=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:n.value.fechaInicio,fechaFin:n.value.fechaFin,apartado:"ReporteRanking",accion:"MPvsMCSubsecciones",status:"SOLUCIONADO",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data;e.datosMP.mcFinalizado=a.global.mcGlobal,e.datosMP.mpFinalizado=a.global.mpGlobal,e.datosMP.mcmpFinalizados=a.secciones.sort(((a,e)=>e.mp-a.mp)),e.skeleton.barrasSolucionados=!1}},h=async()=>{e.skeleton.ranking=!0;let o=0;0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:n.value.fechaInicio,fechaFin:n.value.fechaFin,apartado:"ReporteRanking",accion:"rankingMPSubsecciones",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data.creados;a&&(a.sort(((a,e)=>e.total-a.total)),e.datosMP.rankingMPCreadas=a,a.forEach(((a,s)=>{a.idDestino==o&&(e.datosMP.rankingCreadas=s+1)})));const s=i.data.data.solucionados;s&&(s.sort(((a,e)=>e.total-a.total)),e.datosMP.rankingMPFinalizada=s,s.forEach(((a,s)=>{a.idDestino==o&&(e.datosMP.rankingFinalizado=s+1)})));const t=i.data.data.pendientes;t&&(t.sort(((a,e)=>a.total-e.total)),e.datosMP.rankingMPAcumulado=t,t.forEach(((a,s)=>{a.idDestino==o&&(e.datosMP.rankingAcumulado=s+1)})));const l=i.data.data.mpmcCreados;l&&(l.sort(((a,e)=>a.total-e.total)),e.datosMP.rankingmcmpCreados=l),e.skeleton.ranking=!1}},b=async()=>{e.skeleton.rankingUsuarios=!0;let o=0;e.datosMP.creadosUsuarios=[],e.datosMP.solucionadosUsuarios=[],e.datosMP.acumuladosUsuarios=[],0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,fechaInicio:n.value.fechaInicio,fechaFin:n.value.fechaFin,apartado:"ReporteRanking",accion:"preventivosUsuarios",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){i.data.data.forEach((a=>{a.preventivosCreados>0&&e.datosMP.creadosUsuarios.push({idUsuario:a.idUsuario,nombre:a.nombre+" "+a.apellido,total:a.preventivosCreados,usuarioActual:!(!localStorage.getItem("usuario")||localStorage.getItem("usuario")!=a.idUsuario)}),a.preventivosSolucionados>0&&e.datosMP.solucionadosUsuarios.push({idUsuario:a.idUsuario,nombre:a.nombre+" "+a.apellido,total:a.preventivosSolucionados,usuarioActual:!(!localStorage.getItem("usuario")||localStorage.getItem("usuario")!=a.idUsuario)}),a.preventivosPendientes>0&&e.datosMP.acumuladosUsuarios.push({idUsuario:a.idUsuario,nombre:a.nombre+" "+a.apellido,total:a.preventivosPendientes,usuarioActual:!(!localStorage.getItem("usuario")||localStorage.getItem("usuario")!=a.idUsuario)})})),e.datosMP.acumuladosUsuarios.sort(((a,e)=>e.total-a.total)),e.datosMP.creadosUsuarios.sort(((a,e)=>e.total-a.total)),e.datosMP.solucionadosUsuarios.sort(((a,e)=>e.total-a.total)),e.skeleton.rankingUsuarios=!1}i.response||(e.skeleton.rankingUsuarios=!1)},v=async()=>{let o=0;e.datosMC.creadosUsuarios=[],e.datosMC.solucionadosUsuarios=[],e.datosMC.acumuladosUsuarios=[],0==s.params.idDestino&&localStorage.getItem("idDestino")>0&&10!=localStorage.getItem("idDestino")&&(o=localStorage.getItem("idDestino")),s.params.idDestino>0&&10!=s.params.idDestino&&(o=s.params.idDestino);const t={idUsuario:0,idDestino:o,apartado:"ReporteRanking",accion:"detalleSeccion",idSeccion:s.params.idSeccion},i=await a("peticion",t);if(i.response){const a=i.data.data[0];e.seccion=a.seccion}},y=(a,e,s)=>{const o=G(E(new Date,{days:5}),"yyyy-MM-dd"),t=G(new Date,"yyyy-MM-dd");if(!localStorage.getItem("fechas"))return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),n.value.fechaInicio=o,void(n.value.fechaFin=t);if(localStorage.getItem("fechas")){const i=JSON.parse(localStorage.getItem("fechas"));if("cargar"==s&&i.fechaInicio&&i.fechaFin)return n.value.fechaInicio=i.fechaInicio,void(n.value.fechaFin=i.fechaFin);if("actualizar"==s&&i.fechaInicio&&i.fechaFin)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:a,fechaFin:e})),n.value.fechaInicio=a,void(n.value.fechaFin=e);if("cargar"==s||"actualizar"==s)return localStorage.setItem("fechas",JSON.stringify({fechaInicio:o,fechaFin:t})),n.value.fechaInicio=o,void(n.value.fechaFin=t)}};return{aplicar:d,graficar:u,arrayGrafica:i,planificacionAnual:f,planificacionAnualEquipos:x,skeleton:o,datosMP:t,fechas:n,fechaA:r,fechaB:c,mcmpCreados:p,mcmpFinalizados:g,rankingGlobal:h,preventivosUsuarios:b,router:s,seccion:l}}};d("data-v-22a958ee");const Er={class:"p-2 md:p-6"},Rr={class:"text-2xl font-semibold text-gray-700 pb-4 text-center uppercase"},Nr=r(" TR Preventivo "),qr={class:"font-bold"},Br={class:"w-full flex flex-row items-center justify-center"},Tr={class:"bg-white flex items-center justify-start rounded-xl"},Lr={class:"p-3"},Vr=i("h1",{class:"text-xxs font-semibold"},"Día Inicial",-1),Hr={class:"p-3"},_r=i("h1",{class:"text-xxs font-semibold"},"Día Final",-1),Jr={class:"p-3"},$r={class:"w-full my-4 flex flex-col items-center justify-start"},Xr={class:"flex flex-col items-center justify-start w-full md:w-7/12 bg-white shadow-sm mt-4 flex-wrap rounded-lg pb-10"},Kr={class:"mt-4 text-gray-700 font-semibold text-2xl uppercase leading-none"},Zr={class:"text-gray-500 text-xxs leading-none"},Wr=r(" Del "),Yr={class:"font-bold"},Qr=r(" al "),ac={class:"font-bold"},ec={key:0,class:"w-full h-80 p-6"},sc=[i("div",{class:"bg-gray-200 animate-pulse w-full h-full rounded-lg"},null,-1)],oc={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},tc={class:"text-gray-500 text-xxs leading-none mb-4"},ic=r(" Del "),lc={class:"font-bold"},nc=r(" al "),rc={class:"font-bold"},cc={class:"w-full flex flex-row flex-wrap items-center justify-around"},dc={class:"flex flex-col font-bold"},uc=i("h2",{class:"text-sm text-left leading-none creadas mb-1"}," Planificado ",-1),fc={class:"text-4xl text-left leading-none mb-3 text-gray-700"},mc=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," Finalizado ",-1),xc={class:"text-3xl text-left leading-none mb-3 text-gray-700"},pc=i("h2",{class:"text-sm text-left leading-none acumulado mb-1"}," Acumulado ",-1),gc={class:"text-2xl text-left leading-none mb-3 text-gray-700"},hc=i("h2",{class:"text-sm text-left leading-none finalizado"}," Finalizado sin plan previo ",-1),bc={class:"text-2xl text-left leading-none mb-3 text-gray-700"},vc={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible px-16"},yc={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},wc={class:"w-full flex flex-row flex-wrap items-center justify-around pt-8"},Mc={class:"flex flex-col font-bold md:w-1/4 w-1/2 md:mb-0 mb-4 items-center justify-center"},Cc={class:"text-4xl text-center leading-none text-gray-700"},kc=i("h2",{class:"text-sm text-center leading-none text-gray-500"}," Total Planificaciones ",-1),Sc={class:"flex flex-col font-bold md:w-1/4 w-1/2 md:mb-0 mb-4 items-center justify-center"},Pc={class:"text-4xl text-center leading-none text-gray-700"},Dc=i("h2",{class:"text-xs text-center leading-none text-gray-500 w-56"}," Con planificacion anual completa ",-1),Ic={class:"text-2xl text-center leading-none text-gray-700 mt-1 flex items-center justify-center"},zc={class:"flex flex-col font-bold md:w-1/4 w-1/2 md:mb-0 mb-4 items-center justify-center"},Fc={class:"text-4xl text-center leading-none text-gray-700"},Ac=i("h2",{class:"text-xs text-center leading-none text-gray-500 w-56"}," Con planificacion anual incompleta ",-1),Uc={class:"text-2xl text-center leading-none text-gray-700 mt-1"},jc={class:"flex flex-col font-bold md:w-1/4 w-1/2 mb-4 md:mb-0 items-center justify-center"},Oc={class:"text-4xl text-center leading-none text-gray-700"},Gc=i("h2",{class:"text-xs text-center leading-none text-gray-500 w-56"}," Sin planificacion ",-1),Ec={class:"text-2xl text-center leading-none text-gray-700 mt-1"},Rc={class:"w-full md:w-auto p-3 flex flex-row items-center justify-around overflow-x-auto md:overflow-x-visible"},Nc=i("div",{class:"hidden lg:flex flex-row items-center mr-4 text-xs font-semibold text-gray-500"},[i("div",{class:"bg-creadas w-4 h-4 rounded mr-2"}),i("h1",{class:"w-32"},"% de Planificacion anual completa.")],-1),qc={class:"flex flex-col font-bold"},Bc=i("h2",{class:"text-sm text-left leading-none text-gray-500 mt-3 mb-1"}," Total Activos ",-1),Tc={class:"text-4xl text-left leading-none mb-3 text-gray-700"},Lc=i("h2",{class:"text-sm text-left leading-none text-red-500 mb-1"}," Activos Sin Planificación ",-1),Vc={class:"text-3xl text-left leading-none mb-3 text-gray-700"},Hc=i("h2",{class:"text-sm text-left leading-none creadas mb-1"}," Equipos Con Planificación ",-1),_c={class:"text-2xl text-left leading-none mb-3 text-gray-700"},Jc=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," Equipos Con Plan al 100% ",-1),$c={class:"text-2xl text-left leading-none mb-3 text-gray-700"},Xc={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},Kc={class:"text-gray-500 text-xxs leading-none mb-4"},Zc=r(" Del "),Wc={class:"font-bold"},Yc=r(" al "),Qc={class:"font-bold"},ad={class:"w-full flex flex-row flex-wrap items-center justify-around"},ed={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible px-16"},sd={class:"flex flex-col font-bold"},od=i("h2",{class:"text-sm text-right leading-none proceso mb-1"}," MP Creados ",-1),td={class:"text-4xl text-right leading-none mb-3 text-gray-700"},id=i("h2",{class:"text-sm text-right leading-none proceso2 mb-1"}," MC Creadas ",-1),ld={class:"text-4xl text-right leading-none mb-3 text-gray-700"},nd={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},rd={class:"text-gray-500 text-xxs leading-none mb-4"},cd=r(" Del "),dd={class:"font-bold"},ud=r(" al "),fd={class:"font-bold"},md={class:"w-full flex flex-row flex-wrap items-center justify-around"},xd={class:"flex flex-col font-bold"},pd=i("h2",{class:"text-sm text-left leading-none finalizado mb-1"}," MP Finalizados ",-1),gd={class:"text-4xl text-left leading-none mb-3 text-gray-700"},hd=i("h2",{class:"text-sm text-left leading-none mp1 mb-1"}," MC Finalizados ",-1),bd={class:"text-4xl text-left leading-none mb-3 text-gray-700"},vd={class:"w-full md:w-auto p-3 flex flex-row items-start overflow-x-auto md:overflow-x-visible px-16"},yd={class:"mt-4 text-gray-700 font-semibold text-xl uppercase"},wd={class:"text-gray-500 text-xxs leading-none mb-4"},Md=r(" Del "),Cd={class:"font-bold"},kd=r(" al "),Sd={class:"font-bold"},Pd={class:"w-full flex flex-row flex-wrap items-center justify-around px-8 pt-6"},Dd={class:"mt-8 text-gray-700 font-semibold text-xl uppercase"},Id={class:"text-gray-500 text-xxs leading-none mb-4"},zd=r(" Del "),Fd={class:"font-bold"},Ad=r(" al "),Ud={class:"font-bold"},jd={class:"w-full flex flex-wrap flex-row items-start justify-around px-8 pt-6"};u(),Gr.render=function(l,r,d,u,f,m){const x=a("Iconos"),p=a("MarcadoresMp"),g=a("Graficotest"),h=a("GraficoCircularCss"),b=a("GraficoBarrasCssSkeleton"),v=a("GraficoBarrasCss"),y=a("Rankings"),w=a("RankingsUsuarios");return o(),e("div",Er,[i("h1",Rr,[Nr,i("span",qr,n(u.datosMP.destino)+" "+n(u.seccion),1)]),i("div",Br,[i("div",Tr,[i("div",Lr,[Vr,R(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[0]||(r[0]=a=>u.fechas.fechaInicio=a),onChange:r[1]||(r[1]=a=>l.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[N,u.fechas.fechaInicio]])]),s(x,{icono:"arrow-right",class:"w-4"}),i("div",Hr,[_r,R(i("input",{type:"date",class:"h-6 text-xxs w-32 border-none rounded-lg focus:border-purple-400","onUpdate:modelValue":r[2]||(r[2]=a=>u.fechas.fechaFin=a),onChange:r[3]||(r[3]=a=>l.comprobarFechas(u.fechas.fechaInicio,u.fechas.fechaFin,"actualizar"))},null,544),[[N,u.fechas.fechaFin]])]),i("div",Jr,[i("button",{class:"bg-purple-50 text-purple-500 py-1 px-2 rounded-lg text-sm border border-purple-400",onClick:r[4]||(r[4]=a=>{u.aplicar(),u.graficar(),u.mcmpCreados(),u.mcmpFinalizados(),u.rankingGlobal(),u.preventivosUsuarios()})}," Aplicar ")])])]),i("div",$r,[s(p,{creadas:u.datosMP.creadas,proceso:u.datosMP.pendientes,finalizado:u.datosMP.finalizados,acumulado:u.datosMP.acumulado,ranfinalizado:u.datosMP.rankingFinalizado,ranproceso:u.datosMP.rankingCreadas,ranacumulado:u.datosMP.rankingAcumulado,ratioCredas:u.datosMP.ratioCredas,ratioFinalizadas:u.datosMP.ratioFinalizadas,mediaHoras:u.datosMP.mediaHoras,visible:u.skeleton.marcadores},null,8,["creadas","proceso","finalizado","acumulado","ranfinalizado","ranproceso","ranacumulado","ratioCredas","ratioFinalizadas","mediaHoras","visible"]),i("div",Xr,[i("h1",Kr," Preventivos "+n(u.seccion),1),i("h1",Zr,[Wr,i("span",Yr,n(u.fechaA),1),Qr,i("span",ac,n(u.fechaB),1)]),u.skeleton.grafica?(o(),e("div",ec,sc)):t("",!0),u.skeleton.grafica?t("",!0):(o(),q(g,{key:1,class:"mt-4 rounded-lg shadow-sm",arrayGrafica:u.arrayGrafica},null,8,["arrayGrafica"])),i("h1",oc," PLANIFICADO VS FINALIZADO "+n(u.seccion),1),i("h1",tc,[ic,i("span",lc,n(u.fechaA),1),nc,i("span",rc,n(u.fechaB),1)]),i("div",cc,[i("div",dc,[uc,i("h1",fc,n(u.datosMP.totalSemanasPlanificadasGlobal),1),mc,i("h1",xc,n(u.datosMP.finalizados),1),pc,i("h1",gc,n(u.datosMP.pendientes),1),hc,i("h1",bc,n(u.datosMP.finalizadosPrevio),1)]),s(h,{texto:"Cumplimiento",color:"#00c4fa",color2:"#acedff",porcentaje:u.datosMP.totalSemanasPlanificadasGlobal>0?Math.round(100/u.datosMP.totalSemanasPlanificadasGlobal*u.datosMP.finalizados):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["porcentaje","visualizar"]),i("div",vc,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreadasVSSolucionadas},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMP.planificadoVSfinalizado,(a=>(o(),q(v,{key:a,seccion:a.subseccion,creadas:a.planificado,finalizadas:a.solucionados,color1:"#acedff",color2:"#34d399",vs:!1,visualizar:u.skeleton.barrasCreadasVSSolucionadas,rotarTexto:!0},null,8,["seccion","creadas","finalizadas","visualizar"])))),128))])]),i("h1",yc," PLANIFICACION MP "+n(u.seccion),1),i("div",wc,[i("div",Mc,[i("h1",Cc,n(u.datosMP.totalPlanificaciones),1),kc]),i("div",Sc,[i("h1",Pc,n(u.datosMP.totalConPlanificacionCompleta),1),Dc,i("h1",Ic,n(u.datosMP.totalPlanifiaciones>0?(100/u.datosMP.totalPlanifiaciones*u.datosMP.totalConPlanificacionCompleta).toFixed(1):0)+"% ",1)]),i("div",zc,[i("h1",Fc,n(u.datosMP.totalConPlanificacionIncompleta),1),Ac,i("h1",Uc,n(u.datosMP.totalPlanifiaciones>0?(100/u.datosMP.totalPlanifiaciones*u.datosMP.totalConPlanificacionIncompleta).toFixed(1):0)+"% ",1)]),i("div",jc,[i("h1",Oc,n(u.datosMP.totalSinPlanificacion),1),Gc,i("h1",Ec,n(u.datosMP.totalPlanifiaciones>0?(100/u.datosMP.totalPlanifiaciones*u.datosMP.totalSinPlanificacion).toFixed(1):0)+"% ",1)]),i("div",Rc,[Nc,(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasPlanificacionAnual},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMP.planeacionesSecciones,(a=>(o(),q(v,{key:a,seccion:a.subseccion,creadas:a.totalPlanificaciones,finalizadas:a.totalPlanificadosCompletos,color1:"#edf2f7",color2:"#00c4fa",vs:!1,visualizar:u.skeleton.barrasPlanificacionAnual,rotarTexto:!0},null,8,["seccion","creadas","finalizadas","visualizar"])))),128))]),i("div",qc,[Bc,i("h1",Tc,n(u.datosMP.totalEquipos),1),Lc,i("h1",Vc,n(u.datosMP.totalEquiposSinPlanificacion),1),Hc,i("h1",_c,n(u.datosMP.totalEquiposConPlanificacion),1),Jc,i("h1",$c,n(u.datosMP.totalEquiposPlanCompleto)+"% ",1)])]),i("h1",Xc," Preventivo creado vs Incidencias creadas "+n(u.seccion),1),i("h1",Kc,[Zc,i("span",Wc,n(u.fechaA),1),Yc,i("span",Qc,n(u.fechaB),1)]),i("div",ad,[i("div",ed,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasCreados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMP.mcmpCreados,(a=>(o(),q(v,{key:a,seccion:a.subseccion,creadas:a.mp+a.mc,finalizadas:a.mp,color1:"#ffe39c",color2:"#fbbf24",vs:!0,visualizar:u.skeleton.barrasCreados,rotarTexto:!0},null,8,["seccion","creadas","finalizadas","visualizar"])))),128))]),s(h,{texto:"MP CREADOS",color:"#fbbf24",color2:"#ffe39c",porcentaje:u.datosMP.mpCreados>0?Math.round(100/(u.datosMP.mpCreados+u.datosMP.mcCreados)*u.datosMP.mpCreados):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasCreados},null,8,["porcentaje","visualizar"]),i("div",sd,[od,i("h1",td,n(u.datosMP.mpCreados),1),id,i("h1",ld,n(u.datosMP.mcCreados),1)])]),i("h1",nd," Preventivo solucionado vs Incidencias solucionadas "+n(u.seccion),1),i("h1",rd,[cd,i("span",dd,n(u.fechaA),1),ud,i("span",fd,n(u.fechaB),1)]),i("div",md,[i("div",xd,[pd,i("h1",gd,n(u.datosMP.mpFinalizado),1),hd,i("h1",bd,n(u.datosMP.mcFinalizado),1)]),s(h,{texto:"MP Finalizados",color:"#34d399",color2:"#96ffd9",porcentaje:u.datosMP.mpFinalizado>0?Math.round(100/(u.datosMP.mpFinalizado+u.datosMP.mcFinalizado)*u.datosMP.mpFinalizado):0,"tamaño":"14.3em",visualizar:u.skeleton.barrasSolucionados},null,8,["porcentaje","visualizar"]),i("div",vd,[(o(),e(c,null,S(11,(a=>s(b,{key:a,visualizar:u.skeleton.barrasSolucionados},null,8,["visualizar"]))),64)),(o(!0),e(c,null,S(u.datosMP.mcmpFinalizados,(a=>(o(),q(v,{key:a,seccion:a.subseccion,creadas:a.mc+a.mp,finalizadas:a.mp,color1:"#96ffd9",color2:"#34d399",vs:!0,visualizar:u.skeleton.barrasSolucionados,rotarTexto:!0},null,8,["seccion","creadas","finalizadas","visualizar"])))),128))])]),i("h1",yd," Rankings américa "+n(u.seccion),1),i("h1",wd,[Md,i("span",Cd,n(u.fechaA),1),kd,i("span",Sd,n(u.fechaB),1)]),i("div",Pd,[s(y,{nombre:"Más OT MP Creadas",color:"#00c4fa",menosAmas:!1,destinos:u.datosMP.rankingMPCreadas,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Más OT MP Solucionadas",color:"#34d399",menosAmas:!1,destinos:u.datosMP.rankingMPFinalizada,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Menos OT MP Acumuladas",color:"#563bff",menosAmas:!0,destinos:u.datosMP.rankingMPAcumulado,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"]),s(y,{nombre:"Mas MP vs MC",color:"#fbbf24",simbolo:"%",menosAmas:!1,destinos:u.datosMP.rankingmcmpCreados,visualizar:u.skeleton.ranking},null,8,["destinos","visualizar"])]),i("h1",Dd," Rankings Usuarios "+n(u.seccion),1),i("h1",Id,[zd,i("span",Fd,n(u.fechaA),1),Ad,i("span",Ud,n(u.fechaB),1)]),i("div",jd,[s(w,{nombre:"Creados por Usuarios",color:"#00c4fa",simbolo:"",menosAmas:!0,usuarios:u.datosMP.creadosUsuarios,visualizar:u.skeleton.rankingUsuarios},null,8,["usuarios","visualizar"]),s(w,{nombre:"Solucionados por Usuarios",color:"#34d399",simbolo:"",menosAmas:!0,usuarios:u.datosMP.solucionadosUsuarios,visualizar:u.skeleton.rankingUsuarios},null,8,["usuarios","visualizar"]),s(w,{nombre:"Acumulados por Usuarios",color:"#34d399",simbolo:"",menosAmas:!0,usuarios:u.datosMP.acumuladosUsuarios,visualizar:u.skeleton.rankingUsuarios},null,8,["usuarios","visualizar"])])])])])},Gr.__scopeId="data-v-22a958ee";const Od=[{path:"/mc/:idDestino",name:"Trmpmc",component:Ss},{path:"/mc/:idDestino/seccion/:idSeccion",name:"TrmcSubsecciones",component:st},{path:"/mp/:idDestino",name:"Trmp",component:Tl},{path:"/mp/:idDestino/seccion/:idSeccion",name:"TrmpSubsecciones",component:Gr}],Gd=T({history:L(),routes:Od});var Ed=V({state:{datosMC:{destino:"",creadas:0,enProceso:0,finalizado:0,acumulado:0,ratioCredas:0,ratioFinalizadas:0,mediaHoras:0,porcentajeSolucionado:0,rankingCreadas:0,rankingFinalizado:0,rankingAcumulado:0,mcFinalizado:0,mpFinalizado:0,mcmpFinalizado:[],mcCreados:0,mpCreados:0,mcmpCreados:[],rankingIncidenciasCreadas:[],rankingIncidenciasFinalizada:[],rankingEficiencia:[],rankingIncidenciasAcumulado:[],rankingmcmpCreados:[],creadosUsuarios:[],solucionadosUsuarios:[],acumuladosUsuarios:[]},datosMP:{destino:"",totalSemanasPlanificadasGlobal:0,creadas:0,planificados:0,pendientes:0,finalizados:0,finalizadosPrevio:0,acumulado:0,ratioCredas:0,ratioFinalizadas:0,mediaHoras:0,planificadoVSfinalizado:[],mcFinalizado:0,mpFinalizado:0,mcmpFinalizados:[],mcCreados:0,mpCreados:0,mcmpCreados:[],planeacionesSecciones:[],totalPlanifiaciones:0,totalConPlanifiacion:0,totalConPlanificacionCompleta:0,totalConPlanificacionIncompleta:0,totalSinPlanificacion:0,rankingmcmpCreados:[],rankingMPCreadas:[],rankingMPFinalizada:[],rankingMPAcumulado:[],rankingEficiencia:[],rankingCreadas:0,rankingFinalizado:0,rankingAcumulado:0,totalPlanificaciones:0,totalEquipos:0,totalEquiposConPlanificacion:0,totalEquiposPlanCompleto:0,totalEquiposSinPlanificacion:0,creadosUsuarios:[],solucionadosUsuarios:[],acumuladosUsuarios:[]},skeleton:{barrasCreadasVSSolucionadas:!0,barrasPlanificacionAnual:!0,barrasCreados:!0,barrasSolucionados:!0,ranking:!0,grafica:!0,marcadores:!0,rankingUsuarios:!1},array:[],arrayGrafica:[],arraySecciones:[],arrayRankingCreadas:[],seccion:"ZIA"},mutations:{},actions:{async peticion({commit:a},e){try{const a=await fetch("../api_v3/",{method:"POST",body:JSON.stringify(e)}),s=await a.json();return"SUCCESS"==s.response?{response:!0,data:s}:{response:!1,data:[]}}catch(s){return console.log(s),{response:!1,data:[]}}}},modules:{}});H(_).use(Ed).use(Gd).mount("#app");
